Player.Mods=Player.Mods||{};var Mods=Player.Mods;Mods.version="4.4.0";Mods.versionDate="2023-04-17";Mods.modOptions=Mods.modOptions||{};Mods.Load={};Mods.time=timestamp();var disable_options=!0,Load=Mods.Load,modOptions=Mods.modOptions,switchWorldBugFix=function(){};
String.prototype.toHHMMSS=function(b){var c=parseInt(this,10);b=Math.floor(c/3600);var f=Math.floor((c-3600*b)/60),c=c-3600*b-60*f,k="";0!==b&&(k=b+":");if(0!==f||""!==k)f=10>f&&""!==k?"0"+f:String(f),k+=f+":";return k=""===k?c+"s":k+(10>c?"0"+c:String(c))};
function getElem(b,c){if("string"!==typeof b)return null;var f=document.getElementById(b);if(null===f)return null;if("undefined"===typeof c)return f;for(var k in c)if("id"==k||"className"==k||"cssFloat"==k||"innerHTML"==k)f[k]=c[k];else if("string"===typeof c[k]&&f.setAttribute(k,c[k]),"function"===typeof c[k]&&(f[k]=c[k]),"number"===typeof c[k]&&(f[k]=""+c[k]),"object"===typeof c[k])for(var g in c[k])"style"==k&&(f.style[g]=c[k][g]),"setAttributes"==k&&f.setAttribute(g,"javascript: "+c[k][g]),"setFunctions"==
k&&(f[g]=c[k][g]);return f}
function createElem(b,c,f){if("undefined"===typeof b||"undefined"===c)return Mods.consoleLog("createElem error: no type or attachTo"),null;b=document.createElement(b);if("undefined"!=typeof f)for(var k in f)if("id"==k||"className"==k||"cssFloat"==k||"innerHTML"==k)b[k]=f[k];else if("string"===typeof f[k]&&b.setAttribute(k,f[k]),"function"===typeof f[k]&&(b[k]=f[k]),"number"===typeof f[k]&&(b[k]=""+f[k]),"object"===typeof f[k])for(var g in f[k])"style"==k&&(b.style[g]=f[k][g]),"setAttributes"==k&&
b.setAttribute(g,""+f[k][g]),"setFunctions"==k&&(b[g]=f[k][g]);if("string"===typeof c)getElem(c).appendChild(b);else if("object"===typeof c)c.appendChild(b);else return b}function formatLargeNumber(b,c){if(null===b)return null;if(0===b)return"0";c=!c||0>c?0:c;var f=b.toPrecision(2).split("e"),f=1===f.length?0:Math.floor(Math.min(f[1].slice(1),14)/3),k=1>f?b.toFixed(0+c):(b/Math.pow(10,3*f)).toFixed(1+c);return(0>k?k:Math.abs(k))+["","K","M","B","T"][f]}
function scaleSize(b,c,f,k){var g=k/f;f>=b&&1>=g?(f=b,k=f*g):k>=c&&(k=c,f=k/g);return[f,k]}function roundToDecimals(b,c){var f=Math.pow(10,c||0);return Math.round(b*f)/f}function addEvent(b,c,f){b.addEventListener?(b.addEventListener(c,f,!1),EventCache.add(b,c,f)):b.attachEvent?(b["e"+c+f]=f,b[c+f]=function(){b["e"+c+f](window.event)},b.attachEvent("on"+c,b[c+f]),EventCache.add(b,c,f)):b["on"+c]=b["e"+c+f]}function firstChar(b){return b.substring(0,1)}
var EventCache=function(){var b=[];return{listEvents:b,add:function(c,f,k){b.push(arguments)},flush:function(){var c,f;for(c=b.length-1;0<=c;--c)f=b[c],f[0].removeEventListener&&f[0].removeEventListener(f[1],f[2],f[3]),"on"!=f[1].substring(0,2)&&(f[1]="on"+f[1]),f[0].detachEvent&&f[0].detachEvent(f[1],f[2]),f[0][f[1]]=null}}}();Player.is_mod_dev=function(b){return/^(dendrek|witwiz)$/.test(b)};
Mods.TranslationHandler=function(){function b(b,c){f&&console.log("ERROR: Mods TranslationHandler: "+b,c||"");return!1}var c=this,f=!1,k=[],g=!1,m={calendar:_tc,errors:_te,"interface":_ti,item_description:_tit,mods:_tm,names:_tn,achievements:_ta,quests:_tq},n=[];this.getInstance=function(){return c};this.registerItems=function(c){var f=typeof c;if("string"!==f&&"array"!==f)return b("Attempted to register invalid data type:",c);c="string"===f?[c]:c||[];for(var g in c)lang.en.mods[c[g]]="";return!0};
this.translate=function(c,g){if(0===arguments.length)return b("No translation arguments supplied:",data);g=g||{};var k="mods",n=g.data_tm||!1,u=!1;g.data_tm&&delete g.data_tm;g.ns&&m[g.ns]&&(k=g.ns);var z=(0,m[k])(c,g);"mods"==k&&1==z.length&&"-"==z.charAt(0)&&(u=!0);k=u?"":z;if(g.fn)switch(g.fn){case "capitaliseFirstLetter":k=capitaliseFirstLetter(k);break;case "firstChar":k=firstChar(k);break;case "toUpperCase":k=k.toUpperCase()}var u="",w;for(w in g)u+="data-"+w+'="'+g[w]+'" ';k=n?'<span data-tm="'+
c+'" '+u.trim()+">"+k+"</span>":k;f&&(k="["+Translate.lang+"] "+k);return k};this.translate_interface=function(f,g){if(0===arguments.length)return b("No translation arguments supplied:",data);g=g||{};g.data_tm=!0;return c.translate(f,g)};this.set_language=function(b){g(b);for(var c in n)b=n[c],"function"===typeof b&&b()};this.toggleDebug=function(b){f=b||!f};this.onSetLanguage=function(b){-1==n.indexOf(b)&&n.push(b)};this.toEnglish=function(b){};(function(){for(var b in k)lang.en.mods[k[b]]="";g=
Translate.set_language;Translate.set_language=c.set_language;_tm=c.translate;_tmi=c.translate_interface})();return this};
Mods.TemplateHandler=function(){function b(b){return"undefined"!=typeof CompiledTemplate[b]?!0:!1}var c=this,f={};this.getInstance=function(){return c};this.register=function(c,g,m){if(!b[c]||m)CompiledTemplate[c]=Handlebars.compile(g),f[c]=g};this.remove=function(c){b[c]&&(delete f[c],delete CompiledTemplate[c])};this.recompileTemplates=function(){for(var b in f)c.register(b,f[b],!0)};return this};
Mods.initialize=function(){Mods.updatePatches();Mods.HandlebarsOverides=new Mods.TemplateHandler;Mods.Translations=new Mods.TranslationHandler;Mods.Translations.onSetLanguage(Mods.HandlebarsOverides.recompileTemplates);Player.is_mod_dev(players[0].name);Mods.modOptionsTypes={text:{type:"text",createElement:"span",closeElement:"span",opt_span:"all",style:{"":""}},checkbox:{createElement:"input type='checkbox'",style:{width:".8em",height:".8em",margin:"0px","margin-right":"6px"}},radio:{type:"radio",
createElement:"input type='radio'",style:{width:".8em",height:".8em",margin:"0px","margin-right":"6px"}},button:{type:"button",createElement:"button",closeElement:"button",className:"market_select pointer",opt_span:"all",style:{margin:"0px","font-size":"1em"}},block_color:{createElement:"div",closeElement:"div",opt_span:"all",style:{border:"1px solid #666666",width:"100px",height:"20px"}}};Mods.modOptionsVersion=function(){var b={fullscreen:{id:"fullscreen",name:"FullScreen Mode",shortname:"FullScreen Mode",
description1:"Enable full-screen mode.",description2:"This mod allows to display the game on the whole screen. It is only suggested on PC (no mobile devices). WARNING: on slow devices, it may affect game performance. After loading the mod, enable full screen mode in the options menu.",load:!1,loaded:!1,newmod:!1,updated:!1,time:0},autocast:{id:"autocast",name:"Auto Cast",shortname:"Auto Cast",description1:"Enable auto-casting equipped magic.",description2:"This mod enables auto-casting magic (which becomes automatic when engaging in combat). It is disabled by default, to turn it on enable Autocast in game options.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0},newmap:{id:"newmap",name:"Enhanced Map",shortname:"Enhanced Map",description1:"Enhances game map with several added details.",description2:"Map now shows current position and details, including travel signs, mobs, bosses, resource spots and POI. In dungeons, fellow players are shown in the full map. Mimimap shows bigger dots, yellow-colored for friends.",load:!1,loaded:!1,newmod:!1,updated:!1,time:0},newmarket:{id:"newmarket",name:"Enhanced Market",shortname:"Enhanced Market",
description1:"Adds various helpers for market interface.",description2:"Allows resubmit or edit of market offers, display target player for transactions, highlights offers directed to the player and other market improvements. Adds Trade channel.",load:!1,loaded:!1,newmod:!1,updated:!1,time:0},gearmd:{id:"gearmd",name:"Gear Screen Mod",shortname:"Gear Mod",description1:"Enable a gear menu, to show what you have equipped.",description2:"From your Inventory, click (Show Equipment) to access a gear screen, where you can easily see what you have equipped and what you're missing. This screen can be moved! And click 'Equipped' to switch it to 'Vanity Set.' Using the in-game wiki search under Items, then use (Try On) to equip items to your Vanity Set!",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0}};b.petinv={id:"petinv",name:"Pet Inventory",shortname:"Pet Inventory",description1:"Attaches the pet inventory to the main one.",description2:"You will see the Pet's inventory beneath your main inventory. You will also be able to transfer items between the two inventories very easily. By default, left-clicking items will send them from your inventory to your Pet's and shift+clicking will cause you to use/equip items. Additional features include: (unload) and (load) to unload/load all pet-inventory items quickly.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0,options:{0:{id:"shiftclick",name:"Allow shift+click to send items to pet chest.",description:"If toggled on, shift+click sends items from your inventory to the pet chest, while left-click uses/equips items. If toggled off, shift+click uses/equips items, while left-click sends items from your inventory to the pet chest.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;petinv&apos;,&apos;shiftclick&apos;);"},1:{id:"petexp",
name:"Hide the Pet's exp/evolution on the pet chest.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;petinv&apos;,&apos;petexp&apos;);"},2:{id:"pettext",name:"Hide text/information above pet inventory.",description:"If toggled off, the 'Pet/'s chest title, as well as the greyed text and checkbox will be hidden.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;petinv&apos;,&apos;pettext&apos;);",options:{0:{id:"0",name:"Hide 'Pet/'s chest'.",
type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;petinv&apos;,&apos;pettext&apos;,&apos;0&apos;);"}}}}};b.mosmob={id:"mosmob",name:"Mouseover Stats",shortname:"Mouseover Stats",description1:"When you mouseover a mob, an item, or an object, you'll be able to see its stats.",description2:"The stats shown are 'A' for accuracy, 'S' for strength, 'D' for defence, and 'Hp' for health. Objects show a description or required levels. A game options allows to tweak panel appearance.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0,options:{0:{id:"appearance",name:"Choose how the mob's stats appear.",description:"When you mouseover a mob, you will see its stats: accuracy, strength, defense and health. You can decide here how those values are shown.",type:Mods.modOptionsTypes.text,options:{0:{id:"appearance",name:"(A0, S0, D0, H5)",type:Mods.modOptionsTypes.radio,value:"0",onclick:"javascript: Mods.modOptions_options(&apos;mosmob&apos;,&apos;appearance&apos;);"},1:{id:"appearance",
name:"(Acc0, Str0, Def0, Hp5)",type:Mods.modOptionsTypes.radio,value:"1",onclick:"javascript: Mods.modOptions_options(&apos;mosmob&apos;,&apos;appearance&apos;);"},2:{id:"appearance",name:"(0 / 0 / 0 | 5)",type:Mods.modOptionsTypes.radio,value:"2",onclick:"javascript: Mods.modOptions_options(&apos;mosmob&apos;,&apos;appearance&apos;);"}}},1:{id:"twolines",name:"Show the mob's stats below the mob's name.",description:"When toggled on, you'll see two lines of text: 1) level and name, 2) stats. When toggled off, the name and stats all appear on one line.",
type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;mosmob&apos;,&apos;twolines&apos;);"},2:{id:"color",name:"Set color of mob's stats based on difficulty.",description:"When toggled on, the mob's stats will be compared to your own. If it's stronger, the stat will be red, if much weaker, the stat will be green. Stats within your combat range will be yellow.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;mosmob&apos;,&apos;color&apos;);"}}};
b.health={id:"health",name:"Updated Health Bar",shortname:"Health Bar",description1:"Will now display health values for you and your target.",description2:"You'll see current health values on your and your target's health bars that adjust as you take/deal damage or heal.",load:!1,loaded:!1,newmod:!1,updated:!1,time:0,options:{0:{id:"capitalize",name:"Capitalize your name.",description:"The game's default is to show your name in lower case. Choose this option to have your name shown in proper case.",
type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;health&apos;,&apos;capitalize&apos;);"},1:{id:"appearance",name:"Choose how the name/health/level appear.",type:Mods.modOptionsTypes.text,options:{0:{id:"appearance",name:"L1 White Rat (5)",description:"The mob's level will be shown in front of its name, and its current health will be shown in parenthesis.",type:Mods.modOptionsTypes.radio,value:"0",onclick:"javascript: Mods.modOptions_options(&apos;health&apos;,&apos;appearance&apos;);"},
1:{id:"appearance",name:"White Rat (5/5)",description:"The mob's level is hidden. Its current and max health are shown in parenthesis as ([current]/[max]).",type:Mods.modOptionsTypes.radio,value:"1",onclick:"javascript: Mods.modOptions_options(&apos;health&apos;,&apos;appearance&apos;);"},2:{id:"appearance",name:"White Rat (5/5 100%)",description:"The mob's level is hidden. Its current, max and percent health are shown in parenthesis as ([current]/[max] [percent]%).",type:Mods.modOptionsTypes.radio,
value:"2",onclick:"javascript: Mods.modOptions_options(&apos;health&apos;,&apos;appearance&apos;);"}}}}};b.chestm={id:"chestm",name:"Chest Interface",shortname:"Chest Interface",description1:"New options for sorting, withdrawing and depositing.",description2:"You have several options for how to sort items, including 'inventory first'; you can also use withdraw 'All' to fill your inventory quickly, or deposit 'All+' to deposit all unequipped items at once. (If you Ctrl+click an item in your inventory, All+ will also ignore that item; this is useful for items that you cannot equip.)",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0,options:{0:{id:"sortinv",name:"When sorting the chest, sort inventory items to the top.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;);",options:{0:{id:"0",name:"Choose highlight color.",type:Mods.modOptionsTypes.text,description:"Inventory items in your chest will have the border color you choose.",options:{0:{id:"chestm_sortinv_color",name:"No highlight color",type:Mods.modOptionsTypes.radio,
value:"0",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;,&apos;color&apos;);"},1:{id:"chestm_sortinv_color",type:Mods.modOptionsTypes.radio,value:"1",border:"#FFFFFF",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;,&apos;color&apos;);"},2:{id:"chestm_sortinv_color",type:Mods.modOptionsTypes.radio,value:"2",border:"#00FF00",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;,&apos;color&apos;);"},
3:{id:"chestm_sortinv_color",type:Mods.modOptionsTypes.radio,value:"3",border:"#FF00FF",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;,&apos;color&apos;);"},4:{id:"chestm_sortinv_color",type:Mods.modOptionsTypes.radio,value:"4",border:"#FFFF00",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortinv&apos;,&apos;color&apos;);"}}}}},1:{id:"sortfav",name:"When sorting the chest, sort favorited items to the top.",type:Mods.modOptionsTypes.checkbox,
onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;);",options:{0:{id:"0",name:"Choose highlight color.",type:Mods.modOptionsTypes.text,description:"Favorited items in your chest will have the border color you choose.",options:{0:{id:"chestm_sortfav_color",name:"No highlight color",type:Mods.modOptionsTypes.radio,value:"0",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;,&apos;color&apos;);"},1:{id:"chestm_sortfav_color",type:Mods.modOptionsTypes.radio,
value:"1",border:"#FFFFFF",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;,&apos;color&apos;);"},2:{id:"chestm_sortfav_color",type:Mods.modOptionsTypes.radio,value:"2",border:"#00FF00",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;,&apos;color&apos;);"},3:{id:"chestm_sortfav_color",type:Mods.modOptionsTypes.radio,value:"3",border:"#FF00FF",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;,&apos;color&apos;);"},
4:{id:"chestm_sortfav_color",type:Mods.modOptionsTypes.radio,value:"4",border:"#FFFF00",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;sortfav&apos;,&apos;color&apos;);"}}}}},2:{id:"hidecheckbox",name:"Hide additional sorting option checkboxes.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;hidecheckbox&apos;);"},3:{id:"gearsort",name:"Choose how gear is sub-sorted.",description:"Gear is already sorted by chategory (armor vs weapon vs jewelry). But can be further sub-sorted based on one of the following parameters.",
type:Mods.modOptionsTypes.text,options:{0:{id:"gearsort",name:"Sort by minimum level requirement.",type:Mods.modOptionsTypes.radio,value:"0",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;gearsort&apos;);"},1:{id:"gearsort",name:"Sort by armor type.",type:Mods.modOptionsTypes.radio,value:"1",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;gearsort&apos;);"},2:{id:"gearsort",name:"Sort by primary stat bonus.",type:Mods.modOptionsTypes.radio,value:"2",onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;gearsort&apos;);"}}},
4:{id:"allplus",name:"Hide the All+ deposit option.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;chestm&apos;,&apos;allplus&apos;);"}}};b.rclick={id:"rclick",name:"Right-Click Menu Extensions",shortname:"RightClick Menu Extensions",description1:"Right-clicking on mobs: 'Drops', 'Combat Analysis' and wiki access.",description2:"These are new menu options when you right click on mobs. Item Drops shows all items the mob is able to drop (and accurate drop rates); Combat Analysis shows the expected amount of damage that you and the mob will do. Right click on items/mobs allows wiki search. On a player, allows whispering. On inventory items allow to destroy all similar items and to search wiki. Additionally, this mod will show gathering success rates when used on mining nodes, trees, and fishing spots.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0,options:{0:{id:"dropitem",name:"Choose what the item 'Drops' option shows.",type:Mods.modOptionsTypes.text,options:{0:{id:"0",name:"Show 'Wiki' drop rates.",description:"The drop rates shown on the wiki are not accurate because they are not adjusted to the accurate in-game values. By default, this mod shows the adjusted drop rates. However, turning this option on will show the un-adjusted (aka 'wiki') rates.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;dropitem&apos;,&apos;0&apos;);"}}},
1:{id:"combat",name:"Choose what the 'Combat Analysis' option shows.",type:Mods.modOptionsTypes.text,options:{0:{id:"0",name:"Average damage",description:"This shows the actual average damage (over a large number of fights) that can be expected with your current gear. It takes into account that damage can never be less than 0. For example, a mob that normally hits you for 0, will sometimes hit you for more than 0. So its average damage has to be greater than 0.",type:Mods.modOptionsTypes.checkbox,
onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;combat&apos;,&apos;0&apos;);"},1:{id:"1",name:"Chance to hit for zero",description:"A 'miss' is a hit of zero (when you or the enemy take 0 damage). The higher this rate is, the more likely a miss will occur.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;combat&apos;,&apos;1&apos;);"},2:{id:"2",name:"Max damage",description:"Max damage is the highest possible melee hit that you or your enemy can do. You should avoid fighting a mob whose max hit is greater than your current health.",
type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;combat&apos;,&apos;2&apos;);"},3:{id:"3",name:"Ave. hits to kill",description:"Assuming you and the enemy start at full health, this is approximately how many hits it will normally take for one of you to kill the other.",type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;combat&apos;,&apos;3&apos;);"},4:{id:"4",name:"Ave. time to kill",description:"Assuming you and the enemy start at full health, this is approximately how many seconds it will normally take for one of you to kill the other.",
type:Mods.modOptionsTypes.checkbox,onclick:"javascript: Mods.modOptions_options(&apos;rclick&apos;,&apos;combat&apos;,&apos;4&apos;);"}}}}};b.magicm={id:"magicm",name:"Magic Damage Interface",shortname:"Magic Interface",description1:"Magic damage done now appears over the enemy.",description2:"When you cast spells, you will see the amount of damage they do appear over the enemy's head. Additionally, new keybinds are available for magic spells: 7 8 9 0 as well as the number pad 1 2 3 4.",load:!1,loaded:!1,
newmod:!1,updated:!1,time:0};b.wikimd={id:"wikimd",name:"In-Game Wiki",shortname:"In-Game Wiki",description1:"An in-game wiki will now be available in this menu.",description2:"You can use the wiki to browse the game's database for items/monsters/vendors to see information like stats, drops, vendor availability/prices, and craft recipes. There are plenty of options for searching the wiki (such as by name, by min-skill requirement, by type, etc) to make navigating it and finding what you're looking for easier. On crafting recipes, you can look at crafting formula or learn the formula for later use in the Forge Mod.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0};b.miscmd={id:"miscmd",name:"Miscellaneous Improvements",shortname:"Miscellaneous",description1:"Various improvements of the game's UI.",description2:"These are 'small' mods that didn't require individual load options. Included at the moment: 1) Indicators for items that will be saved upon death, 2) Toolbar at the top showing various useful information.",load:!1,loaded:!1,newmod:!1,updated:!1,time:0};b.chatmd={id:"chatmd",name:"Chat Extensions",shortname:"Chat Extensions",
description1:"Adds chat filters and commands.",description2:"A new chat filter (found in the Filters menu) has been added that blocks 'spam' messages, including: 'I think I'm missing something.' 'Cannot do that yet.' 'You are under attack!' 'You feel a bit better.' and 'It's a [object name]'; in addition, when you do /online, your friends will be yellow colored, and mods/admins as well with green/orange colors. Another option allows to enable links in chat. The mod also adds newbie tips, shown every 10 minutes (can be disabled from game options). Also, you can right-click a player's name in chat window to ignore, add/remove as friend. Also chat commands (ping, played, wiki...) are added.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0};b.farming={id:"farming",name:"Farming Improvements",shortname:"Farming Mod",description1:"Adds the ability to 'queue' farming actions.",description2:"Queued farming actions (seeding, harvesting and raking) will occur automatically once you are no longer busy with the previous action. You can queue one plot at a time, or the entire farm, if you like. Additional keybinds include: Ctrl (to queue actions) and Space (to toggle between Active and Paused). Also, the Island Deed now sends you on a path straight to the sign for a quick exist.",
load:!1,loaded:!1,newmod:!1,updated:!1,time:0};if(Mods.modOptions!=b)for(var c in b){null==Mods.modOptions[c]&&(Mods.modOptions[c]=b[c],Mods.modOptions[c].newmod=!0);for(var f in b[c])null==Mods.modOptions[c][f]&&(Mods.modOptions[c][f]=b[c][f],Mods.modOptions[c].updated=!0),Mods.modOptions[c][f]!=b[c][f]&&"boolean"!=typeof b[c][f]&&(Mods.modOptions[c][f]=b[c][f],Mods.modOptions[c][f].updated=!0)}};Mods.modOptionsVersion();Mods.modOptionsLoad=function(){var b={},c={},f={},k={},g;for(g in Mods.modOptions)b[Mods.modOptions[g].id]=
Mods.modOptions[g].load,f[Mods.modOptions[g].id]=Mods.modOptions[g].newmod;LStorage.set("modOptionsLoad",LStorage.get("modOptionsLoad")||JSON.stringify(b));LStorage.set("modOptionsNewmod",LStorage.get("modOptionsNewmod")||JSON.stringify(f));var c=JSON.parse(LStorage.get("modOptionsLoad")),k=JSON.parse(LStorage.get("modOptionsNewmod")),m;for(m in b)Mods.modOptions[m].load="boolean"==typeof c[m]?c[m]:b[m],Mods.modOptions[m].newmod="boolean"==typeof k[m]?k[m]:f[m]};Mods.modOptionsLoad();Mods.loadModsSelectAll=
function(b){for(var c in Mods.modOptions)getElem("checkbox_"+Mods.modOptions[c].id).checked=b};Mods.loadSelectedMods=function(b){if("undefined"!=typeof b&&void 0!==Mods.modOptions[b]){if(!Mods.modOptions[b].loaded){Mods.failedLoad(b);Timers.set("failed_load_mods",function(){Mods.failedLoad(!0)},1500);Mods.loadMod(b);Mods.modOptions[b].loaded=!0;var c=capitaliseFirstLetter(b);Mods.loadedMods.push(c)}Mods.modOptions[b].newmod=!1;Mods.modOptions[b].updated=!1;for(c=getElem("row_"+b);c.firstChild;)c.removeChild(c.firstChild);
createElem("td",c,{style:"padding-top: 8px; padding-bottom: 0px; font-weight: bold;",innerHTML:Mods.modOptions[b].name+"<span style='color:#FFFFFF; font-weight:normal;'>"+(Mods.modOptions[b].loaded?"("+_tmi("loaded")+")":"")+(Mods.modOptions[b].newmod?" ** "+_tmi("new").toUpperCase()+" **":Mods.modOptions[b].updated?" ** "+_tmi("updated",{fn:"capitaliseFirstLetter"})+"**":"")+"</span>",setAttributes:{colSpan:"3"}});getElem("mods_menu_newmods").style.display="none";getElem("mods_menu_updated").style.display=
"none";var f=JSON.parse(LStorage.get("modOptionsLoad")),k=JSON.parse(LStorage.get("modOptionsNewmod"));f[b]=!0;k[b]=!1}else{var f={},k={},g;for(g in Mods.modOptions){!getElem("checkbox_"+Mods.modOptions[g].id).checked||Mods.isLoaded(capitaliseFirstLetter(g))||Mods.modOptions[g].requires&&!Mods.isLoaded(Mods.modOptions[g].requires)||(Mods.failedLoad(g),Timers.set("failed_load_mods",function(){Mods.failedLoad(!0)},1500),Mods.loadMod(Mods.modOptions[g].id),Mods.modOptions[g].loaded=!0,c=capitaliseFirstLetter(g),
Mods.loadedMods.push(c));f[Mods.modOptions[g].id]=getElem("checkbox_"+Mods.modOptions[g].id).checked;Mods.modOptions[g].newmod=!1;k[Mods.modOptions[g].id]=!1;Mods.modOptions[g].updated=!1;for(c=getElem("row_"+Mods.modOptions[g].id);c.firstChild;)c.removeChild(c.firstChild);createElem("td",c,{style:"padding-top: 8px; padding-bottom: 0px; font-weight: bold;",innerHTML:_tmi(Mods.modOptions[g].name)+"<span style='color:#FFFFFF; font-weight:normal;'>"+(Mods.modOptions[g].loaded?" ("+_tmi("loaded")+")":
"")+(Mods.modOptions[g].newmod?" ** ("+_tmi("new").toUpperCase()+") **":Mods.modOptions[g].updated?" ** "+_tmi("updated",{fn:"capitaliseFirstLetter"})+" **":"")+"</span>",setAttributes:{colSpan:"3"}})}getElem("mods_menu_newmods").style.display="none";getElem("mods_menu_updated").style.display="none"}LStorage.set("modOptionsLoad",JSON.stringify(f));LStorage.set("modOptionsNewmod",JSON.stringify(k))};Mods.loadMod=function(b){Mods.modOptions[b].loaded||(Load[b](),Mods.modOptions[b].loaded=!0,Mods.modOptionsOptionsDisplay(b))};
Mods.loadModMenu_options=function(){getElem("mod_load_options").style.display="none";getElem("mod_load_mods_options").style.display="none";getElem("mod_options_options").style.display="block";getElem("mod_options_mods_options").style.display="block"};Mods.loadModMenu_load=function(){getElem("mod_load_options").style.display="block";getElem("mod_load_mods_options").style.display="block";getElem("mod_options_options").style.display="none";getElem("mod_options_mods_options").style.display="none"};Mods.modOptionsOptionsDisplay=
function(b){for(var c in Mods.modOptions)getElem("mod_options_options_"+Mods.modOptions[c].id).style.display="none";getElem("mod_options_options_"+b).style.display="block";Mods.modOptions[b].loaded?(getElem("mod_options_options_"+b+"_loaded").style.display="block",getElem("mod_options_options_"+b+"_notloaded").style.display="none"):(getElem("mod_options_options_"+b+"_loaded").style.display="none",getElem("mod_options_options_"+b+"_notloaded").style.display="block")};Mods.loadNewMods=function(){var b=
getElem("checkbox_enable_newmods").checked;if(b)for(var c in Mods.modOptions)Mods.modOptions[c].newmod&&(getElem("checkbox_"+Mods.modOptions[c].id).checked=!0);LStorage.set("loadNewMods",JSON.stringify(b))};Mods.loadModOptions=function(){["android","1"].indexOf(getParameterByName("inapp"));FormHelper.get_form("mods");createElem("div","mods_form_content",{id:"mod_load_mods_options",className:"common_border_bottom",style:"width: 99%; min-height: 24px; margin-bottom: 5px; font-size: .8em; display: block",
innerHTML:"<button id='mods_menu_load_all' class='market_select pointer' onclick='javascript:Mods.loadModsSelectAll(true);' style='float:left; margin:0px; margin-left:5px;'>"+_tmi("Select All")+"</button><button id='mods_menu_load_none' class='market_select pointer' onclick='javascript:Mods.loadModsSelectAll(false);' style='float:left; margin:0px; margin-left:6px;'>"+_tmi("Select None")+"</button><button id ='mods_menu_load_selected' class='market_select pointer' style='margin: 0px; margin-bottom: 2px;' onclick='javascript:Mods.loadSelectedMods();'>"+
_tmi("Load Selected")+"</button>"});createElem("div","mods_form_content",{id:"mod_load_options",className:"scrolling_allowed",style:"display: block; height: 250px; overflow-x: hidden;",innerHTML:"<span style='color:yellow; font-size:.8em; font-weight:bold; padding-left:4px;'>"+_tmi("Mod Pack version {version}",{version:Mods.version})+" "+_tmi("created by {created} - Maintained by {maintained}",{created:"Dendrek &amp; WitWiz",maintained:"-"})+"</span><table id='mod_options_table' class='scrolling_allowed' cellspacing='0' style='font-size: 0.8em; width:100%; margin-top:5px;'><tr id='mods_menu_newmods' style='color:#00FF00; font-weight:bold; display:none;'><td colspan='3'>** "+
_tmi("New Mods Available!")+" **<span style='color:#FFFFFF; float:right; font-weight:normal; margin-top:2px;'>"+_tmi("Always enable new mods")+"</span><input type='checkbox' id='checkbox_enable_newmods' style='width:.8em; height:.8em; float:right;' onclick='javascript:Mods.loadNewMods();'></td></tr><tr id='mods_menu_updated' style='color:#00FF00; font-weight:bold; display:none;'><td colspan='3'>** "+_tmi("Mods Updated!")+" ** &nbsp;&nbsp;&nbsp;<span style='font-weight:normal; color:#FFFFFF; float:right;'>("+
_tmi("reload your browser to enable the updates")+")</span></td></tr></table>"});createElem("div","mods_form_content",{id:"mod_options_options",className:"common_border_right",style:"width: 26%; height: 0px; padding-bottom: 4px; font-size: .8em; float: left; display: none; border-top: 1px solid #666666; border-right: 1px solid #666666; border-bottom: 1px solid #666666; overflow-x: hidden;"});createElem("div","mods_form_content",{id:"mod_options_mods_options",className:"scrolling_allowed",style:"width: 72.4%; min-height: 100%; margin-left: 1%; display: none; float: left; border-top: 1px solid #666666; border-left: 1px solid #666666; border-bottom: 1px solid #666666"});
createElem("span","mod_options_options",{id:"mod_options_name_title",style:"size: .8em; display: inline-block; float: left; clear: left; margin: 0px; margin-bottom: 14px; width: 98px; padding-top: 10px; padding-left: 6px; font-weight: bold; color: yellow",innerHTML:_tmi("Mod Options")});var b=!0,c="",f;for(f in Mods.modOptions){Mods.modOptions[f].newmod&&(getElem("mods_menu_newmods").style.display="");Mods.modOptions[f].updated&&!Mods.modOptions[f].newmod&&(getElem("mods_menu_updated").style.display=
"");c=(b=!1,"");createElem("tr","mod_options_table",{id:"row_"+Mods.modOptions[f].id,style:"font-size: 1em; color: #FF0; background-color: "+c});createElem("td","row_"+Mods.modOptions[f].id,{colSpan:"3",style:"font-weight: bold; padding: 6px 6px 0px 6px; border-top: 1px solid #666;",innerHTML:_tmi(Mods.modOptions[f].name)+"<span style='color:#FFFFFF; font-weight:normal;'>"+(Mods.modOptions[f].loaded?" ("+_tmi("loaded")+")":"")+(Mods.modOptions[f].newmod?" ** "+_tmi("New")+" **":Mods.modOptions[f].updated?
" ** "+_tmi("Updated")+" **":"")+"</span>"});var k="getElem(&apos;r2_td1_"+Mods.modOptions[f].id+"&apos;).style.paddingBottom",g="getElem(&apos;r2_td2_"+Mods.modOptions[f].id+"&apos;).style.paddingBottom",m="getElem(&apos;row3_"+Mods.modOptions[f].id+"&apos;).style.display";createElem("tr","mod_options_table",{id:"row2_"+Mods.modOptions[f].id,style:"font-size: 1em; color: #FFF; font-weight: normal; background-color: "+c});createElem("td","row2_"+Mods.modOptions[f].id,{id:"r2_td1_"+Mods.modOptions[f].id,
style:"width: 15px; padding: 0px 0px 6px 6px;",innerHTML:"<input id='checkbox_"+Mods.modOptions[f].id+"' type='checkbox' style='width:.8em; height:.8em; margin-right:6px;'>"});createElem("td","row2_"+Mods.modOptions[f].id,{id:"r2_td2_"+Mods.modOptions[f].id,colSpan:"2",style:"padding: 0px 0px 6px 6px;",innerHTML:_tmi(Mods.modOptions[f].description1)+"<span class='common_link' onclick='javascript: ( "+m+" == &apos;none&apos; ) ? ( "+m+" = &apos;&apos;, "+k+" = "+g+" = &apos;0px&apos; ) : ( "+m+" = &apos;none&apos;, "+
k+" = "+g+" = &apos;6px&apos; );' style='float:right; margin:0px;'>("+_tmi("more info")+")</span>"});createElem("tr","mod_options_table",{id:"row3_"+Mods.modOptions[f].id,style:"color: #FFF; background-color: "+c+"; display: none;"});createElem("td","row3_"+Mods.modOptions[f].id);createElem("td","row3_"+Mods.modOptions[f].id,{colSpan:"2",style:"padding: 0px 0px 6px 0px;",innerHTML:_tmi(Mods.modOptions[f].description2)});createElem("span","mod_options_options",{id:"mod_options_name_"+Mods.modOptions[f].id,
className:"common_link",style:"size: .8em; display: inline-block; float: left; clear: left; margin: 0px; padding: 8px 0px 10px 6px; width: 90%; border-top: 1px solid #666;",innerHTML:Mods.modOptions[f].shortname,onclick:function(){Mods.modOptionsOptionsDisplay(Mods.modOptions[f].id)}});createElem("div","mod_options_mods_options",{id:"mod_options_options_"+Mods.modOptions[f].id,style:"padding-top: 10px; padding-left: 5%; width: 95%; height: 95%; font-size: .8em; display: none;",innerHTML:"<span style='color:yellow; font-weight:bold; float:left;'>"+
_tmi(Mods.modOptions[f].name)+" "+_tmi("Options",{ns:"interface"})+"</span><span id='mod_options_options_"+Mods.modOptions[f].id+"_notloaded' style='margin-top:41px; width:100%; float:left; clear:left;'><span style='float:left; margin-bottom:4px; text-align:center; width:91%; '>"+_tmi("The {modname} mod is not loaded",{modname:_tmi(Mods.modOptions[f].name,{fn:"toLowerCase"})})+"...</span><button id='mod_options_options_load_"+Mods.modOptions[f].id+"' class='market_select pointer' type='button' style='font-size:1.25em; margin:0px; width:80px; left:45%; margin-left:-40px; float:left; clear:left; display:block; position:relative;' onclick='javascript:Mods.loadSelectedMods(&apos;"+
f+"&apos;);'>"+_tmi("Load Mod")+"</button></span><span id='mod_options_options_"+Mods.modOptions[f].id+"_loaded' style='margin-top:6px; margin-bottom:6px; width:100%; float:left; clear:left; display:none;'><table id='mod_options_options_"+Mods.modOptions[f].id+"_table' style='font-size: 0.8em; width:100%;'><tr><td style='width:17px;'></td><td style='width:17px;'></td><td style='width:17px;'></td><td></td></table></span>"});b=!b;getElem("checkbox_enable_newmods").checked&&Mods.modOptions[f].newmod&&
(Mods.modOptions[f].load=!0);getElem("checkbox_"+Mods.modOptions[f].id).checked=Mods.modOptions[f].load}b=!1;for(f in Mods.modOptions)b&&(getElem("mod_options_options_"+Mods.modOptions[f].id).style.display="none"),"block"==getElem("mod_options_options_"+Mods.modOptions[f].id).style.display&&(b=!0);Mods.modOptions.wikimd.loaded&&(Mods.Wikimd.loadDivs(),Mods.loadModMenu_options=function(){getElem("mod_load_options").style.display="none";getElem("mod_load_mods_options").style.display="none";getElem("mod_options_options").style.display=
"block";getElem("mod_options_mods_options").style.display="block";getElem("mod_wiki_options").style.display="none";getElem("mod_wiki_mods_options").style.display="none"},Mods.loadModMenu_load=function(){getElem("mod_load_options").style.display="block";getElem("mod_load_mods_options").style.display="block";getElem("mod_options_options").style.display="none";getElem("mod_options_mods_options").style.display="none";getElem("mod_wiki_options").style.display="none";getElem("mod_wiki_mods_options").style.display=
"none"},Mods.loadModMenu_wiki=function(){getElem("mod_load_options").style.display="none";getElem("mod_load_mods_options").style.display="none";getElem("mod_options_options").style.display="none";getElem("mod_options_mods_options").style.display="none";getElem("mod_wiki_options").style.display="block";getElem("mod_wiki_mods_options").style.display="block"})};Mods.initializeOptionsMenu=function(){var b="",c=Mods.modOptions,f="",k=0,g;for(g in c)if(void 0!==c[g].options){var m=c[g].options,n;for(n in m)if(void 0!==
m[n].id&&(b=g+"_"+m[n].id,f=m[n],k=0,Mods.populateOptionsMenu(b,f,k,c[g].id),void 0!==m[n].options)){var p=m[n].options,t;for(t in p)if(void 0!==p[t].id&&(b=g+"_"+n+"_"+p[t].id,f=p[t],k=1,Mods.populateOptionsMenu(b,f,k,c[g].id),void 0!==p[t].options)){var r=p[t].options,v;for(v in r)void 0!==r[v].id&&(b=g+"_"+n+"_"+t+"_"+r[v].id,f=r[v],k=2,Mods.populateOptionsMenu(b,f,k,c[g].id))}}}else b=g+"_0options",f=null,k=0,Mods.populateOptionsMenu(b,f,k,c[g].id)};Mods.populateOptionsMenu=function(b,c,f,k){if(null!==
c){var g=c.type,m="mod_options_options_row_"+b,n="id='mod_options_options_"+b+"' ",p="<"+g.createElement+(void 0!==c.value?" value='"+c.value+"' ":" "),t=void 0!==g["class"]?"class='"+g["class"]+"' ":"",r="style='' ",v=void 0!==c.onclick?"onclick='"+c.onclick+"'>":"'>",u=void 0!==g.closeElement?"</"+g.closeElement+"></td>":"</td>",z="",w="",x="";b="mod_options_options_row2_"+b+(void 0!==c.value?"_"+c.value:"");var F="",y=0,G=0,D;for(D in g.style)r=r.slice(0,-2)+D+":"+g.style[D]+";' ";"all"==g.opt_span?
y=4-f:(y=1,G=4-(f+y));void 0!==c.description&&(x="<span class='common_link' onclick='javascript:getElem(&apos;"+b+"&apos;).style.display = getElem(&apos;"+b+"&apos;).style.display == &apos;none&apos;? &apos;&apos;:&apos;none&apos;' style='float:right; margin:0px;'>(more info)</span></td>",F="<td colspan='"+f+"'></td><td colspan='"+(4-f)+"'><span>"+c.description+"</span></td>");"text"==g.type?z=c.name+x:"button"==g.type?(z=c.name,w=x+"</td>",u=void 0!==g.closeElement?"</"+g.closeElement+">":""):w=
void 0!==c.border?"<div style='height:10px; width:40px; margin-top:1px; border:1px solid "+c.border+";'></div>":void 0!==c.background?"<div style='height:11px; width:40px; margin-top:1px; background:"+c.border+";'></div>":"<td colspan='"+G+"'><span>"+c.name+"</span>"+x;f=0<f?"<td colspan='"+f+"'><td colspan='"+y+"'>":"<td colspan='"+y+"'>"}else m="mod_options_options_row_"+b,n="mod_options_options_"+b,p="<span ",t="",r="style='' ",v=">",u="</span></td>",z="This mod does not have any options that can be changed.",
w="",b="mod_options_options_row2_"+b,F="",f="<td colspan='4'>";c=document.createElement("tr");c.id=m;c.innerHTML=f+p+n+t+r+v+z+u+w;c.style.marginTop="12px";getElem("mod_options_options_"+k+"_table").appendChild(c);f=document.createElement("tr");f.id=b;f.innerHTML=F;f.style.display="none";getElem("mod_options_options_"+k+"_table").appendChild(f);f=document.createElement("tr");f.innerHTML="&nbsp;";f.style.fontSize=".3em";getElem("mod_options_options_"+k+"_table").appendChild(f)};Mods.loadOptionsMenu=
function(b){var c=!0;void 0!==Mods.modOptions[b]&&(c=!1);for(var f in Mods.modOptions){var k=Mods.modOptions[f];if((!c&&f==b||c)&&void 0!==k.options&&k.loaded){var k=k.options,g=JSON.parse(LStorage.get(f+"_options")),m;for(m in k)if("radio"==k[m].type.type?(getElem("mod_options_options_"+f+"_"+k[m].id).value=g[f][k[m].id]||0,Mods.modOptions_options(f,k[m].id)):"checkbox"==k[m].type.type&&(getElem("mod_options_options_"+f+"_"+k[m].id).checked=g[f][k[m].id]||!1,Mods.modOptions_options(f,k[m].id)),void 0!==
k.options){var n=k.options,p;for(p in n)"radio"==n[p].type.type?(getElem("mod_options_options_"+f+"_"+m+"_"+n[p].id).value=g[f][m][n[p].id]||0,Mods.modOptions_options(f,k[m].id,n[p].id)):"checkbox"==n[p].type.type&&(getElem("mod_options_options_"+f+"_"+m+"_"+n[p].id).checked=g[f][m][n[p].id]||!1,Mods.modOptions_options(f,k[m].id,n[p].id))}}}};Mods.modOptions_options=function(b,c,f){};Load.variables();Load.functions();Mods.worldChangeUpdate()};
Mods.isLoaded=function(b){return-1!=Mods.loadedMods.indexOf(b)&&"undefined"==typeof Mods.failedToLoad[b.toLowerCase()]?!0:!1};Mods.updatePatches=function(){void 0==LStorage.get("MOD_SETTINGS_VERSION")&&(LStorage.get("RECIPE_U_LIST")&&LStorage.remove("RECIPE_U_LIST"),LStorage.set("MOD_SETTINGS_VERSION",Mods.version))};
Mods.enchantType=function(b){var c=!1;b=item_base[b]||!1;if(!b||"undefined"==typeof b.params.enchant_id)return!1;if(1==b.params.slot)c="wing";else if(b.params.min_accuracy||b.params.min_archery&&-1!=[4,3].indexOf(b.params.slot))c="weapon";else if(b.params.min_defense||b.params.min_magic||b.params.min_archery)c="armor";else if(b.params.min_health||b.params.min_jewelry)c="jewelry";return c};
Load.functions=function(){Mods.consoleLog=function(b){iOS||Android||console.log(b)};Mods.failedLoad=function(b){if(!0===b){b=!0;var c="",f;for(f in Mods.failedToLoad)modOptions[f]&&(b=!1,c+=modOptions[f].name+", ");c=b?_tm("Mods loaded and ready: {RPG MO} Mods Pack version {version}",{"RPG MO":"RPG MO",version:Mods.version}):_tm("Mod failed to load: {mod}",{mod:c.slice(0,-2)})+". "+_tm("Please inform the mod developers {names}. Try reloading the game and do not load this mod until this issue can be fixed.",
{names:"(Dendrek or WitWiz)"});quiet_mod_load||addChatText(c,void 0,COLOR.TEAL)}else Mods.failedToLoad[b]=1};Mods.timestamp=function(b){delete Mods.failedToLoad[b];Mods.consoleLog(b+" loaded ("+Math.round((timestamp()-modOptions[b].time)/10)/100+"s)")};Mods.findWithAttr=function(b,c,f){for(var k in b)if(b[k][c]==f)return k};ChatSystem.toggle=function(){var b;Mods.isLoaded("Wikimd")&&(b=Mods.Wikimd.chatSystemToggle());b||Captcha.active||Mods.chatSystemToggle()};Chat.set_hidden=function(){if(-1!=loadedMods.indexOf("Chatmd")&&
!1===Mods.Chatmd.set_hidden()||!1===Mods.set_hidden())return!1;-1!=loadedMods.indexOf("Tabs")&&(getElem("tabs").style.visibility="hidden",getElem("chat_resize").style.visibility="hidden")};Mods.timeConvert=function(b,c,f){var k,g,m;g={year:31536E3,day:86400,hour:3600,minute:60,second:1};b=(0<b?b:0)-(0<c?c:0);m="";b=1E3===f||.001===f?b/1E3:60===f||3600===f?b*f:b;for(k in g)1<=b/g[k]&&(c=Math.floor(b/g[k]),b-=c*g[k],m+=c+" "+k+sOrNoS(c)+", ");return m=m.slice(0,-2)};Mods.UpdateBase=Mods.UpdateBase||
updateBase;updateBase=function(){Mods.UpdateBase()};Mods.refreshHUD=Mods.refreshHUD||refreshHUD;refreshHUD=function(){Mods.refreshHUD();for(var b in loadedMods){var c=loadedMods[b];"undefined"!=typeof Mods[c]&&"undefined"!=typeof Mods[c].refreshHUD&&Mods[c].refreshHUD()}};inventoryClick=function(b){var c=Mods.oldInventoryClick(b);Mods.isLoaded("Gearmd")&&Mods.Gearmd.inventoryClick(b);return c};setCanvasSize=function(b){Mods.oldCanvasSize(b);Mods.setCanvasSize()};Mods.setCanvasSize=function(){for(var b=
0;3>b;b++)Mods.fontSize[b]=Math.min(1,Math.round((1+.4*(b-1))*current_ratio_y*10)/10)+"em";for(var c in loadedMods)b=loadedMods[c],"undefined"!=typeof Mods[b]&&"undefined"!=typeof Mods[b].setCanvasSize&&Mods[b].setCanvasSize();getElem("market_offer_popup")&&hasClass(getElem("market"),"hidden")&&Mods.Newmarket.hidedetails();Mods.isLoaded("Tabs")&&Mods.Tabs.resize()};Music.play=function(b,c){for(var f in loadedMods){var k=loadedMods[f];if("undefined"!=typeof Mods[k]&&"undefined"!=typeof Mods[k].onMapChange)Mods[k].onMapChange(players[0].map)}Mods.oldMusic.play(b,
c)};Inventory.equip=function(b,c,f){if(!Mods.inventoryEquip(b,c,f))return Mods.oldInventoryEquip(b,c,f)};Mods.inventoryEquip=function(b,c,f){var k=!1,g;for(g in loadedMods){var m=loadedMods[g];"undefined"!=typeof Mods[m]&&"undefined"!=typeof Mods[m].inventoryEquip&&(k=!0===Mods[m].inventoryEquip(b,c,f)||!0===k?!0:!1)}return k};document.addEventListener("keyup",function(b){Mods.eventListener("keyup",b.keyCode,keyMap.action(b)[0])});document.addEventListener("keydown",function(b){Mods.eventListener("keydown",
b.keyCode,keyMap.action(b)[0])});Mods.currentSocket=function(b){"object"===typeof b&&b.action&&Mods.socketOn(b.action,b.data,b)};Mods.socketOn=function(b,c,f){for(var k in loadedMods)void 0!==Mods[loadedMods[k]].socketOn&&-1!==Mods[loadedMods[k]].socketOn.actions.indexOf(b)&&Mods[loadedMods[k]].socketOn.fn(b,c,f)};socket.on("message",Mods.currentSocket);Mods.worldChangeUpdate=function(){Mods.currentWorldID=0;for(var b in ServerList.downloaded)if(ServerList.downloaded[b].url==ServerList.last_connected){Mods.currentWorldID=
ServerList.downloaded[b].world;break}if(0<Mods.currentWorldID)for(var c in loadedMods)if(b=loadedMods[c],"undefined"!=typeof Mods[b]&&"undefined"!=typeof Mods[b].onWorldChange)Mods[b].onWorldChange()};switchWorldBugFix=function(){socket.removeListener("message",Mods.currentSocket);socket.on("message",Mods.currentSocket);Mods.worldChangeUpdate()};Mods.eventListener=function(b,c,f){for(var k in loadedMods)void 0===Mods[loadedMods[k]].eventListener||!Mods[loadedMods[k]].eventListener.keys[b]||!0!==Mods[loadedMods[k]].eventListener.keys[b][0]&&
-1===Mods[loadedMods[k]].eventListener.keys[b].indexOf(c)&&-1==Mods[loadedMods[k]].eventListener.keys[b].indexOf(f)||Mods[loadedMods[k]].eventListener.fn(b,c,f)}};
Load.variables=function(){Mods.loadedMods=Mods.loadedMods||[];loadedMods=Mods.loadedMods;LStorage.set("enableNewMods",LStorage.get("enableNewMods","false"));Mods.disableInvClick=!1;Mods.oldCanvasSize=Mods.oldCanvasSize||setCanvasSize;Mods.oldInventoryEquip=Mods.oldInventoryEquip||Inventory.equip;Mods.failedToLoad=Mods.failedToLoad||{};Mods.set_hidden=Mods.set_hidden||Chat.set_hidden;Mods.fontSize=Mods.fontSize||{0:.7,1:1,2:1.3};Mods.marketReplace={" Of":":","'":"`",Necklace:"Neck.",Medallion:"Medal.",
"Platinum ":"Plat. ","Pet ":""," Scroll":"","Enchanted ":"Ench. ",Platemail:"Plate.",Helmet:"Helm.","Superior ":"Sup. "," Permission":"",Defense:"Def.",Accuracy:"Acc.",Strength:"Str.",Farming:"Farm.",Woodcutting:"WC.",Jewelry:"Jewel.",Cooking:"Cook.",Carpentry:"Carp.",Alchemy:"Alch.","Fishing ":"Fish. "," Fishing":" Fish.","Medium ":"Med. ",Teleport:"Tele."};Mods.oldInventoryClick=inventoryClick;Mods.chatSystemToggle=Mods.chatSystemToggle||ChatSystem.toggle;getElem("inventory").style.zIndex="199";
Mods.oldMusic=Mods.oldMusic||{};Mods.oldMusic.play=Mods.oldMusic.play||Music.play;Mods.currentWorldID=Mods.currentWorldID||0;Mods.Health=Mods.Health||{};Mods.Health.old_inAFight=Mods.Health.old_inAFight||BigMenu.in_a_fight;Mods.Rclick=Mods.Rclick||{};Mods.Rclick.oldActionMenu=Mods.Rclick.oldActionMenu||ActionMenu.create;Mods.Rclick.oldInvMenu=Mods.Rclick.oldInvMenu||InvMenu.create;Mods.Rclick.oldChestMenu=Mods.Rclick.oldChestMenu||ChestMenu.create;LStorage.set("infopanelmode",LStorage.get("infopanelmode")||
0);Mods.Mosmob=Mods.Mosmob||{};Mods.regular_onmousemove=Mods.regular_onmousemove||regular_onmousemove;LStorage.set("enhancedtooltip",LStorage.get("enhancedtooltip")?LStorage.get("enhancedtooltip"):isMobile()?JSON.stringify(0):JSON.stringify(1));Mods.Mosmob.enhanced=Mods.Mosmob.enhanced||{};Mods.Mosmob.enhanced=JSON.parse(LStorage.get("enhancedtooltip"));--Mods.Mosmob.enhanced;Mods.Tabs=Mods.Tabs||{};Mods.Newmarket=Mods.Newmarket||{};Mods.Newmarket.submitHolder=Mods.Newmarket.submitHolder||{};Mods.Newmarket.submitSorted=
Mods.Newmarket.submitSorted||[];Mods.Newmarket.submitQueued=Mods.Newmarket.submitQueued||!1;Mods.Newmap=Mods.Newmap||{};Mods.Kbind=Mods.Kbind||{};Mods.Tabs.wwMaxTabs=8;Mods.Tabs.wwCurrentTabs=Mods.Tabs.wwCurrentTabs||[];Mods.Tabs.wwTabContent=Mods.Tabs.wwTabContent||[];Mods.Tabs.chat_size_percent=.3;Mods.Tabs.chat_resize_timestamp=timestamp();LStorage.set("chestInv_color",LStorage.get("chestInv_color")||JSON.stringify("#C000FF"));LStorage.set("chestFav_color",LStorage.get("chestFav_color")||JSON.stringify("#FF8000"));
LStorage.set("chest_colCheck",LStorage.get("chest_colCheck")||"true");LStorage.set("chest_colCheckF",LStorage.get("chest_colCheckF")||"true");LStorage.set("sortFav_check",LStorage.get("sortFav_check")||"false");LStorage.set("sortInv_check",LStorage.get("sortInv_check")||"false");LStorage.set("chestArmorPriority",LStorage.get("chestArmorPriority")||"false");LStorage.set("chestCraftPriority",LStorage.get("chestCraftPriority")||"false");LStorage.set("chestPricePriority",LStorage.get("chestPricePriority")||
"false");LStorage.get("chestPlayerPriorities")&&"{object Object}"==LStorage.get("chestPlayerPriorities")&&LStorage.remove("chestPlayerPriorities");LStorage.set("chestPlayerPriorities",LStorage.get("chestPlayerPriorities")||JSON.stringify({}));LStorage.set("avoidAll",LStorage.get("avoidAll")||JSON.stringify({}));Mods.Chestm=Mods.Chestm||{};Mods.Chestm.chest_item_id=Mods.Chestm.chest_item_id||0;Mods.Chestm.tempChest=Mods.Chestm.tempChest||{};Mods.Chestm.inv_select_color=JSON.parse(LStorage.get("chestInv_color"));
Mods.Chestm.fav_select_color=JSON.parse(LStorage.get("chestFav_color"));Mods.Chestm.chest_colCheck=JSON.parse(LStorage.get("chest_colCheck"));Mods.Chestm.chest_colCheckF=JSON.parse(LStorage.get("chest_colCheckF"));Mods.Chestm.chest_sort_hidden=!0;Mods.Chestm.chest_search_hidden=!0;Mods.Chestm.sortFav_check=JSON.parse(LStorage.get("sortFav_check"));Mods.Chestm.sortInv_check=JSON.parse(LStorage.get("sortInv_check"));Mods.Chestm.armorPriority=JSON.parse(LStorage.get("chestArmorPriority"));Mods.Chestm.craftPriority=
JSON.parse(LStorage.get("chestCraftPriority"));Mods.Chestm.pricePriority=JSON.parse(LStorage.get("chestPricePriority"));Mods.Chestm.playerPriorities=JSON.parse(LStorage.get("chestPlayerPriorities"));Mods.Chestm.currentChestPage=1;Mods.Chestm.chestArmorPriorities={5:0,0:1,9:2,2:3,1:4,7:5,6:6,3:7,8:8,4:9};Mods.Chestm.chestCraftPriorities={3:0,8:1,4:2,7:3,5:4,0:5,9:6,2:7,1:8,6:9};Mods.Chestm.materialsPriorities={Jewel:0,Cut:1,Uncut:2,ore:3,Chunk:3,Sand:3,Clay:3,Copper:3,Zinc:3,Coal:3,Bar:4,Mould:4,Log:5,
Wood:5,Vial:6,Raw:7,Feather:8,Egg:9,Scale:10,Eye:11,Soil:12,Leaf:12,Seed:12,Grass:12,Hay:12,Wheat:12,Enchant:13,Teleport:14};Mods.Chestm.ctrlPressed=!1;Mods.Chestm.avoidAll=Mods.Chestm.avoidAll||JSON.parse(LStorage.get("avoidAll"));LStorage.set("autocastenabled",LStorage.get("autocastenabled")||JSON.stringify(1));getElem("options_form");Mods.Autocast=Mods.Autocast||{};Mods.Autocast.lastFullCast=timestamp();Mods.Autocast.enabled=JSON.parse(LStorage.get("autocastenabled"));--Mods.Autocast.enabled;Mods.Kbind=
Mods.Kbind||{};Mods.showBag=void 0==Mods.showBag?!1:Mods.showBag;Mods.Kbind.lastfoodeaten=timestamp();LStorage.set("announceBlock",LStorage.get("announceBlock")||JSON.stringify([]));LStorage.set("tradechatmode",LStorage.get("tradechatmode")||0);LStorage.set("marketpopup",LStorage.get("marketpopup")||!1);Mods.Newmarket.times=Mods.Newmarket.times||JSON.parse(LStorage.get("announceBlock"));Mods.Newmarket.announceList=Mods.Newmarket.announceList||{};Mods.Newmarket.announces=Mods.Newmarket.announces||
{messages:[],count:0};Mods.Newmarket.states=Mods.Newmarket.states||{};Mods.Newmarket.submitHolder=[];Mods.Newmarket.tradechatmode=JSON.parse(LStorage.get("tradechatmode"));--Mods.Newmarket.tradechatmode;Mods.Newmarket.infopannelmode=JSON.parse(LStorage.get("infopanelmode"));--Mods.Newmarket.infopannelmode;Mods.Newmarket.popup=JSON.parse(LStorage.get("marketpopup"));LStorage.set("fullscreenenabled",LStorage.get("fullscreenenabled")?LStorage.get("fullscreenenabled"):JSON.stringify(1));Mods.Fullscreen=
Mods.Fullscreen||{};Mods.Fullscreen.iMapBegin=Mods.Fullscreen.iMapBegin||iMapBegin;Mods.Fullscreen.jMapBegin=Mods.Fullscreen.jMapBegin||jMapBegin;Mods.Fullscreen.iMapTo=Mods.Fullscreen.iMapTo||iMapTo;Mods.Fullscreen.jMapTo=Mods.Fullscreen.jMapTo||jMapTo;Mods.Fullscreen.astarsearchOld=Mods.Fullscreen.astarsearchOld||astar.search;Mods.Fullscreen.enabled=JSON.parse(LStorage.get("fullscreenenabled"));--Mods.Fullscreen.enabled;LStorage.set("enableShiftClick",LStorage.get("enableShiftClick")||!1);Mods.Petinv=
Mods.Petinv||{};Mods.Petinv.enableShiftClick_check=JSON.parse(LStorage.get("enableShiftClick"));Mods.Petinv.invSendItem=!1;Mods.Petinv.petInv_toggle=players[0].pet.enabled?!0:!1;Mods.Magicm=Mods.Magicm||{};Mods.Magicm.enemy=Mods.Magicm.enemy||{};Mods.Magicm.magic_damage_timers=Mods.Magicm.magic_damage_timers||{0:0,1:0,2:0,3:0};Mods.Wikimd=Mods.Wikimd||{};Mods.Wikimd.newWikiLoad=Mods.Wikimd.newWikiLoad||{};Mods.Wikimd.oldWikiLoad=Mods.Wikimd.oldWikiLoad||{};Mods.Wikimd.item_formulas=Mods.Wikimd.item_formulas||
{};Mods.Wikimd.item_slots={0:"Helm",1:"Cape",2:"Chest",3:"R.Hand",4:"L.Hand",5:"Glove",6:"Boots",7:"Neck",8:"Ring",9:"none",10:"Magic",11:"Pants",12:"Pet",16:"Key",20:"Arrow",21:"Spirit"};Mods.Wikimd.oldSortList=Mods.Wikimd.oldSortList||[];Mods.Wikimd.oldSortValue=Mods.Wikimd.oldSortValue||"";Mods.Wikimd.newSortValue=Mods.Wikimd.newSortValue||"";Mods.Wikimd.oldSort=Mods.Wikimd.oldSort||{};Mods.Wikimd.oldSort={item:Mods.Wikimd.oldSort.item||"name",monster:Mods.Wikimd.oldSort.monster||"name",vendor:Mods.Wikimd.oldSort.vendor||
"name",craft:Mods.Wikimd.oldSort.craft||"name",pet:Mods.Wikimd.oldSort.pet||"name",breed:Mods.Wikimd.oldSort.breed||"name",spell:Mods.Wikimd.oldSort.spell||"name",arrow:Mods.Wikimd.oldSort.arrow||"name",enchant:Mods.Wikimd.oldSort.enchant||"name"};Mods.Wikimd.formulas=Mods.Wikimd.formulas||{};Mods.Wikimd.span={item:{wiki_r1_c0:{c:2,r:2}},monster:{wiki_r2_c0:{r:2},wiki_r3_c1:{c:5}},vendor:{wiki_r1_c0:{c:2},wiki_r1_c1:{c:5}},craft:{wiki_r1_c0:{c:2},wiki_r2_c0:{c:2},wiki_r2_c1:{c:5}},pet:{wiki_r1_c0:{c:0},
wiki_r2_c1:{c:5}},breed:{wiki_r1_c0:{r:2},wiki_r1_c1:{c:3}},spell:{wiki_r1_c0:{r:2}},arrow:{wiki_r1_c0:{r:2}},enchant:{wiki_r2_c2:{c:5}}};Mods.Wikimd.mouse={x:0,y:0};Mods.Wikimd.pet_family=Mods.Wikimd.pet_family||{};Mods.Wikimd.family=Mods.Wikimd.family||{};LazyLoad.css(cdn_url+"mod.css?v="+mod_version,function(){Mods.consoleLog("CSS Loaded")});LStorage.set("activeQuest",LStorage.get("activeQuest")||JSON.stringify(!1));LStorage.set("penalty_bonus",LStorage.get("penalty_bonus")||JSON.stringify("health"));
Mods.Miscmd=Mods.Miscmd||{};Mods.Miscmd.ideath=Mods.Miscmd.ideath||{};Mods.Miscmd.ideath.inventory=[];Mods.Miscmd.ideath.bgColor="#3A6";Mods.Miscmd.ideath.brColor="inherit";Mods.Miscmd.toolbar=Mods.Miscmd.toolbar||{};Mods.Miscmd.toolbar.oldDrawMap=Mods.Miscmd.toolbar.oldDrawMap||drawMap;Mods.Miscmd.toolbar.xpmessage=["Current experience rate is 2x"];Mods.Miscmd.toolbar.ids={};Mods.Miscmd.penalty=Mods.Miscmd.penalty||JSON.parse(LStorage.get("penalty_bonus"));Mods.Miscmd.oldPenaltyBonus=Mods.Miscmd.oldPenaltyBonus||
penalty_bonus;Mods.Miscmd.potions=Mods.Miscmd.potions||{};Mods.Miscmd.adps=[];Mods.Miscmd.maxtime=18E4;Mods.Miscmd.avgdps=0;Mods.Miscmd.maxdps=0;Mods.Miscmd.avgexp=0;Mods.Miscmd.dpsmode=!1;Mods.Miscmd.lastSkill={};LStorage.set("colorChannel",LStorage.get("colorChannel")||JSON.stringify(!1));LStorage.set("highlightFriends",LStorage.get("highlightFriends")||JSON.stringify(!0));LStorage.set("tipsenabled",LStorage.get("tipsenabled")?LStorage.get("tipsenabled"):JSON.stringify(0));LStorage.set("enableallchatts",
LStorage.get("enableallchatts")?LStorage.get("enableallchatts"):JSON.stringify(0));Mods.Chatmd=Mods.Chatmd||{};Mods.Chatmd.addChatText=Mods.Chatmd.addChatText||addChatText;Mods.Chatmd.colors={EN:"#FFFFFF",ST:"#D4D4D4",18:"#99FFC6",$$:"#F2A2F2","{M}":"#EAE330","default":"#FFDFC0",none:"#DDDD69"};Mods.Chatmd.ModCh=Mods.Chatmd.ModCh||{};Mods.Chatmd.ModCh.delay=Mods.Chatmd.ModCh.delay||!1;Mods.Chatmd.ModCh.channel="{M}";Mods.Chatmd.ModCh.regular_onclick=Mods.Chatmd.ModCh.regular_onclick||regular_onclick;
Mods.Chatmd.afkHolder=Mods.Chatmd.afkHolder||{};Mods.Chatmd.afkMessage=Mods.Chatmd.afkMessage||"";Mods.Chatmd.whispNames=Mods.Chatmd.whispNames||[];Mods.Chatmd.cycleWhisper=Mods.Chatmd.cycleWhisper||!0;Mods.Chatmd.oldDrawObject=Mods.Chatmd.oldDrawObject||drawObject;Mods.Chatmd.mooDelay=Mods.Chatmd.mooDelay||{};Mods.Chatmd.blockCommand=!1;Mods.Chatmd.enableallchatts=JSON.parse(LStorage.get("enableallchatts"));--Mods.Chatmd.enableallchatts;Mods.Chatmd.tipsenabled=JSON.parse(LStorage.get("tipsenabled"));
--Mods.Chatmd.tipsenabled;Mods.Chatmd.old_has_client_command=Mods.Chatmd.old_has_client_command||Chat.has_client_command;Mods.Chatmd.old_execute_client_command=Mods.Chatmd.old_execute_client_command||Chat.execute_client_command;Mods.Chatmd.spamItems=Mods.Chatmd.spamItems||[];Mods.Chatmd.modDevColorToggle=Mods.Chatmd.modDevColorToggle||JSON.parse(LStorage.get("moddevtoggle")||1)||1;Mods.Tabs.set_visible=Mods.Tabs.set_visible||Chat.set_visible;Mods.Tabs.chatMovement=Mods.Tabs.chatMovement||-1;Mods=
Mods||{};Mods.Farming=Mods.Farming||{};Mods.Farming.queue=Mods.Farming.queue||{};Mods.Farming.sortedQueue=Mods.Farming.sortedQueue||[];Mods.Farming.ctrlPressed=Mods.Farming.ctrlPressed||!1;Mods.Farming.queueHidden=Mods.Farming.queueHidden||!1;Mods.Farming.queuePaused=Mods.Farming.queuePaused||!1;Mods.Farming.wateringCanDisabled=Mods.Farming.wateringCanDisabled||!1;Mods.Farming.oldDefault=Mods.Farming.oldDefault||{water:DEFAULT_FUNCTIONS.water,spore:DEFAULT_FUNCTIONS.spore,rake:DEFAULT_FUNCTIONS.rake,
seed:DEFAULT_FUNCTIONS.seed,harvest:DEFAULT_FUNCTIONS.harvest,get_watering_can_id:Inventory.get_watering_can_id};Mods.Farming.oldInventoryEquip=Mods.Farming.oldInventoryEquip||Inventory.equip;Mods.Farming.oldMoveInPath=Mods.Farming.oldMoveInPath||moveInPath;LStorage.set("farming_options",LStorage.get("farming_options")||JSON.stringify({}));Mods.Farming.options=Mods.Farming.options||JSON.parse(LStorage.get("farming_options"));Mods.Farming.farming_queue_template=Handlebars.compile("<span style='width: 100%; display: block; float: left; color: #FF0; font-weight: bold; border-bottom: 1px solid #DDD; padding-bottom: 5px; margin-bottom: 2px;'>Farming Queue <span class='common_link' style='margin: 0; font-weight: normal; float: right;' onclick='Mods.Farming.queueOptions(true);'>(options)</span></span><span id='mods_farming_queue' style='width: 100%; float: left; display: block; margin-bottom: 2px; padding-bottom: 2px; overflow-y: hidden;'><span style='width: 100%; float: left; display: inline-block; font-weight: bold; color: #999;'><span style='float: left;'>Action:&nbsp;&nbsp;Object</span><span style='float: right;'>Coords</span></span></span><span style='width: 100%; float: left; display: inline-block; border-bottom: 1px solid #DDD; margin-bottom: 2px; padding-bottom: 4px;'><span style='float: left;'>Queued:&nbsp;<span id='mods_farming_total'>0</span></span><span class='common_link' style='margin: 0; float: right; display: block; font-weight: normal;' onclick='Mods.Farming.promptClear()'>(clear)</span></span><span style='color: #FF0;'>Action: <span id='mods_farming_action' style='color: #FFF; font-weight: normal;'>Active</span></span><span id='farming_queue_button' class='common_link' style='margin: 0; float: right; display: block; font-weight: normal;' onclick='Mods.Farming.pauseQueue(this)'>(queue)</span>");
Mods.Farming.farming_queue_action_template=Handlebars.compile("<span id='mods_farming_{{slot}}' style='width: 100%; float: left; display: inline-block; font-weight: normal;'><span>{{action}}:&nbsp;&nbsp;{{object}}</span><span style='float: right;'>({{i}}, {{j}})</span></span>");Mods.Farming.farming_queue_option_template=Handlebars.compile("<span style='color: #FF0; font-weight: bold; width: 100%; float: left; margin-bottom: 2px; padding-bottom: 5px; border-bottom: 1px solid #DDD;'>Farming Options</span><table style='color: #DDD;'><tr><td colspan='2'><div id='mods_farming_opt_hide' class='common_link' style='margin: 4px;' onclick='Mods.Farming.hideQueue()'>Hide queued window</div></td></tr><tr><td><input type='checkbox' id='mods_farming_opt_equipped' style='width: .8em; height: .8em;'></td><td><div style='margin: 3px;'>Meet requirements to queue action</div></td></tr><tr><td><input type='checkbox' id='mods_farming_opt_stop' style='width: .8em; height: .8em;'></td><td><div style='margin: 3px;'>Stop movement while queuing</div></td></tr><tr><td colspan='2'><div style='margin: 3px;'>Ctrl: Toggle Queuing</div></td></tr><tr><td colspan='2'><div style='margin: 3px;'>Space: Toggle Active/Paused</div></td></tr></table>");
Mods.Miscmd.default_open_nest=Mods.Miscmd.default_open_nest||Breeding.open_nest};
Load.rclick=function(){modOptions.rclick.time=timestamp();ActionMenu.mobDrops=function(b,c){var f="";if(c==BASE_TYPE.OBJECT){var k=_tm(object_base[b].name,{ns:"names"});addChatText(k+" "+_tm("drops"),void 0,COLOR.ORANGE);for(var g in object_base[b].params.results){var m={},n,p,t=0;n=0;p=object_base[b].params.results[g].returns;for(var r in p)if(!p[r].we_only||world_event_active){var k=object_base[b].params.results[g].skill,k=skills[0][k].current>skills[0][k].level?skills[0][k].current:skills[0][k].level,
v=p[r].chance||k>=p[r].level&&void 0!==p[r].max_chance&&Math.min(p[r].base_chance+(k-p[r].level)/100,p[r].max_chance)||Math.min(k>=p[r].level&&p[r].base_chance+(k-p[r].level)/100,1)||0;m[item_base[p[r].id].name]={percent:v*(1-n),xp:"undefined"==typeof p[r].xp?"":"("+p[r].xp+_tm("xp",{ns:"interface"})+") "};"undefined"!=typeof p[r].xp&&(t+=p[r].xp*v*(1-n));n+=m[item_base[p[r].id].name].percent}n=0;for(r in m)f=f+r+" "+Math.round(1E4*m[r].percent)/100+"% "+m[r].xp+"- ",n+=m[r].percent;f=0<Math.round(1E4*
(1-n))/100?f+_tm("No loot")+" "+Math.round(1E4*(1-n))/100+"%":f.slice(0,-3);0<t&&(t=Math.round(100*t)/100,f=f+"; "+_tm("avg")+": "+t+_tm("xp",{ns:"interface"}));f+=". ";addChatText(f,void 0,COLOR.WHITE);f=""}}else if(c==BASE_TYPE.NPC){if(npc_base[b].type==OBJECT_TYPE.SHOP){m={};k=_tm(npc_base[b].name,{ns:"names"});for(t in npc_base[b].temp.content)g=npc_base[b].temp.content[t],0<g.count&&(m[item_base[g.id].name]={stock:g.count});for(r in m)f=f+r+" ("+m[r].stock+") - ";f=""===f?capitaliseFirstLetter(_tm("nothing"))+
".":f.slice(0,-3)+".";addChatText(k+" "+_tm("sells"),void 0,COLOR.ORANGE)}else{m={};n=t=0;p=npc_base[b].params.drops;k=_tm(npc_base[b].name,{ns:"names"});for(r in p)if(!p[r].we_only||world_event_active)v=p[r].chance||skills[0][object_base[b].params.results[0].skill].level>=p[r].level&&void 0!==p[r].max_chance&&Math.min(p[r].base_chance+(skills[0][object_base[b].params.results[0].skill].level-p[r].level)/100,p[r].max_chance)||Math.min(skills[0][object_base[b].params.results[0].skill].level>=p[r].level&&
p[r].base_chance+(skills[0][object_base[b].params.results[0].skill].level-p[r].level)/100,1)||0,m[item_base[p[r].id].name]={percent:v*(1-n),xp:"undefined"==typeof p[r].xp?"":"("+p[r].xp+_tm("xp",{ns:"interface"})+") "},"undefined"!=typeof p[r].xp&&(t+=p[r].xp*v*(1-n)),n+=m[item_base[p[r].id].name].percent;n=0;for(r in m)f=f+r+" "+Math.round(1E4*m[r].percent)/100+"% "+m[r].xp+"- ",n+=m[r].percent;f=0<Math.round(1E4*(1-n))/100?f+_tm("No loot")+" "+Math.round(1E4*(1-n))/100+"%":f.slice(0,-3);addChatText(k+
" "+_tm("drops")+":",void 0,COLOR.ORANGE);0<t&&(t=Math.round(100*t)/100,f=f+"; "+_tm("avg")+": "+t+_tm("xp",{ns:"interface"}));f+=". "}addChatText(f,void 0,COLOR.WHITE)}};ActionMenu.combatCheck=function(b){function c(b){return isFinite(b)?beautifulTimeT(1E3*b,2,!1)||_tm("{count} second",{ns:"calendar",count:"0"}):b.toLocaleString()}function f(b){return isFinite(b)?1E3<=b?Math.round(b).toLocaleString():parseFloat(b.toFixed(2)).toLocaleString():b.toLocaleString()}function k(b){var c=0,f;for(f in b)c+=
b[f];return c}function g(b){var c=0,f;for(f in b)c+=f*b[f];return c}function m(b,c){var f,g,k,m,n=function(b){return(g[0]-f[0])*(b[1]-f[1])>(g[1]-f[1])*(b[0]-f[0])},p=function(){var b=[f[0]-g[0],f[1]-g[1]],c=[k[0]-m[0],k[1]-m[1]],n=f[0]*g[1]-f[1]*g[0],p=k[0]*m[1]-k[1]*m[0],q=1/(b[0]*c[1]-b[1]*c[0]);return[(n*c[0]-p*b[0])*q,(n*c[1]-p*b[1])*q]},q=b;f=c[c.length-1];for(var r in c){g=c[r];var t=q,q=[];k=t[t.length-1];for(var u in t)m=t[u],n(m)?(n(k)||q.push(p()),q.push(m)):n(k)&&q.push(p()),k=m;f=g}return q}
function n(b,c){if("total_strength"in b.temp&&isFinite(b.temp.total_strength)){var f=Math.ceil(1+b.temp.total_strength/5);if(!(300<f)){for(var g=Math.max(0,Math.min((c.temp.melee_block||0)/100,1)),n=Array(f+1),p=0;p<=f;p++)n[p]=0;for(p=1;p<f+1;p++){var q=p-Math.round(p*g),r=n[q],t;t=p;var u=b.temp.total_strength/5,v=c.temp.total_defense-b.temp.total_accuracy,w=(1-t)/v,x=1/v,z=u/v;if(0>=v)t=0==u?1:Math.max(0,Math.min(1,(t-1)/u)-Math.max(0,(t-2)/u));else if(t=m([[0,0],[1,0],[1,1],[0,1]],[[0,w],[1,w+
z],[1,w+x+z],[0,w+x]]),u=t.length,3>u)t=0;else{for(w=v=0;w<u-1;w++)v+=t[w][0]*t[w+1][1]-t[w+1][0]*t[w][1];t=.5*Math.abs(v+t[u-1][0]*t[0][1]-t[0][0]*t[u-1][1])}n[q]=r+t}n[0]=1-k(n.slice(1));f-=Math.round(f*g);return n.slice(0,f+1)}}}function p(){for(var b={},c=(r.temp.melee_block||0)/100,f=(v.temp.melee_block||0)/100,g,k,m,n,p=0;2>p;p++){0==p&&(k=r.temp.total_strength,m=v.temp.total_defense,n=r.temp.total_accuracy);1==p&&(k=Infinity,"total_strength"in v.temp&&(k=v.temp.total_strength),m=r.temp.total_defense,
n=v.temp.total_accuracy);isFinite(k)||(k=Infinity);var q=Math.ceil(k/5),t=Math.max(Math.ceil(m-n),0);0==t?(g=q/2+1,t=1):1<(t-1)/q?(g=(q*q+3*q+3)/(6*t),t=(q+2)/(2*t)):(g=q/2+1-t/2-Math.pow(1-t,3)/(6*q*t),t=1-(t*t-2*t+1)/(2*t*q));0==p&&(b.player_avg_dmg=g*(1-f),b.player_hit_chance=t,b.player_max_dmg=q+1-Math.round((q+1)*f));1==p&&(b.enemy_avg_dmg=g*(1-c),b.enemy_hit_chance=t,b.enemy_max_dmg=Infinity,isFinite(q)&&(b.enemy_max_dmg=q+1-Math.round((q+1)*c)))}return b}function t(b,c){if(1E3<b)return Infinity;
var f=Math.max(0,Math.min(c,1)),g=Math.round(b),m=Math.round(.25*b);if(g==m)return Math.round((1-f)*g);for(var n=Array(g+1),p=0;p<m;p++)n[p]=0;for(p=m;p<=g;p++)n[p]=1;n[g]=.5+b-g;n[m]=.5-.25*b+m;for(var q=0,p=m;p<=g;p++)q+=n[p]*Math.round((1-f)*p);return q/k(n)}ActionMenu.combatCheck.debug=ActionMenu.combatCheck.debug||!1;var r=players[0],v=npc_base[b],u=!1;if(Gearmd&&Gearmd.showGear&&!Gearmd.equipped&&getElem("gear_inv_holder").offsetHeight){var u=!0,r={},z=power=armor=magic=archery=0,w=magic_block=
0,x=arrow_cooldown=0,F=quiver=!1,y=0,G=0,D;for(D in Gearmd.showGear)if(Gearmd.showGear[D]){var E=item_base[Gearmd.showGear[D]];E.b_t==ITEM_CATEGORY.ARCHERY&&(E.params.bow&&(F=!0),3==E.params.slot&&(quiver=!0));z+=E.params.aim||0;power+=E.params.power||0;armor+=E.params.armor||0;magic+=E.params.magic||0;archery+=E.params.archery||0;w+=E.params.melee_block||0;magic_block+=E.params.magic_block||0;x+=E.params.cooldown||0;arrow_cooldown+=E.params.arrow_cooldown||0;y+=E.params.archery_damage_boost||0;E.params.magic_slots&&
(G=Math.max(G,E.params.magic_slots))}switch(players[0].temp.combat_style){case "1":power+=2;break;case "2":armor+=3;break;case "3":z+=2;break;case "4":power-=2,armor-=3,z-=2}r.temp={};r.temp.total_strength=skills[0].strength.current+power/2;r.temp.total_accuracy=skills[0].accuracy.current+z/2;r.temp.total_defense=skills[0].defense.current+armor/3;r.temp.total_archery=skills[0].archery.current+archery/2;r.temp.magic=magic;r.temp.melee_block=Math.max(0,Math.min(w,50));r.temp.magic_block=Math.max(0,
Math.min(magic_block,70));r.params={};r.params.cooldown=x;r.params.magic_slots=G;r.params.magics=players[0].params.magics;r.params.archery={};r.params.archery.id=players[0].params.archery.id;r.params.archery.bow=F;r.params.archery.quiver=quiver;r.params.archery.damage_boost=y;r.params.arrow_cooldown=arrow_cooldown}var z=n(r,v),A=n(v,r),H=Infinity,B=Infinity,q=1,C=Infinity,J=Infinity,L=1;z&&(H=z.length-1,B=g(z),q=1-z[0]);A&&(C=A.length-1,J=g(A),L=1-A[0]);var N=firstChar(_tm("{count} second",{ns:"calendar",
count:"1"}).split(" ")[1]).toLowerCase(),M="/"+N,I="",K="",R=0,O=0,T=(v.temp.magic_block||0)/100,V=Math.min(r.params.magic_slots,r.params.magics.length),Q="",W="",S=0,P=0,X=Math.max(0,Math.min((r.temp.magic_block||0)/100,.7)),Y=v.temp.magics&&v.temp.magics.length||0,U=(v.temp.archery_block||0)/100;ActionMenu.combatCheck.debug&&(console.log("Combat Analysis debug:"),console.log(npc_base[b].name,"id:",b),console.log("Player damage probability distribution:"),console.log(z),console.log("Enemy damage probability distribution:"),
console.log(A),console.log("Comparison between exact and approximate melee damage analysis:"),b={Parameter:["Exact value","Approximate value"]},z=p(),b.player_avg_dmg=[B,z.player_avg_dmg],b.player_hit_chance=[q,z.player_hit_chance],b.player_max_dmg=[H,z.player_max_dmg],b.enemy_avg_dmg=[J,z.enemy_avg_dmg],b.enemy_hit_chance=[L,z.enemy_hit_chance],b.enemy_max_dmg=[C,z.enemy_max_dmg],console.table(b));(function(b,c){var f=(v.temp.melee_block||0)/100,g="";0<f&&(g+=_tm("Melee Block")+": "+Math.round(100*
f)+"%");0<T&&(g&&(g+=", "),g+=_tm("Magic Block")+": "+Math.round(100*T)+"%");0<U&&(g&&(g+=", "),g+=_tm("Archery Block")+": "+Math.round(100*U)+"%");g&&(g=" ("+g+")");g=_tm("Combat Analysis")+": "+_tm(v.name,{ns:"names"})+g;addChatText(g,void 0,b);u&&addChatText(_tm("Vanity Set"),void 0,c)})(COLOR.ORANGE,COLOR.YELLOW);(function(b){if(V){I="";O=R=0;for(var c=1-T,g=1-r.params.cooldown,k=r.temp.magic/1.2+skills[0].magic.current,m=0;m<V;m++){var n=Magic[r.params.magics[m].id],p=Math.min(1,(k+n.params.penetration)/
v.temp.total_defense),q=1/(.001*Math.max(n.params.min_cooldown||0,g*n.params.cooldown)/3),u=q/3,w=p*n.params.basic_damage,x=t(w,T),w=Math.round(w),w=Math.round(c*w),u=u*x;O+=u;R+=Math.max(1,Math.ceil(q))*w;0<m&&(I+="; ");I+=_tm(n.name,{ns:"names"})+": "+f(u)+M+" ("+Math.round(100*p*c)+"%)"}K=_tm("Total magic damage")+": "+f(O)+M;addChatText(I,void 0,b);addChatText(K,void 0,b)}if(Y){Q=_tm("Enemy magic")+": ";P=S=0;c=1-X;g=1-(v.temp.cooldown||0);k=v.temp.magic/1.2;for(m=0;m<Y;m++)n=Magic[v.temp.magics[m].id],
p=Math.min(1,(k+n.params.penetration)/r.temp.total_defense),q=.001*Math.max(n.params.min_cooldown||0,g*n.params.cooldown),w=1/Math.ceil(q/3)/3,q=p*n.params.basic_damage,u=t(q,X),q=Math.round(q),q=Math.round(c*q),w*=u,P+=w,S+=q,0<m&&(Q+="; "),Q+=_tm(n.name,{ns:"names"})+": "+f(w)+M+" ("+Math.round(100*p*c)+"%)";W=_tm("Total magic damage from enemy")+": "+f(P)+M;addChatText(Q,void 0,b);addChatText(W,void 0,b)}})(COLOR.TEAL);(function(b){var c=firstChar(_ti("Magic")),g=_tm("enemy").toUpperCase()+": "+
_tm("average damage")+" = "+f(J)+" + "+f(3*P)+c+" = "+f(J+3*P)+", "+_tm("chance to hit")+" = "+f(100*L)+"%, "+_tm("max damage",{ns:"item_description"})+" = "+C.toLocaleString()+" + "+S.toLocaleString()+c+" = "+(C+S).toLocaleString(),c=_tm("you").toUpperCase()+": "+_tm("average damage")+" = "+f(B)+" + "+f(3*O)+c+" = "+f(B+3*O)+", "+_tm("chance to hit")+" = "+f(100*q)+"%, "+_tm("max damage",{ns:"item_description"})+" = "+H.toLocaleString()+" + "+R.toLocaleString()+c+" = "+(H+R).toLocaleString();addChatText(g,
void 0,b);addChatText(c,void 0,b)})(COLOR.TEAL);(function(b){var g=Math.ceil(v.temp.health/(B+3*O)),k=(g-1)*(J+3*P),m=3*g,g=_tm("Average per fight")+": "+_tm("hits")+": "+g.toLocaleString()+", "+_tm("damage received")+": "+f(k)+", "+_tm("time to kill")+": "+c(m);addChatText(g,void 0,b)})(COLOR.TEAL);(function(b){if(r.params.archery.quiver&&r.params.archery.bow&&r.params.archery.id){var g=item_base[r.params.archery.id].params.archery_cooldown/1E3,k=Math.round(item_base[r.params.archery.id].params.archery_damage*
(1+r.params.archery.damage_boost)),m=Math.min(1,r.temp.total_archery/v.temp.total_defense),n=1-U,k=m*k,p=t(k,U),k=Math.round(k),k=Math.round(n*k),q=Math.ceil(v.temp.health/p),g=1/g/(1-r.params.arrow_cooldown),u=g*p,w=v.temp.health/u,m=_ti("Archery")+": "+_tm("max damage",{ns:"item_description"})+": "+k.toLocaleString()+", "+_tm("average damage")+": "+f(p)+" / "+f(1/g)+N+" = "+f(u)+M+" ("+Math.round(100*n*m)+"%), "+_tm("hits")+": "+q.toLocaleString()+", "+_tm("time to kill")+": "+c(w);addChatText(m,
void 0,b)}})(COLOR.TEAL);(function(b){var c;c=skills[0].health.current;if(A){for(var f=A.slice().reverse(),g=f.slice(0,1),k=1;k<f.length;k++)g[k]=g[k-1]+f[k];for(var f=g.reverse(),g=0,k=A.length,m=0;m<k;m++)for(var n=0;n<k;n++)g+=A[m]*A[n]*(f[Math.max(0,c-m-n)]||0);c=g}else c=1;0!=c&&(f=_tm("Chance to die in 3 hits from melee damage")+": ",f=.005>c?f+(_tm("1 in")+" "+Math.round(1/c).toLocaleString()):f+(Math.round(100*c)+"% ("+_tm("1 in")+" "+Math.round(1/c).toLocaleString()+")"),addChatText(f,void 0,
b))})(COLOR.TEAL)};getElem("inventory").favorite=function(b){b&&(b=b||!1)&&(Mods.Chestm.avoidAll[b]?delete Mods.Chestm.avoidAll[b]:Mods.Chestm.avoidAll[b]=!0,BigMenu.init_inventory(!0),LStorage.set("avoidAll",JSON.stringify(Mods.Chestm.avoidAll)))};InvMenu.create=function(b){if(Mods.Rclick.oldInvMenu(b)){var c=players[0].temp.inventory[b];if("undefined"!=typeof c){c=item_base[c.id];d=getElem("action_menu");if(-1<loadedMods.indexOf("Wikimd")&&-1<loadedMods.indexOf("Chatmd")){var f=c.name.replace(/'/g,
"\\&apos;");d.innerHTML+="<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki item name "+f+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+"<span class='item'>"+_tmi("Item",{ns:"interface",fn:"toUpperCase"})+"</span></span><span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki craft item "+f+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+"<span class='item'>"+_tmi("Craft",{fn:"toUpperCase"})+
"</span></span><span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki npc item "+f+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+"<span class='item'>"+_tmi("npc",{fn:"toUpperCase"})+"</span></span>"}-1<loadedMods.indexOf("Chestm")&&(f="Favorite",Mods.Chestm.avoidAll[c.b_i]&&(f="Unfavorite"),d.innerHTML+="<span class='line' onclick='inventory.favorite("+players[0].temp.inventory[b].id+");addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+
_tmi(f)+"<span class='item'>"+_tn(c.name)+"</span>")}}};ChestMenu.create=function(b,c){Mods.Rclick.oldChestMenu(b,c);if(null!=document.getElementById("chest_"+b)){var f=item_base[c],k=document.getElementById("action_menu");if(-1<loadedMods.indexOf("Wikimd")&&-1<loadedMods.indexOf("Chatmd")){var f="<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki item name "+f.name.replace(/'/g,"\\&apos;")+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+
"<span class='item'>"+_tmi("Item",{ns:"interface",fn:"toUpperCase"})+"</span></span>",g=k.innerHTML.split(/<span class=\"line\" onclick=\"ActionMenu\.hide\(\);\">\.*/i);k.innerHTML=2===g.length?g[0]+f+'<span class="line" onclick="ActionMenu.hide();">'+g[1]:f+k.innerHTML}}};Mods.destroyallitems=function(b){InvMenu.hide();"undefined"!=typeof b&&Popup.prompt(_tm("Do you want to destroy all {item_name}?",{item_name:item_base[b].name}),function(){Socket.send("inventory_destroy",{item_id:b,all:!0})})};
getElem("action_menu").style.zIndex="999999999";ActionMenu.create=function(b,c,f){Mods.Rclick.oldActionMenu(b,c,f);if(!f){f=getElem("action_menu");addClass(f,"hidden");f.style.top=b.clientY+10+"px";f.style.left=b.clientX+"px";var k=b="";c="";for(var g in players)if("0"!=g&&players[g].i==selected_object.i&&players[g].j==selected_object.j&&players[g].b_t==BASE_TYPE.PLAYER){c="<span class='line' onclick='ChatSystem.whisper(\""+players[g].name.sanitize().htmlEncodeUsername()+'");addClass(getElem(&apos;action_menu&apos;), ';
c+="&apos;hidden&apos;)'>"+_tm("Whisper",{ns:"interface"})+" <span class='item'>"+players[g].name.sanitize()+"</span></span>";break}"undefined"===typeof selected_object.params||"undefined"===typeof selected_object.params.results&&"undefined"===typeof selected_object.params.drops||(b="<span class='line' onclick='ActionMenu.mobDrops("+selected_object.b_i+","+selected_object.b_t+");addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)' style='margin-left:-5px;'><span class='item'>"+_tmi(selected_object.name,
{ns:"names"})+"</span>"+_tmi("Drops")+"</span>"+("4"==selected_object.b_t?"<span class='line' onclick='ActionMenu.combatCheck("+selected_object.b_i+");addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Combat Analysis")+"</span>":""));if(modOptions.chatmd.loaded&&selected_object.b_t==BASE_TYPE.OBJECT&&-1!=="Alchemy Table;Anvil;Campfire;Fletching Table;Furnace;Kettle".split(";").indexOf(selected_object.name)||selected_object.b_t==BASE_TYPE.NPC)switch(selected_object.type){case OBJECT_TYPE.SHOP:g=
selected_object.name.replace(/'(.*)/g,"");k="<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki npc name "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+"<span class='item'>"+_tmi("NPC",{fn:"toUpperCase"})+"</span></span>";break;case OBJECT_TYPE.ENEMY:g=selected_object.name.replace(/'(.*)/g,"");k="<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki mob name "+g.replace("[BOSS]","")+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+
_tmi("Check Wiki")+"<span class='item'>"+_tmi("MOB",{fn:"toUpperCase"})+"</span></span>";break;default:g=selected_object.name.replace(/'(.*)/g,""),g=g.replace(/\s/g,"[]"),k="<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki craft source "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)'>"+_tmi("Check Wiki")+"<span class='item'>"+_tmi("Craft",{fn:"toUpperCase"})+"</span></span>"}g=ActionMenu.action(selected_object,0)+ActionMenu.action(selected_object,1)+b+k+
c+ActionMenu.action(selected_object,2)+ActionMenu.action(selected_object,3)+ActionMenu.action(selected_object,4);f.innerHTML=g;0<f.innerHTML.length&&(removeClass(f,"hidden"),fixBoundingClientRect(f))}};Mods.timestamp("rclick")};
Load.chestm=function(){modOptions.chestm.time=timestamp();Mods.Chestm.backup=[];Mods.Chestm.chest_search_update=function(b,c){var f=textToRegex(b),k=JSON.clone(Mods.Chestm.backup),k=k.filter(function(b,c,k){return item_base[b.id].name.match(f)||_tn(item_base[b.id].name).match(f)});0<k.length&&0<b.length?(chest_page=1,chests[0]=k,chest_content=chests[0],!c&&Chest.change_page(1)):(chests[0]=JSON.clone(Mods.Chestm.backup),chest_content=chests[0]);Chest.sort_player_modChest()};Chest.open=function(b,c,
f){chest_content=b;chests[0]=b;Mods.Chestm.backup=JSON.clone(b);for(var k in Mods.Chestm.tempChest)delete Mods.Chestm.tempChest[k];for(b=0;b<chests[0].length;b++)Mods.Chestm.tempChest[chest_content[b].id]=b;Mods.Chestm.chest_search_hidden?(c&&Chest.change_page(chest_page),f&&Carpentry.init(f),Chest.sort_player_modChest()):(c&&Chest.change_page(chest_page),Mods.Chestm.chest_search_update(document.getElementById("chest_search_value").value,!c))};BigMenu.update_chest=function(b){-1<navigator.userAgent.search("Chrome")&&
(Mods.Chestm.inv_select_color=getElem("chest_invColor").value,Mods.Chestm.fav_select_color=getElem("chest_favColor").value);Mods.Chestm.chest_colCheck=getElem("chest_colCheck").checked;Mods.Chestm.chest_colCheckF=getElem("chest_colCheckF").checked;chest_content=b;getElem("chest_coins_amount").innerHTML=thousandSeperate(players[0].temp.coins);for(var c=chest_page-1,f=60*c,k=Math.min(b.length,60*c+60);f<60*c+60;f++){var g=getElem("chest_"+(f-60*c)),m,n,p;if(f<k){n=item_base[b[f].id];m=b[f].id;g.style.background=
Items.get_background(n.b_i).replace("transparent",Chest.background_color);g=g.childNodes[0];n=Chest.chest_count_format(b[f].count);p=Inventory.get_item_count(players[0],b[f].id);l="";o=0;for(h=6-n.toString().length-p.toString().length;o<h;o++)l+="&nbsp;";0<p&&(p="<span class='inv_numbers' style='color:"+COLOR.GREEN+"'>"+p+"</span>");g.innerHTML=n+l+p}else m=-1;g=getElem("chest_"+(f-60*c));0<Inventory.get_item_count(players[0],m)&&Mods.Chestm.chest_colCheck?g.style.background=g.style.background.replace(Chest.background_color,
hexToRgbA(Mods.Chestm.inv_select_color,.3)).replace(Chest.background_color_steam,hexToRgbA(Mods.Chestm.inv_select_color,.3)):Mods.Chestm.chest_colCheckF&&Mods.Chestm.playerPriorities[m]&&(g.style.background=g.style.background.replace(Chest.background_color,hexToRgbA(Mods.Chestm.fav_select_color,.3)).replace(Chest.background_color_steam,hexToRgbA(Mods.Chestm.fav_select_color,.3)));LStorage.set("chestInv_color",JSON.stringify(Mods.Chestm.inv_select_color));LStorage.set("chestFav_color",JSON.stringify(Mods.Chestm.fav_select_color));
LStorage.set("chest_colCheck",JSON.stringify(Mods.Chestm.chest_colCheck));LStorage.set("chest_colCheckF",JSON.stringify(Mods.Chestm.chest_colCheckF))}BigMenu.update_chest_selection();Chest.button_enable_check()};Chest.button_enable_check=function(){};Chest.sort_player_modChest=function(){Mods.Chestm.armorPriority="0"==getElem("chest_sort_category").value?!0:!1;Mods.Chestm.craftPriority="1"==getElem("chest_sort_category").value?!0:!1;Mods.Chestm.pricePriority="2"==getElem("chest_sort_category").value?
!0:!1;chests[0].sort(function(b,c){Mods.Chestm.sortFav_check=getElem("chest_favCheck").checked;Mods.Chestm.sortInv_check=getElem("chest_invCheck").checked;var f=item_base[b.id].params.price,k=item_base[c.id].params.price,g=item_base[b.id].params,m=item_base[c.id].params,n=item_base[b.id].name,p=item_base[c.id].name,t=Mods.Chestm.playerPriorities,g=(m.min_defense||m.min_accuracy||m.min_health||m.min_forging||m.min_jewelry||m.min_cooking||m.min_carpentry||m.min_fishing||m.min_alchemy||m.min_magic||
m.min_archery||0)-(g.min_defense||g.min_accuracy||g.min_health||g.min_forging||g.min_jewelry||g.min_cooking||g.min_carpentry||g.min_fishing||g.min_alchemy||g.min_magic||g.min_archery||0),m=item_base[b.id].b_t,r=item_base[c.id].b_t;!0===Mods.Chestm.armorPriority?(m=Mods.Chestm.chestArmorPriorities[m],r=Mods.Chestm.chestArmorPriorities[r]):!0===Mods.Chestm.craftPriority?(m=Mods.Chestm.chestCraftPriorities[m],r=Mods.Chestm.chestCraftPriorities[r]):!0===Mods.Chestm.pricePriority&&(m=-item_base[b.id].params.price,
r=-item_base[c.id].params.price);if(!0===Mods.Chestm.sortFav_check&&"undefined"!=typeof t[b.id]&&"undefined"==typeof t[c.id])return-1;if(!0===Mods.Chestm.sortFav_check&&"undefined"==typeof t[b.id]&&"undefined"!=typeof t[c.id])return 1;if(!0===Mods.Chestm.sortInv_check&&0<Inventory.get_item_count(players[0],b.id)&&0===Inventory.get_item_count(players[0],c.id))return-1;if(!0===Mods.Chestm.sortInv_check&&0===Inventory.get_item_count(players[0],b.id)&&0<Inventory.get_item_count(players[0],c.id))return 1;
if(m==r){if(item_base[b.id].b_t==ITEM_CATEGORY.MATERIAL&&!Mods.Chestm.pricePriority){var t=item_base[b.id].name,m=item_base[c.id].name,v=r=-1,u;for(u in Mods.Chestm.materialsPriorities)-1<t.search(u)&&(r=Mods.Chestm.materialsPriorities[u]),-1<m.search(u)&&(v=Mods.Chestm.materialsPriorities[u]);if(-1!=r&&-1==v)return-1;if(-1==r&&-1!=v)return 1;if(r<v)return-1;if(r>v)return 1}return 0<g?1:0>g||f>k?-1:f<k?1:n>p?-1:n<p?1:0}return m<r?-1:m>r?1:n>p?-1:n<p?1:0});BigMenu.update_chest(chests[0],Mods.Chestm.currentChestPage);
LStorage.set("sortFav_check",Mods.Chestm.sortFav_check);LStorage.set("sortInv_check",Mods.Chestm.sortInv_check);LStorage.set("chestArmorPriority",Mods.Chestm.armorPriority);LStorage.set("chestCraftPriority",Mods.Chestm.craftPriority);LStorage.set("chestPricePriority",Mods.Chestm.pricePriority)};Chest.deposit=function(b){var c=chest_page-1,c=parseInt(selected_chest)+60*c,f=chests[0][c].id,c=Mods.Chestm.tempChest[f];Mods.Chestm.chest_item_id=f;Socket.send("chest_deposit",{item_id:f,item_slot:"undefined"==
typeof c?-1:c,target_id:chest_npc.id,target_i:chest_npc.i,target_j:chest_npc.j,amount:b})};Chest.destroy=function(){var b=chest_page-1,b=parseInt(selected_chest)+60*b,c=chests[0][b].id,b=Mods.Chestm.tempChest[c];Mods.Chestm.chest_item_id=c;Popup.prompt(_tmi("Do you want to destroy all {item_name}?",{item_name:item_base[c].name}),function(){Socket.send("chest_destroy",{item_id:c,item_slot:b,target_id:chest_npc.id})})};Chest.withdraw=function(b){var c=chest_page-1,c=parseInt(selected_chest)+60*c;b>
chest_content[c].count&&(b=chest_content[c].count);var f=chests[0][c].id,c=Mods.Chestm.tempChest[f];Mods.Chestm.chest_item_id=f;Socket.send("chest_withdraw",{item_id:f,item_slot:c,target_id:chest_npc.id,target_i:chest_npc.i,target_j:chest_npc.j,amount:b})};Chest.get_selected_item_id=function(){var b=chest_page-1,b=parseInt(selected_chest)+60*b;return chests[0][b].id};Chest.unpack=function(){var b=chest_page-1,b=parseInt(selected_chest)+60*b;a>chest_content[b].count&&(a=chest_content[b].count);var c=
chests[0][b].id,b=Mods.Chestm.tempChest[c];Mods.Chestm.chest_item_id=c;Socket.send("chest_unpack",{item_id:c,item_slot:b,target_id:chest_npc.id,target_i:chest_npc.i,target_j:chest_npc.j})};Chest.withdrawfavs=function(b){};Chest.deposit_all=function(){Socket.send("chest_deposit_all",{target_id:chest_npc.id,target_i:chest_npc.i,target_j:chest_npc.j,avoid_list:Mods.Chestm.avoidAll})};Chest.pet_deposit=function(){chest_npc&&nearEachOther(chest_npc,players[0])&&players[0].pet.enabled&&Socket.send("pet_chest_unload_to_chest",
{target_id:chest_npc.id,target_i:chest_npc.i,target_j:chest_npc.j,avoid_list:Mods.Chestm.avoidAll})};Chest.player_find_item_index=function(b,c,f){return Mods.Chestm.tempChest[c]};Chest.player_chest_item_count=function(b,c){return Mods.Chestm.backup[Chest.player_find_item_index(b,c)]&&Mods.Chestm.backup[Chest.player_find_item_index(b,c)].count||0};Mods.Chestm.eventListener={keys:{keydown:[KEY_ACTION.CTRL],keyup:[KEY_ACTION.CTRL]},fn:function(b,c,f){"keydown"==b&&f===KEY_ACTION.CTRL&&(Mods.Chestm.ctrlPressed=
!0,Mods.disableInvClick=!0,Mods.Chestm.showAvoidAll(!0),Timers.set("clear_ctrl_chest",function(){Mods.Chestm.eventListener.fn("keyup",!1,KEY_ACTION.CTRL)},1E3));"keyup"==b&&f===KEY_ACTION.CTRL&&(Mods.Chestm.ctrlPressed=!1,Mods.disableInvClick=!1,Mods.Chestm.showAvoidAll(!1))}};Mods.Chestm.showAvoidAll=function(b){if(b=b||!1)for(var c=0;40>c;c++){var f=getElem("inv_"+c),k=players[0].temp.inventory[c]&&players[0].temp.inventory[c].id||!1;k&&b&&Mods.Chestm.avoidAll[k]&&(f.style.background=f.style.background.replace("transparent",
hexToRgbA("#FFFFFF",.4)))}else BigMenu.init_inventory(!0)};(function(){createElem("span",getElem("chest_extra_buttons"),{id:"chest_sort",className:"common_link",style:"float:left;font-weight: bold; margin: 0px; margin-left: 10px;",innerHTML:_tmi("Sort")});createElem("span","chest_extra_holder",{id:"chest_sort_holder",style:"min-height: 22px; display: none; margin-bottom: 3px; margin-top: 3px; padding-bottom: 4px; color: #FFF; border-bottom: 1px solid #666;"});createElem("select","chest_sort_holder",
{id:"chest_sort_category",className:"select_button pointer",style:"width: 144px; float: left; margin: 1px 12px 3px 5px;",onchange:function(){Chest.sort_player_modChest()},innerHTML:'<option value="-1" data-tu="-- $tm(\'Sort Inventory\') --">-- '+_tm("Sort Inventory")+" --</option><option value=\"0\" data-tu=\"$tm('Sort'): $tm('Equipment')\">"+_tm("Sort")+": "+_tm("Equipment")+"</option><option value=\"1\" data-tu=\"$tm('Sort'): $tm('Materials')\">"+_tm("Sort")+": "+_tm("Materials")+"</option><option value=\"2\" data-tu=\"$tm('Sort'): $tm('Vendor Price')\">"+
_tm("Sort")+": "+_tm("Vendor Price")+"</option>"});createElem("div","chest_sort_holder",{id:"chest_divInv",style:"display: inline-block; float: left;"});createElem("input","chest_divInv",{id:"chest_invCheck",type:"checkbox",style:"float: left; margin: 1px 7px 0px 0px; width: 0.7em; height: 0.7em;",onchange:function(){Chest.sort_player_modChest()}});createElem("label","chest_divInv",{id:"chest_invCheck_name",for:"chest_invCheck",style:"float: left; font-size: 0.7em; margin-top: -1px;",innerHTML:_tmi("Inventory Items")});
createElem("input","chest_divInv",{id:"chest_colCheck",type:"checkbox",style:"float: left; clear: left; margin: 1px 7px 0px 0px; width: 0.7em; height: 0.7em;",onchange:function(){BigMenu.update_chest(chest_content)}});createElem("label","chest_divInv",{id:"chest_colCheck_name",for:"chest_colCheck",style:"float: left; font-size: 0.7em;",innerHTML:_tmi("Highlight")});createElem("div","chest_sort_holder",{id:"chest_divFav",style:"display: inline-block; float: left;"});createElem("input","chest_divFav",
{id:"chest_favCheck",type:"checkbox",style:"float: left; margin: 1px 7px 0px 14px; width: 0.7em; height: 0.7em;",onchange:function(){Chest.sort_player_modChest()}});createElem("label","chest_divFav",{id:"chest_favCheck_name",for:"chest_favCheck",title:_ti("Hold Ctrl to toggle favorite items"),"data-title":"Hold Ctrl to toggle favorite items",style:"float: left; font-size: 0.7em; margin-top: -1px;",innerHTML:_tmi("Favorited Items")});createElem("input","chest_divFav",{id:"chest_colCheckF",type:"checkbox",
style:"float: left; clear: left; margin: 1px 7px 0px 14px; width: 0.7em; height: 0.7em;",onchange:function(){BigMenu.update_chest(chest_content)}});createElem("label","chest_divFav",{id:"chest_colCheck_nameF",for:"chest_colCheckF",style:"float: left; font-size: 0.7em;",innerHTML:_tmi("Highlight")});-1<navigator.userAgent.search("Chrome")&&(createElem("input","chest_divInv",{id:"chest_invColor",type:"color",style:"float: left; margin: -2px 0px 0px 3px; width: .95em; height: 1.25em; border: none; background: none; background-color: transparent;",
onchange:function(){BigMenu.update_chest(chest_content)}}),createElem("input","chest_divFav",{id:"chest_favColor",type:"color",style:"float: left; margin: -2px 0px 0px 3px; width: .95em; height: 1.25em; border: none; background: none; background-color: transparent;",onchange:function(){BigMenu.update_chest(chest_content)}}));getElem("chest_colCheck").checked=Mods.Chestm.chest_colCheck;getElem("chest_colCheckF").checked=Mods.Chestm.chest_colCheckF;-1<navigator.userAgent.search("Chrome")&&(getElem("chest_invColor").value=
Mods.Chestm.inv_select_color,getElem("chest_favColor").value=Mods.Chestm.fav_select_color);bindOnPress(document.getElementById("chest_sort"),function(){Mods.Chestm.chest_search_hidden||getElem("chest_search").click();Mods.Chestm.chest_sort_hidden=!Mods.Chestm.chest_sort_hidden;Mods.Chestm.chest_sort_hidden?(getElem("chest_sort_holder").style.display="none",getElem("chest_sort").innerHTML=_tmi("Sort")):(getElem("chest_sort_holder").style.display="inline-block",getElem("chest_sort").innerHTML=_tmi("Sort")+
" ("+_tmi("Hide").toLowerCase()+")")});getElem("chest_invCheck").checked=Mods.Chestm.sortInv_check;getElem("chest_favCheck").checked=Mods.Chestm.sortFav_check;getElem("chest_sort_category").value=Mods.Chestm.armorPriority?0:Mods.Chestm.craftPriority?1:Mods.Chestm.pricePriority?2:-1;getElem("chest").onclick=function(b){var c=b.target||{};b=c.id||!1;var f=/chest_[0-9]/.test(b);!f&&(c=c.parentNode)&&(c=c.id,/chest_[0-9]/.test(c)&&(b=c,f=!0));f&&(b=b.replace("chest_",""));c=Mods.Chestm.ctrlPressed;f&&
(c?(b=parseInt(b)+60*(parseInt(chest_page)-1),(b=chests[0][b]&&chests[0][b].id||!1)&&(Mods.Chestm.playerPriorities[b]?delete Mods.Chestm.playerPriorities[b]:Mods.Chestm.playerPriorities[b]=!0)):(selected_chest=b,Chest.button_enable_check()));LStorage.set("chestPlayerPriorities",JSON.stringify(Mods.Chestm.playerPriorities));Chest.sort_player_modChest()};getElem("inventory").onclick=function(b){b=b.target;var c=b.id,f=/inv_[0-9]/.test(c);f&&(c=c.replace("inv_",""));var k=Mods.Chestm.ctrlPressed;f&&
k&&(f=players[0].temp.inventory[c]&&players[0].temp.inventory[c].id||!1)&&(Mods.Chestm.avoidAll[f]?delete Mods.Chestm.avoidAll[f]:Mods.Chestm.avoidAll[f]=!0,f=(Mods.Chestm.avoidAll[f]||!1)&&"#00FF00"||"#FF0000",Timers.set("slot_border_"+c,function(){BigMenu.init_inventory(!0);Mods.Chestm.ctrlPressed&&Mods.Chestm.showAvoidAll(!0)},1E3),BigMenu.init_inventory(!0),b.style.background=b.style.background.replace("transparent",hexToRgbA(f,.4)),Mods.Chestm.showAvoidAll(!0));LStorage.set("avoidAll",JSON.stringify(Mods.Chestm.avoidAll))};
createElem("span",getElem("chest_extra_buttons"),{id:"chest_search",className:"common_link",style:"float:left;font-weight: bold; margin: 0px; margin-left: 10px;","data-ti":"Search",innerHTML:_ti("Search")});createElem("span","chest_extra_holder",{id:"chest_search_holder",style:"min-height: 22px; display: none;"});createElem("input","chest_search_holder",{id:"chest_search_value",className:"small_border_container",type:"text",autocomplete:"off",placeholder:_ti("Search"),"data-tp":"Search",oninput:"Mods.Chestm.chest_search_update(this.value)"});
bindOnPress(document.getElementById("chest_search"),function(){Mods.Chestm.chest_sort_hidden||getElem("chest_sort").click();document.getElementById("chest_search_value").value="";Mods.Chestm.chest_search_hidden=!Mods.Chestm.chest_search_hidden;Mods.Chestm.chest_search_hidden?(Mods.Chestm.chest_search_update(""),getElem("chest_search_holder").style.display="none",getElem("chest_search").innerHTML=_ti("Search")):(getElem("chest_search_holder").style.display="inline-block",getElem("chest_search").innerHTML=
_ti("Search")+" ("+_tmi("Hide").toLowerCase()+")",document.getElementById("chest_search_value").focus())});bindOnPress(document.getElementById("chest_close"),function(){addClass(document.getElementById("chest"),"hidden");Mods.Chestm.chest_search_hidden||getElem("chest_search").click()})})();Mods.timestamp("chestm")};
Load.health=function(){modOptions.health.time=timestamp();BigMenu.set_player_health_name=function(b){b||(b=(-1!=loadedMods.indexOf("Chatmd")&&""!==Mods.Chatmd.afkMessage?"<span class='pointer' title='"+Mods.Chatmd.afkMessage+"' style='color: #F00;' onclick='javascript:Mods.Chatmd.chatCommands(&apos;/afk&apos;)'>*</span>":"")+capitaliseFirstLetter(players[0].name)+" ("+skills[0].health.current+"/"+skills[0].health.level+")");BigMenu.set_healthbar_name(document.getElementById("player_health_name"),
b)};BigMenu.in_a_fight=function(b,c){var f=-1!=loadedMods.indexOf("Chatmd")&&""!==Mods.Chatmd.afkMessage?"<span class='pointer' title='"+Mods.Chatmd.afkMessage+"' style='color: #F00;' onclick='javascript:Mods.Chatmd.chatCommands(&apos;/afk&apos;)'>*</span>":"";Mods.Health.old_inAFight(b,c);"undefined"!==typeof b&&(skills[0].health.current=b.temp.health,BigMenu.set_player_health_name(f+capitaliseFirstLetter(b.name)+" ("+b.temp.health+"/"+skills[0].health.level+")"));"undefined"!=typeof c&&BigMenu.set_healthbar_name(document.getElementById("enemy_health_name"),
_tn(c.name)+" ("+c.temp.health+")")};Player.update_healthbar=function(){var b=-1!=loadedMods.indexOf("Chatmd")&&""!==Mods.Chatmd.afkMessage?"<span class='pointer' title='"+Mods.Chatmd.afkMessage+"' style='color: #F00;' onclick='javascript:Mods.Chatmd.chatCommands(&apos;/afk&apos;)'>*</span>":"";players[0].temp.healthbar&&removeClass(getElem("player_healthbar"),"hidden");BigMenu.set_player_health_name(b+capitaliseFirstLetter(players[0].name)+" ("+skills[0].health.current+"/"+skills[0].health.level+
")");-1==players[0].temp.target_id&&(getElem("player_health").style.width=Math.round(skills[0].health.current/skills[0].health.level*100)+"%")};Player.update_healthbar();Mods.timestamp("health")};
Load.mosmob=function(){modOptions.mosmob.time=timestamp();Mods.Mosmob.toggle=function(){var b=getElem("settings_enhancedTooltip");switch(Mods.Mosmob.enhanced){case 0:b.innerHTML=_tmi("Enhanced tooltips")+" ("+_tmi("on")+")";Mods.Mosmob.enhanced=1;break;default:b.innerHTML=_tmi("Enhanced tooltips")+" ("+_tmi("off")+")",Mods.Mosmob.enhanced=0}LStorage.set("enhancedtooltip",JSON.stringify(Mods.Mosmob.enhanced))};COLOR.RARITY={LOW:"#4FA7FF",BEGINNER:"#FBD642",HIGH:"#51EA30",SUPERIOR:"#B98EFF",LEGENDARY:"#F2982A",
ANCIENT:"#F55870",EVENT:"#F3A7BD"};Mods.Mosmob.itemColor=function(b){var c=COLOR.YELLOW;if("undefined"!==typeof b&&"undefined"!==typeof b.params){var f=b.params.price||0,k=0,g;for(g in getEmptySkills())k="undefined"!==typeof b.params["min_"+g]&&b.params["min_"+g]>k?b.params["min_"+g]:k}if("undefined"!==typeof COLOR.RARITY)switch(!0){case 1===f:c=COLOR.RARITY.EVENT;break;case 140<=k:c=COLOR.RARITY.ANCIENT;break;case 120<=k:c=COLOR.RARITY.LEGENDARY;break;case 90<=k:c=COLOR.RARITY.SUPERIOR;break;case 60<=
k:c=COLOR.RARITY.HIGH;break;case 30<=k:c=COLOR.RARITY.BEGINNER;break;case 1<=k:c=COLOR.RARITY.LOW;break;case 1E7<=f:c=COLOR.RARITY.ANCIENT;break;case 5E6<=f:c=COLOR.RARITY.LEGENDARY;break;case 25E5<=f:c=COLOR.RARITY.SUPERIOR;break;case 1E6<=f:c=COLOR.RARITY.HIGH;break;case 3E5<=f:c=COLOR.RARITY.BEGINNER;break;default:c=COLOR.RARITY.LOW}return c};updateMouseSelector=function(b){if(hasClass(document.getElementById("mods_tooltip_holder"),"hidden")&&!(skip_mouse_selector>timestamp()-100)){var c=getElem("object_selector_info");
c.style.pointerEvents="none";Math.round(Math.min(window.innerWidth,width*max_scale));Math.round(Math.min(window.innerWidth/g,height*max_scale));var f=Math.min(16,Math.round(16*current_ratio_y)),k=mouse_position;b="";var g="#FFFF00";if(k&&map_visible(k.i,k.j)&&on_map[current_map]&&on_map[current_map][k.i]&&on_map[current_map][k.i]){var m;(m=obj_g(on_map[current_map][k.i][k.j]))||(m=player_map[k.i]&&player_map[k.i][k.j]?player_map[k.i][k.j][0]:!1);if(m&&m.name&&"Name"!=m.name){b=_tmi(m.name,{ns:"names"});
m.b_t==BASE_TYPE.PLAYER&&(g="#FFFFFF",b=capitaliseFirstLetter(m.name)+" ("+FIGHT.calculate_monster_level(m)+")");m.b_t==BASE_TYPE.PET&&(b=_tmi(pets[m.id].name,{ns:"names"})+"<br/><span style='font-size:"+.7*f+"px'>"+capitaliseFirstLetter(m.name)+"</span>");if(m.b_t==BASE_TYPE.NPC)if(m.type==OBJECT_TYPE.SHOP)b=b+" ("+_tmi("NPC",{fn:"toUpperCase"})+")";else{editor_enabled&&(b=b+" (ID:"+m.b_i+")");b=b+" ("+FIGHT.calculate_monster_level(m)+")<br/><span style='font-size:"+.7*f+"px'>("+npc_base[m.b_i].temp.total_accuracy+
_tmi("Accuracy",{ns:"interface",fn:"firstChar"})+", "+npc_base[m.b_i].temp.total_strength+_tmi("Strength",{ns:"interface",fn:"firstChar"})+", "+npc_base[m.b_i].temp.total_defense+_tmi("Defense",{ns:"interface",fn:"firstChar"})+", "+(npc_base[m.b_i].temp.magic?npc_base[m.b_i].temp.magic+_tmi("Magic",{ns:"interface",fn:"firstChar"})+", ":"")+npc_base[m.b_i].params.health+_tmi("HP")+")</span>";var n=Monster.get_block_text(m.b_i);n&&(b=b+"<br/><span style='font-size:"+.7*f+"px'>"+n+"</span>");b+=m.params.aggressive?
"<br/><span style='color:#FF0000;font-size:"+.7*f+"px'>"+_tmi("Aggressive")+"</span>":"<br/><span style='color:#FFFFFF;font-size:"+.7*f+"px'>"+_tmi("Passive")+"</span>"}m.base&&m.base().fn&&m.base().fn.desc&&(b=b+"<br/><span style='font-size:"+.7*f+"px'><i>"+m.base().fn.desc(m)+"</i></span>");m.params.desc&&(b=b+"<br/><span style='font-size:"+.7*f+"px'><i>"+_tmi(m.params.desc,{ns:"interface"})+"</i></span>");editor_enabled&&(b+="<br/>(i: "+k.i+", j:"+k.j+")",m.blocking&&(b+="(B)"))}}editor_enabled&&
(m=k.i-dx,k=k.j-dy,10<k&&11>m&&1<m&&(k=m-2+9*(16-k)+editor_page*editor_page_size,k<BASE_TYPE[tileset].length&&0<=k&&k<(editor_page+1)*editor_page_size&&(b=BASE_TYPE[tileset][k].name,BASE_TYPE[tileset][k].blocking&&(b+="(B)"))));c.innerHTML=b;c.style.color=g;c.style.display=0===b.length?"none":"block"}};updateTooltipLegacy=updateTooltip;updateTooltipEnhanced=function(b){var c=Mods.Mosmob.itemColor(item_base[b]);item_base[b]?(removeClass(document.getElementById("mods_tooltip_holder"),"hidden"),document.getElementById("mods_tooltip_name").innerHTML=
"<div style='width: 100%; text-align: left; padding-bottom: 4px; padding-top: 1px;'><div style='"+Items.get_background_image(b).replace(/\"/g,"&apos;")+"; width:32px;height:32px;margin-left:8px;float:right;'></div><div style='padding: 0 0 6px 0'><span style='color:"+c+"; font-weight: bold; padding-bottom: 3px; font-size: 1.3em;'>"+cleanText(_tm(item_base[b].name,{ns:"names"}))+"</span><span style='color:"+COLOR.WHITE+"; font-style: ; text-align: center'>"+Items.infoNew(b)+"</span>","undefined"!==
typeof Mods&&"undefined"!==typeof Mods.Mosmob&&Mods.Mosmob.compileInfo&&(document.getElementById("mods_tooltip_content").innerHTML=Mods.Mosmob.compileInfo(b)),document.getElementById("object_selector_info").style.display="none"):addClass(document.getElementById("mods_tooltip_holder"),"hidden")};updateTooltip=function(b){1==Mods.Mosmob.enhanced?updateTooltipEnhanced(b):updateTooltipLegacy(b)};Items.infoNew=function(b){var c=item_base[b],f="",k="undefined"!==typeof Mods.Mosmob.itemColor?Mods.Mosmob.itemColor(c):
COLOR.YELLOW,g=function(b){return b.replace(/(\+?\d+[%,\.]?\d*s*)/g,"<span style='color:"+k+"'>$1</span>")},m=function(b,c,f,g){if("undefined"!==typeof b&&"undefined"!==typeof c){var m="<div style='width:"+(18<(b+c).length+2+("undefined"!==typeof f?1:0)?100:50)+"%;float:left;'>",m=m+("<span style='color:"+COLOR.WHITE+";'>"+capitaliseFirstLetter(b)+"</span>: <span style='color:"+k+";'>");!0===f&&0>c?m+="-":!0===f&&0<=c?m+="+":f&&(m+=f);c=Math.sqrt(Math.pow(c,2));m=m+c+("undefined"!==typeof g?g:"");
return m+="</span></div>"}};b=Items.slot_name(b);var n=ITEM_CATEGORY[c.b_t],f=b&&"undefined"!==typeof n&&"House"!==n?f+("<div style='text-align:left;'><span style='color:"+COLOR.WHITE+";font-style:italic;'>"+("Materials"===n&&"use only"!==b.toLowerCase()?_ti("Materials")+", ":"")+capitaliseFirstLetter(_tit(b))):"undefined"!==typeof n?f+("<div style='text-align:left;'><span style='color:"+COLOR.WHITE+";font-style:italic;'>"+capitaliseFirstLetter(_ti(n))):f+("<div style='text-align:left;'><span style='color:"+
COLOR.WHITE+";font-style:italic;'>"),f=f+"</span></div>";for(p in getEmptySkills())"undefined"!==typeof c.params["min_"+p]&&1!==c.params["min_"+p]&&(f+="<div style='text-align:left;'><span style='color:"+(skills[0][p].level<c.params["min_"+p]?COLOR.YELLOW:COLOR.WHITE)+"'>"+_tm("Requires")+": "+c.params["min_"+p]+" "+capitaliseFirstLetter(_tit(p))+"</span></div>");f+="<div style='clear:both;'></div></div><div>";if(c.params&&c.params.desc_only)return"</div><div style='width:100%'>"+g(capitaliseFirstLetter(_tit(c.params.desc_only)))+
"<div style='clear:both;'></div></div>";c.params&&c.params.heal&&(f+=g(_tit("+ {heals} health",{heals:c.params.heal})));c.params&&c.params.heals&&(f+=" "+g(capitaliseFirstLetter(_tit("heals {amount} health per 2 seconds",{amount:c.params.heals}))));var f=f+"<div style='clear:both;'></div>",f=f+"<div>",p;for(p in getEmptySkills())"undefined"!=typeof c.params["boost_"+p]&&(b=Math.round(100*c.params["boost_"+p]),f+="<div style='width:50%;float:left;'><span style='color:"+k+";'>"+(0>b?"-":"+")+Math.sqrt(Math.pow(b,
2))+"% </span> "+capitaliseFirstLetter(_tit(p))+"</div>");c.params&&c.params.carpentry_id&&(n=object_base[c.params.carpentry_id],n.params&&n.params.water&&(f+="<div style='width:100%;float:left;'>"+g(capitaliseFirstLetter(_tit("can store up to {count} unit of water",{count:n.params.water})))+"</div>"));f+="<div style='clear:both;'></div>";if(c.params&&c.params.wearable){f+="<div>";c.params.water&&(f+=" "+g(capitaliseFirstLetter(_tit("contains {amount} out of {total} units of water",{amount:Math.min(c.params.water,
players[0].temp.water),total:c.params.water}))));c.params.aim&&(f+=m(_tit("aim"),c.params.aim,!0));c.params.power&&(f+=m(_tit("power"),c.params.power,!0));c.params.armor&&(f+=m(_tit("armor"),c.params.armor,!0));c.params.archery&&(f+=m(_tit("archery"),c.params.archery,!0));c.params.archery_speed_boost&&(f+=m(_tit("arrow speed"),parseInt(100*c.params.archery_speed_boost),!0,"%"));c.params.archery_damage_boost&&(f+=m(_tit("arrow max damage"),parseInt(100*c.params.archery_damage_boost),!0,"%"));c.params.archery_range_boost&&
(f+=m(_tit("arrow range"),c.params.archery_range_boost,!0));c.params.archery_cooldown&&(f+=m(_tit("Cooldown"),(c.params.archery_cooldown/1E3).toFixed(1),!1,"s"));c.params.archery_speed&&(f+=m(_tit("speed"),parseInt(c.params.archery_speed/25-5)));c.params.archery_range&&(f+=m(_tit("range"),c.params.archery_range,!1));c.params.archery_damage&&(f+=m(_tit("max damage"),c.params.archery_damage,!1));c.params.archery_uses&&(f+=m(_tit("uses"),c.params.archery_uses,!1));c.params.archery_arrows&&(f+=m(_tit("Arrows Held"),
c.params.archery_arrows));c.params.magic&&10!=c.params.slot&&(f+=m(_tit("magic"),c.params.magic,!0));c.params.magic&&10==c.params.slot&&(f+=m(_tit("max damage"),Magic[c.params.magic].params.basic_damage,!1));c.params.magic&&10==c.params.slot&&(f+=m(_tit("cooldown"),(Magic[c.params.magic].params.cooldown/1E3).toFixed(1),!1,"s"));c.params.magic&&10==c.params.slot&&(f+=m(_tm("Spell Pen"),Magic[c.params.magic].params.penetration,!1));c.params.magic&&10==c.params.slot&&(f+=m(_tm("Exp/Cast"),Magic[c.params.magic].params.xp,
!1));c.params.magic&&10==c.params.slot&&(f+=m(_tit("uses"),Magic[c.params.magic].params.uses,!1));c.params.magic_slots&&(f+=m(_tit("magic slots"),c.params.magic_slots));c.params.magic_casts&&(f+=m(_tit("Casts Held"),c.params.magic_casts));if(c.params.cooldown||c.params.arrow_cooldown)f+=m(_tit("cooldown"),parseInt(100*(c.params.cooldown||c.params.arrow_cooldown)),"-","%");c.params.speed&&(f+=m(capitaliseFirstLetter(_tit("speed")),c.params.speed,!0));12==c.params.slot&&(f+=m(_tm("Inventory Slots"),
pets[c.params.pet].params.inventory_slots));c.params.magic_block&&(f+=m(_tm("Magic Block"),c.params.magic_block,!0,"%"));c.params.melee_block&&(f+=m(_tm("Melee Block"),c.params.melee_block,!0,"%"));c.params.archery_block&&(f+=m(_tm("Archery Block"),c.params.archery_block,!0,"%"));c.params.pvp_magic_block&&(f+=m(_tm("PvP Magic Block"),c.params.pvp_magic_block,!0,"%"));c.params.pvp_melee_block&&(f+=m(_tm("PvP Melee Block"),c.params.pvp_melee_block,!0,"%"));c.params.pvp_archery_block&&(f+=m(_tm("PvP Archery Block"),
c.params.pvp_archery_block,!0,"%"));c.params.stores&&(f+=" "+g(capitaliseFirstLetter(_tit("can store up to {amount} items",{amount:c.params.stores}))));c.params.size&&(f+=" "+g(capitaliseFirstLetter(_tit("can store up to {amount} items",{amount:c.params.size}))));c.params.health_restore&&(f+="<div style='clear:both;'><div style='width:100%;'>"+g(capitaliseFirstLetter(_tit("restores health {percent}% faster",{percent:parseInt(100*c.params.health_restore)})))+"</div>");c.params.enemy_slow_duration&&
c.params.enemy_slow_percent&&(f+="<div style='width:100%;float:left;'>"+g(capitaliseFirstLetter(_tit("slows enemy movement: +{percent}% for {second}s",{percent:parseInt(100*c.params.enemy_slow_percent),second:(c.params.enemy_slow_duration/1E3).toFixed(1)})))+"</div>");f+="<div style='clear:both;'></div></div>"}if(c.params.contains){f+=" "+capitaliseFirstLetter(_tit("contains"))+": ";p={};for(b=0;b<c.params.contains.length;b++)p[c.params.contains[b]]=p[c.params.contains[b]]||0,p[c.params.contains[b]]++;
n=[];for(b in p)m="",1<p[b]&&(m+=p[b]+"x "),m+="<span style='color:"+k+";'>"+_tn(item_base[b].name)+"</span>",n.push(m);f+=n.join(", ")}c.params.farming_id?f+=g(capitaliseFirstLetter(_ti("Takes {count} minute to grow.",{count:object_base[c.params.farming_id].params.duration}))):c.params.fungiculture_id&&(f+=" "+g(capitaliseFirstLetter(_ti("Takes {count} minute to grow.",{count:object_base[c.params.fungiculture_id].params.duration}))));c.params.desc&&(f+="<div style='width:100%;clear:both;'>"+_tit(c.params.desc)+
"</div>");return f};Mods.Mosmob.gatherParams=function(b){var c={},f=item_base[b];if("undefined"===typeof f||"undefined"===typeof f.params)return!1;var k="undefined"!==typeof Mods.Mosmob.itemColor&&"undefined"!==typeof Mods.Mosmob.enhanced&&Mods.Mosmob.enhanced?Mods.Mosmob.itemColor(f):COLOR.YELLOW,g=f.params,m;c.name=f.name;var n;c.owned="";n=0+Inventory.get_item_count(players[0],b);for(var p in players[0].pet.chest)players[0].pet.chest[p]==b&&(n+=1);for(p in chests[0])if(chests[0][p].id==b){0<chests[0][p].count&&
(n+=chests[0][p].count);break}c.owned+="<span style='color:"+k+"'>"+thousandSeperate(n)+"</span>";n={Good:{1:Items.presents.min_prices[764],2:Items.presents.max_prices[764]},Great:{1:Items.presents.min_prices[765],2:Items.presents.max_prices[765]},Best:{1:Items.presents.min_prices[766],2:Items.presents.max_prices[766]},Legendary:{1:Items.presents.min_prices[1149],2:Items.presents.max_prices[1149]},Rare:{1:Items.presents.min_prices[1160],2:Items.presents.max_prices[1160]}};c.price=void 0==g.price?
"<span style='color:"+k+";'>0</span>":"<span style='color:"+k+";'>"+thousandSeperate(g.price)+"</span> <span style='color: #AAA'>"+_tmi("coins",{ns:"interface"})+"</span>";c.obtained="";if(modOptions.wikimd.loaded){c.obtained="";var t=Mods.Wikimd.item_formulas[b],r=Mods.Wikimd.pet_breeds,v="";if(t.craft&&t.craft.source){var u=[];for(p in t.craft.source)if(world_event_active||!t.craft.source[p].patterns[0]||!t.craft.source[p].patterns[0].we_only){var z=t.craft.source[p].skill||t.craft.source[p].patterns[0].skill||
!1;z&&-1==u.indexOf(z)&&(u.push(z),v+=0<v.length?", "+_tmi(capitaliseFirstLetter(z),{ns:"interface"}):_tmi(capitaliseFirstLetter(z),{ns:"interface"}))}}if("undefined"!==typeof f.b_t&&"7"==f.b_t&&"undefined"!==typeof r){var f=!1,w;for(w in r)if("undefined"!==typeof r[w].offspring){for(var x in r[w].offspring)if(b==r[w].offspring[x].id){f=!0;break}if(f)break}f&&(v+=0<v.length?", "+_ti("Breeding",{ns:"interface"}):_ti("Breeding",{ns:"interface"}))}0<v.length&&(c.obtained+="<span style='color:"+k+";'>"+
_tmi("Craft")+"</span> <span style='color: #AAA;'>("+v+")</span>,&nbsp;");t.enchant&&t.enchant.from_enchant&&(c.obtained+="<span style='color:"+k+";'>"+_tmi("Craft")+"</span> <span style='color: #AAA;'>("+_tmi("Enchant")+")</span>,&nbsp;");!t.drop||!t.drop.sources||!world_event_active&&t.drop.sources[0]&&t.drop.sources[0].we_only||(c.obtained+="<span style='color:"+k+";'>"+_tmi("Drop")+"</span>,&nbsp;");if(t.sold&&t.sold.sources){c.obtained+="<span style='color:"+k+";'>";w=!1;for(m in t.sold.sources)if(t.sold.sources[m].spawn){w=
!0;break}c.obtained=w?c.obtained+(_tmi("Buy from")+" "):c.obtained+(_tmi("Sale to")+" ");c.obtained+="<span style='color: #AAA;'>("+_tmi("NPC")+")</span></span>,&nbsp;"}}t={easy:443,normal:444,hard:445,hell:657};m=!1;for(var F in t)if("undefined"!==typeof object_base[t[F]].params.results[0].returns)for(var y in object_base[t[F]].params.results[0].returns){if(b==object_base[t[F]].params.results[0].returns[y].id){m=!0;break}if(m)break}m&&(c.obtained+="<span style='color:"+k+";'>"+_ti("Party Quest")+
"</span>,&nbsp;");m=!1;for(y in object_base[726].params.results[0].returns)if(b==object_base[726].params.results[0].returns[y].id){m=!0;break}m&&(c.obtained+="<span style='color:"+k+";'>"+_tm("Rare Key")+"</span>,&nbsp;");F={common:708,rare:709,legendary:710};m=!1;for(var G in F)for(y in object_base[F[G]].params.results[0].returns){if(b==object_base[F[G]].params.results[0].returns[y].id){m=!0;break}if(m)break}m&&(c.obtained+="<span style='color:"+k+";'>"+_ti("Boss retaliation")+"</span>,&nbsp;");
if("undefined"===typeof g.no_present){y="";for(var D in n)g.price>=n[D][1]&&g.price<=n[D][2]&&(y+=_tmi(D)+", ");y=y.slice(0,-2);0!==y.length&&(c.obtained+="<span style='color:"+k+";'>"+_tmi("Present")+" <span style='color: #AAA;'>("+y+")</span></span>,&nbsp;")}g=!1;for(p in ItemPacks)if(!g&&ItemPacks[p].items){if(ItemPacks[p].enabled)for(var E in ItemPacks[p].items)if(ItemPacks[p].items[E].id==b){c.obtained+="<span style='color:"+k+";'>MOS</span>,&nbsp;";g=!0;break}}else break;0<c.obtained.length?
(c.obtained="<span style='text-align: center;'>"+_tmi("Obtained")+": <span style='color: #AAA'><span style='width: 60%;'>"+c.obtained.slice(0,-7),c.obtained+="</span></span></span>"):c.obtained=!1;return c};Mods.Mosmob.compileInfo=function(b){b=Mods.Mosmob.gatherParams(b);if(!1===b)return!1;var c="<div style='color:#FFF; padding: 0px 10px 2px 10px; text-align: center;'>"+_tmi("Owned")+": "+b.owned+"<span style='color: #AAA'>,</span> "+_tmi("Value")+": "+b.price+"<br>",c=c+(b.obtained?b.obtained:"");
Mods.Mosmob.enhanced||(c+=b.spell?_tmi("Spell Info")+": <span style='color: #FFF;'>"+b.spell+"</span><br>":"");c+=b.enchant?_tmi("Enchant Info")+": <span style='color: #FFF;'>"+b.enchant+"</span>":"";return c+"</div>"};createElem("div","options_video",{innerHTML:"<span class='wide_link pointer' id='settings_enhancedTooltip' onclick='Mods.Mosmob.toggle();'>"+_tmi("Enhanced tooltips")+" ("+_tmi("off")+")</span>"});getElem("my_text").style.zIndex="90";Mods.Mosmob.toggle();Mods.timestamp("mosmob")};
Load.fullscreen=function(){modOptions.fullscreen.time=timestamp();Mods.Fullscreen.toggle=function(){var b=getElem("settings_fullscreen"),c=getElem("settings_game_grid");switch(Mods.Fullscreen.enabled){case 0:b.innerHTML=_tmi("Fullscreen Mode")+" ("+_tmi("off")+")";Mods.Fullscreen.enabled=1;c.onclick=function(){toggleGridSize()};1==zoom_level&&(c.style.color="",map_increase=4);fullscreen_mode=!1;break;default:b.innerHTML=_tmi("Fullscreen Mode")+" ("+_tmi("on")+")<br/><span style='color:red;font-size:10px;'>"+
_tmi("WARNING: May impact game performance.")+"</span>",Mods.Fullscreen.enabled=0,c.onclick="",c.style.color="#AAA",6!=map_increase&&(UIRules.map_increase_pre_zoom=map_increase),map_increase=6,experimental_fullscreen&&(renderGround(),fullscreen_mode=!0)}LStorage.set("fullscreenenabled",JSON.stringify(Mods.Fullscreen.enabled));resetMapShift();drawMap();setCanvasSize(!0)};iMapBegin=function(){return 0===Mods.Fullscreen.enabled?-6:Mods.Fullscreen.iMapBegin()};jMapBegin=function(){return 0===Mods.Fullscreen.enabled?
-10:Mods.Fullscreen.jMapBegin()};iMapTo=function(){return 0===Mods.Fullscreen.enabled?minimap?99:25:Mods.Fullscreen.iMapTo()};jMapTo=function(){return 0===Mods.Fullscreen.enabled?minimap?99:22:Mods.Fullscreen.jMapTo()};astar.search=function(b,c,f,k,g){return 0===Mods.Fullscreen.enabled?Mods.Fullscreen.astarsearchNew(b,c,f,k,g):Mods.Fullscreen.astarsearchOld(b,c,f,k,g)};Mods.Fullscreen.astarsearchNew=function(b,c,f,k,g){var m;m=6==map_increase?15:5+map_increase/2;astar.init(b,c,m+1);g=g||astar.manhattan;
k=!!k;var n=astar.heap();for(n.push(c);0<n.size();){var p=n.pop();if(p===f){b=p;for(c=[];b.parent;)c.push(b),b=b.parent;return c.reverse()}p.closed=!0;for(var t=astar.neighbors(b,p,k,c,m),r=0,v=t.length;r<v;r++){var u=t[r];if(!u.closed&&!u.isWall()){var z=p.g+u.cost,w=u.visited;if(!w||z<u.g)u.visited=!0,u.parent=p,u.h=u.h||g(u.pos,f.pos),u.g=z,u.f=u.g+u.h,w?n.rescoreElement(u):n.push(u)}}}return[]};createElem("div","options_video",{innerHTML:"<span class='wide_link pointer' id='settings_fullscreen' onclick='Mods.Fullscreen.toggle();'>"+
_tmi("Fullscreen Mode")+" ("+_tmi("off")+")</span>"});getElem("my_text").style.zIndex="90";Mods.Fullscreen.toggle();Mods.timestamp("fullscreen")};
Load.autocast=function(){modOptions.autocast.time=timestamp();Mods.Autocast.toggle=function(){var b=getElem("settings_autocast");switch(Mods.Autocast.enabled){case 0:b.innerHTML=_tmi("Autocast")+" ("+_tmi("off")+")";Mods.Autocast.enabled=1;break;default:b.innerHTML=_tmi("Autocast")+" ("+_tmi("on")+")",Mods.Autocast.enabled=0}LStorage.set("autocastenabled",JSON.stringify(Mods.Autocast.enabled))};Mods.Autocast.socketOn={actions:["attack"],fn:function(b,c,f){0===Mods.Autocast.enabled&&0<players[0].params.magic_slots&&
"attack"===b&&("0"!=f.defender&&"0"!=f.attacker||setTimeout(function(){Mods.Autocast.TryCast()},175))}};Mods.Autocast.TryCast=function(){if(inAFight&&0===Mods.Autocast.enabled){for(var b=0;b<players[0].params.magic_slots;b++)players[0].params.magics[b]&&players[0].params.magics[b].ready&&Player.client_use_magic(b,!0);Mods.Autocast.lastFullCast=timestamp();setTimeout(function(){Mods.Autocast.TryCast()},190)}};createElem("div","options_game",{innerHTML:"<span class='wide_link pointer' id='settings_autocast' onclick='Mods.Autocast.toggle();'>"+
_tmi("Autocast")+" ("+_tmi("off")+")</span>"});Mods.Autocast.toggle();Mods.timestamp("autocast")};
Load.petinv=function(){modOptions.petinv.time=timestamp();Mods.Petinv.invHeight=function(){var b=getElem("inventory"),c=getElem("inv_pet_chest"),f=getElem("pet_inv_container"),k=getElem("pet_inv_expand"),g=getElem("pet_inv_btn"),m=getElem("pet_inv_load_btn"),n=getElem("pet_inv_unload_btn");players[0].pet.enabled?(removeClass(c,"hidden"),g.style.display="inline-block",m.style.display="inline-block",n.style.display="inline-block",addClass(b,"hasPet"),Mods.Petinv.petInv_toggle?(removeClass(k,"collapsed caret-down"),
addClass(k,"caret-up"),removeClass(f,"hidden"),Mods.Petinv.init_menuInv()):(removeClass(k,"caret-up"),addClass(k,"collapsed caret-down"),addClass(f,"hidden"))):(removeClass(b,"hasPet"),addClass(c,"hidden"),g.style.display="none",m.style.display="none",n.style.display="none")};Mods.Petinv.spawnInvPetChest=function(){for(a=0;24>a;a++)createElem("div","pet_inv_items",{id:"inv_pet_chest_holder_"+a,className:"inv_item_single",innerHTML:"<div id='inv_pet_chest_"+a+"' class='inv_item'>&nbsp;</div>"})};Mods.Petinv.init_menuInv=
function(){for(var b=0;24>b;b++)players[0].pet.enabled&&(getElem("inv_pet_chest_holder_"+b).style.display=pets[players[0].pet.id].params.inventory_slots>b?"inline-block":"none");if(players[0].pet.enabled){for(b=0;b<pets[players[0].pet.id].params.inventory_slots;b++){var c=getElem("inv_pet_chest_"+b);removeClass(c,"selected");if("undefined"!=typeof players[0].pet.chest[b]){var f=item_base[players[0].pet.chest[b]];c.style.background=Items.get_background(f.b_i)}else c.style.background=""}b=pets[players[0].pet.id];
b=b.params.xp_required?_tmi("Pet experience {xp}/{total} ({percent}%)",{ns:"interface",xp:Math.round(players[0].pet.xp),total:b.params.xp_required,percent:Math.floor(players[0].pet.xp/b.params.xp_required*100)}):b.params.requires_stone?_tmi("Pet needs {item_name} to evolve.",{ns:"interface",item_name:item_base[710].name}):_tmi("Pet has reached its maximum level",{ns:"interface"})+".";getElem("inv_pet_level").innerHTML=b}for(b=0;40>b;b++)c=getElem("inv_"+b),"undefined"!=typeof players[0].temp.inventory[b]?
(f=item_base[players[0].temp.inventory[b].id],c.style.background=Items.get_background(f.b_i)):c.style.background=""};Mods.Petinv.invSendItemCheck=function(b){enableShiftClick=getElem("shift_click").checked;return!1===Mods.Petinv.petInv_toggle||!1===players[0].pet.enabled?!1:!0===b&&!0===enableShiftClick||!1===b&&!1===enableShiftClick?!0:!1};Mods.Petinv.createFunc=function(b){return function(c){Mods.disableInvClick||(Mods.Petinv.invSendItemCheck(c.shiftKey)?Pet.menu_add(b):(inventoryClick(b),left_click_cancel=
!0))}};Mods.Petinv.socketOn={actions:["my_pet_data","skills"],fn:function(b,c){if("my_pet_data"==b||"skills"==b)Mods.Petinv.init_menuInv(),Mods.Petinv.invHeight()}};Mods.Petinv.unload=function(b){Pet.menu_unload()};Mods.Petinv.load=function(b){Pet.menu_load()};(function(){createElem("div","inventory",{id:"inv_pet_chest"});createElem("div","inv_pet_chest",{id:"pet_inv_expand",className:"caret-down",innerHTML:_tmi("Pet's chest",{ns:"interface"})});createElem("div","inv_pet_chest",{id:"pet_inv_container"});
createElem("div","pet_inv_container",{id:"pet_inv_items"});createElem("div","pet_inv_container",{id:"inv_pet_settings"});createElem("div","inv_pet_settings",{id:"inv_pet_level",innerHTML:_tmi("Pet has reached its maximum level",{ns:"interface"})+"."});createElem("div","inv_pet_settings",{id:"inv_pet_btn_holder"});createElem("div","inv_pet_settings",{id:"inv_checkbox_holder"});createElem("div","inv_checkbox_holder",{id:"inv_checkbox",title:_tm("When set to (send items), hold Shift and click items in your inventory to send them to your pet chest.")+
"\n"+_tm("Regular click uses/equips the items. Toggle to (use items) to reverse this functionality."),innerHTML:_tmi("use items = shift+click")});createElem("input","inv_checkbox_holder",{id:"shift_click",type:"checkbox"});getElem("inv_name").innerHTML=getElem("inv_name").innerHTML+'<div class="rect_circle_btn" id="pet_inv_btn" title="'+_tm("Pet Inventory")+'" onclick="javascript: getElem(\'pet_inv_expand\').click();" style="margin-left: 2px;display:none;"><div style="background: url(\''+IMAGE_SHEET[IMAGE_SHEET.ACTIONS].url+
'\') 0px -160px no-repeat scroll transparent;width: 32px;height: 32px;top: -2px;position: absolute;left: -2px;">&nbsp;</div></div><div class="circle_btn" id="pet_inv_load_btn" title="'+_tm("Load pet inventory")+'" onclick="javascript: Pet.menu_load();" style="margin-left: 2px;margin-top: 2px;display:none;"><div style="background: url(\''+IMAGE_SHEET[IMAGE_SHEET.ACTIONS].url+'\') -96px -192px no-repeat scroll transparent;width: 32px;height: 32px;top: -2px;position: absolute;left: -4px;">&nbsp;</div></div><div class="circle_btn" id="pet_inv_unload_btn" title="'+
_tm("Unload pet inventory")+'" onclick="javascript: Pet.menu_unload();" style="margin-left: 2px;margin-top: 2px;display:none;"><div style="background: url(\''+IMAGE_SHEET[IMAGE_SHEET.ACTIONS].url+"') -128px -192px no-repeat scroll transparent;width: 32px;height: 32px;top: -2px;position: absolute;left: -3px;\">&nbsp;</div></div>";Mods.Petinv.spawnInvPetChest();getElem("shift_click").checked=Mods.Petinv.enableShiftClick_check;for(a=0;40>a;a++)getElem("inv_"+a).onclick=Mods.Petinv.createFunc(a);for(a=
0;24>a;a++)getElem("inv_pet_chest_"+a).onclick=function(b){return function(){Pet.menu_remove(b)}}(a);getElem("pet_inv_expand").onclick=new Function("Mods.Petinv.petInv_toggle = !Mods.Petinv.petInv_toggle; Mods.Petinv.invHeight();");Mods.Petinv.invHeight();Mods.Petinv.init_menuInv();Mods.Petinv.enableShiftClick_check?(getElem("inv_checkbox").innerHTML=_tmi("send items = shift+click"),getElem("shift_click").checked=!0):(getElem("inv_checkbox").innerHTML=_tmi("use items = shift+click"),getElem("shift_click").checked=
!1);getElem("shift_click").onclick=function(){Mods.Petinv.enableShiftClick_check=!Mods.Petinv.enableShiftClick_check;LStorage.set("enableShiftClick",Mods.Petinv.enableShiftClick_check);Mods.Petinv.enableShiftClick_check?getElem("inv_checkbox").innerHTML=_tmi("send items = shift+click"):getElem("inv_checkbox").innerHTML=_tmi("use items = shift+click")}})();Mods.timestamp("petinv")};
Load.magicm=function(){modOptions.magicm.time=timestamp();Mods.Magicm.socketOn={actions:["message"],fn:function(b,c,f){c.color==COLOR.GREEN&&c.key&&-1<c.key.search("magic damage")&&0!=c.key.search("Blocked")&&(b=c.key.substr(1,c.key.search("magic damage")-7),Mods.Magicm.show_magic_damage(b))}};Mods.Magicm.show_magic_damage=function(b){var c=99<b?"enemy_hit_critical":"enemy_hit",f=getElem(c).cloneNode(!0),k=Mods.Magicm.enemy,g=Mods.Magicm.magic_damage_timers,m=0===g[0]?0:0===g[1]?1:0===g[2]?2:0===
g[3]?3:g[0]<=g[1]?0:g[1]<=g[2]?1:g[2]<=g[3]?2:3,n=0===m||2===m?(m/2*-1-.5)*half_tile_width_round:m/2*half_tile_width_round,p=-2*half_tile_height_round,t=players[0].temp.target_id,t=objects_data[t]||players[t];k!=t&&(k=Mods.Magicm.magic_damage_timers,k[0]=k[1]=k[2]=k[3]=0,k=Mods.Magicm.enemy=t);k&&(t=translateTileToCoordinates(k.i,k.j),t=adjustCoordsToZoomCoords(t.x,t.y),f.id="magic_"+m+k.id+(new Date).getTime(),removeClass(f,"hidden"),f.innerHTML=getElem(c).innerHTML,f.childNodes[0].innerHTML=b,wrapper.appendChild(f),
f.style.left=(t.x+(99<b?6:13)+players[0].mx+n)*current_ratio_x+"px",f.style.top=(t.y-(99<b?46:40)+players[0].my+p)*current_ratio_y+"px",addClass(f,"opacity_100"),g[m]=100,setTimeout(function(){decreaseOpacity(f,150,10);Mods.Magicm.decreaseMagic(m,150,10)},150))};Mods.Magicm.decreaseMagic=function(b,c,f){0<Mods.Magicm.magic_damage_timers[b]&&(Mods.Magicm.magic_damage_timers[b]=Math.max(Mods.Magicm.magic_damage_timers[b]-f,0),setTimeout(function(){Mods.Magicm.decreaseMagic(b,c,f)},c))};Mods.timestamp("magicm")};
Load.wikimd=function(){modOptions.wikimd.time=timestamp();Mods.Wikimd.populate_item_formulas=function(){var b={wing:Forge.enchantingChancesCapes,weapon:Forge.enchantingChancesWeapon,armor:Forge.enchantingChancesArmor,jewelry:Forge.enchantingChancesJewelry},c=[],f=[];Mods.Wikimd.item_formulas={};for(var k in item_base){var g=item_base[k],m=g.b_i,n=ITEM_CATEGORY[g.b_t],p=g.name,t=g.params,r=g.temp,v=g.img,u=Mods.Wikimd.item_slots[t.slot]||"none",z=thousandSeperate(t.price),w="none",x="none",F=t.enchant_id,
y=10==t.slot?Magic[t.magic].params:!1,G=20==t.slot&&"undefined"!=typeof t.min_archery?!0:!1,g=t.farming_id||!1,D=t.fungiculture_id||!1;"L.Hand"===u&&3==t.disable_slot&&(u="2 Hands");for(var E in skills[0])"undefined"!==typeof t["min_"+E]&&(w=capitaliseFirstLetter(E),x=item_base[k].params["min_"+E]);"undefined"!==typeof t.heal&&(w="Food",x=t.heal);Mods.Wikimd.item_formulas[m]=Mods.Wikimd.item_formulas[m]||{};Mods.Wikimd.item_formulas[m].id=m;Mods.Wikimd.item_formulas[m].type=n;Mods.Wikimd.item_formulas[m].name=
p;Mods.Wikimd.item_formulas[m].params=t;Mods.Wikimd.item_formulas[m].temp=r;Mods.Wikimd.item_formulas[m].img=v;Mods.Wikimd.item_formulas[m].skill=w;Mods.Wikimd.item_formulas[m].level=x;Mods.Wikimd.item_formulas[m].slot=u;Mods.Wikimd.item_formulas[m].price=z;if(F&&(w=Mods.enchantType(Mods.Wikimd.item_formulas[m].id),0!=w)){var p=b[w],n={},A;for(A in p)p=item_base[A].name||"",-1!==p.indexOf("Enchant Scroll")&&(p=p.split(" ")[0].toLowerCase(),v=Math.min(100,Forge.enchant_chance(m,A,0)),n[p]={percent:v,
xp:FORGE_MATERIAL_XP[A]||0});Mods.Wikimd.item_formulas[m].enchant=Mods.Wikimd.item_formulas[m].enchant||{};Mods.Wikimd.item_formulas[m].enchant.to_enchant=F;Mods.Wikimd.item_formulas[m].enchant.type=w;Mods.Wikimd.item_formulas[m].enchant.low=n.low||{};Mods.Wikimd.item_formulas[m].enchant.med=n.medium||{};Mods.Wikimd.item_formulas[m].enchant.high=n.high||{};Mods.Wikimd.item_formulas[m].enchant.sup=n.superior||{};Mods.Wikimd.item_formulas[m].enchant.anc=n.ancient||{};Mods.Wikimd.item_formulas[F]=Mods.Wikimd.item_formulas[F]||
{};Mods.Wikimd.item_formulas[F].enchant=Mods.Wikimd.item_formulas[F].enchant||{};Mods.Wikimd.item_formulas[F].enchant.from_enchant=m}y&&(Mods.Wikimd.item_formulas[m].magic=y,Mods.Wikimd.item_formulas[m].magic.min_level=x);if(G){var x={},H;for(H in t)0===H.indexOf("archery_")&&(x[H]=t[H]);Mods.Wikimd.item_formulas[m].arrow=x;Mods.Wikimd.item_formulas[m].arrow.min_level=t.min_archery}g&&c.push(m);D&&f.push(m)}for(k in object_base)if(w=object_base[k],p={},p.name=w.name,p.id=w.b_i,p.img=w.img,"undefined"!==
typeof w.params.results)for(E in t=w.params.results,t){w=t[E].skill;A=t[E].returns;var b=t[E].requires||[],D=t[E].requires_one_from||[],B;for(B in A)if(g=A[B],m=g.id,x=g.level,F=g.base_chance||null,y=g.max_chance||null,n=g.xp||null,v=g.consumes||null,g=g.we_only||!1,"health"!=w){Mods.Wikimd.item_formulas[m].craft=Mods.Wikimd.item_formulas[m].craft||{};Mods.Wikimd.item_formulas[m].craft.source=Mods.Wikimd.item_formulas[m].craft.source||{};for(H in Mods.Wikimd.item_formulas[m].craft.source)if(Mods.Wikimd.item_formulas[m].craft.source[H].name==
p.name){p.id=Mods.Wikimd.item_formulas[m].craft.source[H].id;break}"undefined"===typeof Mods.Wikimd.item_formulas[m].craft.source[p.id]&&(Mods.Wikimd.item_formulas[m].craft.source[p.id]={},Mods.Wikimd.item_formulas[m].craft.source[p.id].object=p,Mods.Wikimd.item_formulas[m].craft.source[p.id].name=p.name,Mods.Wikimd.item_formulas[m].craft.source[p.id].id=p.id);Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns=Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns||{};var r=!0,q=0,C;for(C in Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns)G=
Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns[C],G.skill==w&&G.xp==n&&G.base_chance==F&&G.max_chance==y&&(r=JSON.stringify(G.requires.sort())!==JSON.stringify(b.sort()),G=JSON.stringify(G.requires_one_from.sort())!==JSON.stringify(D.sort()),r=r||G?!0:!1),r&&q++;r&&(Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns[q]={consumes:v,requires:b,requires_one_from:D,base_chance:F,max_chance:y,skill:w,xp:n,level:x,we_only:g})}}for(q in FORGE_FORMULAS){g=FORGE_FORMULAS[q];m=g.item_id;w=object_base[36];
p={};p.name=w.name;p.id=w.b_i;p.type=w.type;p.img=w.img;p.b_t=w.b_t;w="forging";g.fletching_level?w="fletching":g.wizardry_level&&(w="wizardry");x=g.level||g.fletching_level||g.wizardry_level;H=g.chance;G=g.pattern||null;n=g.xp;b=JSON.parse(JSON.stringify(g.materials));v={};for(k in b)v[k]=b[k];delete v[36];b[36]=1;Mods.Wikimd.item_formulas[m].craft=Mods.Wikimd.item_formulas[m].craft||{};Mods.Wikimd.item_formulas[m].craft.source=Mods.Wikimd.item_formulas[m].craft.source||{};Mods.Wikimd.item_formulas[m].craft.source[p.id]=
Mods.Wikimd.item_formulas[m].craft.source[p.id]||{};Mods.Wikimd.item_formulas[m].craft.source[p.id].object=p;Mods.Wikimd.item_formulas[m].craft.source[p.id].skill=w;Mods.Wikimd.item_formulas[m].craft.source[p.id].level=x;Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns=Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns||{};Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns[q]={pattern:G,requires:b,chance:H,consumes:v,xp:n}}for(q in CARPENTRY_FORMULAS){B=CARPENTRY_FORMULAS[q];p=
{name:"House"};p.type=q;H=1;var w="Carpentry",J;for(J in B)if(g=B[J],m=g.item_id,x=g.level,v=g.consumes||[],g.craftable&&0!==v.length){n=0;for(k in v)"length"!=k&&(n+=CARPENTRY_MATERIAL_XP[v[k].id]*v[k].count);Mods.Wikimd.item_formulas[m].craft=Mods.Wikimd.item_formulas[m].craft||{};Mods.Wikimd.item_formulas[m].craft.source=Mods.Wikimd.item_formulas[m].craft.source||{};Mods.Wikimd.item_formulas[m].craft.source.Carpentry=Mods.Wikimd.item_formulas[m].craft.source.Carpentry||{};Mods.Wikimd.item_formulas[m].craft.source.Carpentry.object=
p;Mods.Wikimd.item_formulas[m].craft.source.Carpentry.skill=w;Mods.Wikimd.item_formulas[m].craft.source.Carpentry.level=x;Mods.Wikimd.item_formulas[m].craft.source.Carpentry.patterns=Mods.Wikimd.item_formulas[m].craft.source.Carpentry.patterns||{};Mods.Wikimd.item_formulas[m].craft.source.Carpentry.patterns[J]={requires:v,chance:H,consumes:v,xp:n}}}for(q in c)m=item_base[c[q]],J=object_base[m.params.farming_id],x=m.params.min_farming,m=J.params.results[0].returns[0].id,Mods.Wikimd.item_formulas[m].craft.source[J.b_i]&&
Mods.Wikimd.item_formulas[m].craft.source[J.b_i].patterns&&(G=Mods.Wikimd.item_formulas[m].craft.source[J.b_i].patterns[0],G.level=x,G.consumes=[{id:c[q],count:1}]);for(q in f)m=item_base[f[q]],c=object_base[m.params.fungiculture_id],x=m.params.min_fungiculture,m=c.params.results[0].returns[0].id,Mods.Wikimd.item_formulas[m].craft.source[c.b_i]&&Mods.Wikimd.item_formulas[m].craft.source[c.b_i].patterns&&(G=Mods.Wikimd.item_formulas[m].craft.source[c.b_i].patterns[0],G.level=x,G.consumes=[{id:f[q],
count:1}]);for(q in object_base[42].params.results)for(var L in object_base[42].params.results[q].returns)"undefined"!==typeof object_base[42].params.results[q].returns[L].count&&(f=object_base[42].params.results[q].returns[L].count,m=object_base[42].params.results[q].returns[L].id,Mods.Wikimd.item_formulas[m].craft.source[42].patterns[L].count=f);for(q in FLETCHING_FORMULAS){g=FLETCHING_FORMULAS[q];m=g.item_id;w=object_base[398];p={};p.name=w.name;p.id=w.b_i;p.type=w.type;p.img=w.img;p.b_t=w.b_t;
w="fletching";x=g.level;H=g.chance;G=g.pattern||null;n=g.xp;v={};for(k in G)v[G[k]]=1;Mods.Wikimd.item_formulas[m].craft=Mods.Wikimd.item_formulas[m].craft||{};Mods.Wikimd.item_formulas[m].craft.source=Mods.Wikimd.item_formulas[m].craft.source||{};Mods.Wikimd.item_formulas[m].craft.source[p.id]=Mods.Wikimd.item_formulas[m].craft.source[p.id]||{};Mods.Wikimd.item_formulas[m].craft.source[p.id].object=p;Mods.Wikimd.item_formulas[m].craft.source[p.id].skill=w;Mods.Wikimd.item_formulas[m].craft.source[p.id].level=
x;Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns=Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns||{};Mods.Wikimd.item_formulas[m].craft.source[p.id].patterns[q]={pattern:G,chance:H,consumes:v,xp:n}}for(k in npc_base){w=npc_base[k];if("undefined"!==typeof w.params.drops)for(E in L=w.params.drops,L)g=L[E],m=g.id,p=w.name,q=w.b_i,n=w.b_t,v=w.img,H=g.chance,x=w.level,g=g.we_only,Mods.Wikimd.item_formulas[m].drop=Mods.Wikimd.item_formulas[m].drop||{},Mods.Wikimd.item_formulas[m].drop.sources=
Mods.Wikimd.item_formulas[m].drop.sources||{},Mods.Wikimd.item_formulas[m].drop.sources[k]={name:p,id:q,level:x,type:n,chance:H,img:v,we_only:g};if("undefined"!==typeof w.temp.content)for(E in L=w.temp.content,L)g=L[E],m=g.id,p=w.name,q=w.b_i,n=w.b_t,v=w.img,f=g.count||0,x=g.spawn||!1,Mods.Wikimd.item_formulas[m].sold=Mods.Wikimd.item_formulas[m].sold||{},Mods.Wikimd.item_formulas[m].sold.sources=Mods.Wikimd.item_formulas[m].sold.sources||{},Mods.Wikimd.item_formulas[m].sold.sources[k]={name:p,id:q,
count:f,type:n,spawn:x,img:v}}Mods.Wikimd.populate_formulas()};Mods.Wikimd.populate_formulas=function(){var b=Mods.Wikimd.item_formulas,c=Mods.Wikimd.formulas={},f=0,k,g,m,n,p,t;for(t in b)if("undefined"!==typeof b[t].craft&&"undefined"!==typeof b[t].craft.source)for(var r in b[t].craft.source){var v=b[t].craft.source[r].patterns,u;for(u in v){c[f]={};c[f].id=b[t].id;c[f].img=b[t].img;c[f].name=b[t].name;c[f].object=b[t].craft.source[r].object;c[f].pattern=v[u];c[f].level="undefined"!==typeof v[u].level&&
(0===v[u].level?1:v[u].level)||b[t].craft.source[r].level;c[f].skill=v[u].skill||b[t].craft.source[r].skill;c[f].xp=v[u].xp||b[t].craft.source[r].xp;k={};g=c[f].pattern.requires;m={};n=c[f].pattern.consumes;for(p in n)"object"===typeof n[p]?m[n[p].id]=n[p].count:m[p]=n[p];for(p in g)"object"===typeof g[p]?"undefined"!==typeof g[p].id&&"undefined"!==typeof g[p].count?k[g[p].id]=g[p].count:k[g[p]]=1:"Anvil"!==c[f].object.name?k[g[p]]=1:k[p]=g[p];delete c[f].pattern.consumes;delete c[f].pattern.requires;
c[f].pattern.requires=k;c[f].pattern.consumes=m;f++}}};Mods.Wikimd.populate_pets=function(){function b(b){"undefined"===typeof f[b]&&(f[b]={Name:pets[b].name,idPrev:null,idCurr:pets[b].b_i,idNext:null})}var c=Mods.Wikimd.pet_family||{},f={},k;for(k in pets)if(b(k),"undefined"!==typeof pets[k].params.next_pet_item_id){var g=item_base[pets[k].params.next_pet_item_id].params.pet;f[k].idNext=g;b(g);f[g].idPrev=Number(k)}for(k=1;0<Object.keys(f).length;){for(var m in f)if(f[m].idPrev)for(var n in c){var g=
pets[m].params.item_id,p=pets[f[m].idPrev].params.item_id,t=[],r;for(r in c[n])c[n].hasOwnProperty(r)&&t.push(c[n][r]);if(-1!==t.indexOf(p)){p=Object.keys(c[n]).length+1;c[n][p]=g;delete f[m];break}}else g=pets[m].params.item_id,c[g]={1:g},delete f[m];k++;if(5<=k)break}for(m in c)for(n in c[m])"undefined"===typeof c[n]&&(c[c[m][n]]=c[m]);for(m in Mods.Wikimd.formulas)g=Mods.Wikimd.formulas[m].id,"undefined"!==typeof item_base[g].params.pet&&"Big Treasure Chest"!=Mods.Wikimd.formulas[n].object.name&&
-1===["woodcutting","mining","fishing"].indexOf(Mods.Wikimd.formulas[n].skill)&&(c[g]=Mods.Wikimd.formulas[m])};Mods.Wikimd.populate_family=function(){var b=Mods.Wikimd.pet_family,c=Mods.Wikimd.family={},f;for(f in b){var k="undefined"!==typeof b[f][1]?b[f][1]:"undefined"!==typeof b[f][2]?b[f][2]:"undefined"!==typeof b[f][3]?b[f][3]:"undefined"!==typeof b[f][4]?b[f][4]:b[f][5];"number"===typeof k&&0<k&&(k=pets[item_base[k].params.pet].name,k=k.replace(/ ?(Baby|\[|\]|Ancient|Legendary|Rare|Common) ?/gi,
""),c[f]=k)}};Mods.Wikimd.populate_breeds=function(){var b=Mods.Wikimd.pet_breeds=[];for(index=1;index<pets.length;index++){var c=pets[index].params;if(c.breeding_level&&c.likes&&0!=c.likes.length){for(var f=0;f<c.likes.length;f++){var k=c.likes[f];if(!(k.pet_id<index)){for(var g=pets[k.pet_id].params,g={parent1:pets[item_base[c.item_id].params.pet],parent2:pets[item_base[g.item_id].params.pet],level:Math.max(c.breeding_level,g.breeding_level),time:Math.max(c.happiness,g.happiness),xp:k.xp,offspring:[]},
m=0;m<k.returns.length;m++){var n=k.returns[m],n={id:pets[n.pet_id].params.item_id,min:Math.round(100*n.base_chance),max:Math.round(100*n.max_chance)};n.show_both=n.min!=n.max;g.offspring.push(n)}b.push(g)}}sortArrayOfObjectsByFieldValueAsc(b,"level")}}};Mods.Wikimd.loadDivs=function(){createElem("div","mods_form_content",{id:"mod_wiki_mods_options",className:"common_border_bottom scrolling_allowed",style:"width: 99%; height: 24px; margin-bottom: 5px; font-size: .8em; display: none;",innerHTML:"<select     id='mods_wiki_type'                  class='market_select scrolling_allowed'             style='float:left;     margin:0px;                         width:70px;'></select><select     id='mods_wiki_type_item'             class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_monster'          class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_vendor'           class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_craft'            class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_enchant'          class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_pet'              class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_breed'            class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_spell'            class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_arrow'            class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:70px;         display:none;                        '></select><select     id='mods_wiki_type_item_type'        class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:80px;         display:none;                        '></select><select     id='mods_wiki_type_item_skill'       class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:80px;         display:none;                        '></select><select     id='mods_wiki_type_craft_skill'      class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:80px;         display:none;                        '></select><select     id='mods_wiki_type_craft_source'     class='market_select scrolling_allowed'             style='float:left;     margin:0px;     margin-left:6px;     width:80px;         display:none;                        '></select><input      id='mods_wiki_name' type='text'      class='market_select scrolling_allowed'             style='float:left;                     margin-left:6px;     width:200px;        display:none;     height:16px;       '></input><button     id='mods_wiki_load'                  class='market_select pointer scrolling_allowed'     style='                margin:0px;                                                                margin-bottom:2px; '>Go!</button>"});
createElem("span","mod_wiki_mods_options",{id:"mods_wiki_range_separate",className:"scrolling_allowed",style:"float: left; margin-left: 6px; height: 20px; display: none; border-left: 1px solid #FFF;",onclick:"javascript:Mods.Wikimd.loadWikiType(false);",innerHTML:"<select id='mods_wiki_range' class='market_select scrolling_allowed' style='float:left; margin-left:6px; width:70px; display:none; margin-top:0px;'></input>"});createElem("span","mod_wiki_mods_options",{id:"mods_wiki_level",className:"scrolling_allowed",
style:"float: left; margin-left: 6px; display: none;",onclick:"javascript:Mods.Wikimd.loadWikiType(false);",innerHTML:"<input type='text' id='mods_wiki_level_low' class='market_select scrolling_allowed' style='width: 25px; margin-right: 5px; height:16px; float:left;'><span class='scrolling_allowed' style='float:left; margin-top:3px;'>to</span><input type='text' id='mods_wiki_level_high' class='market_select scrolling_allowed' style='width: 25px;margin-left: 5px; height:16px; float:left;'>"});for(var b=
"",c=0;200>c;c++)for(var f=0;4>f;f++)if(0===f)b+="<tr class='scrolling_allowed wiki_f2 hidden' style='height:auto' id='wiki_row"+f+"_"+c+"'><td colspan='7'>&nbsp;</td></tr>";else{for(var k="<tr class='scrolling_allowed hidden' style='height:auto' id='wiki_row"+f+"_"+c+"'>",g=c,m=f,n="",p=0;6>p;p++){var t="<td class='scrolling_allowed wiki_h100 hidden' id='wiki_row"+m+"_col"+p+"_"+g+"'>",r=(0===g?"<div ":"<span ")+"class='scrolling_allowed' id='wiki_row",v="<div class='scrolling_allowed hidden' id='wiki_row"+
m+"_col"+p+"_div_"+g+"'>";0===p&&(v+="<div class='scrolling_allowed hidden' id='wiki_row"+m+"_col"+p+"_img_"+g+"'>&nbsp;</div>");v+=r+m+"_col"+p+"_text_"+g+(0===g?"'>&nbsp;</div>":"'>&nbsp;</span>");v+="</div>";n+=t+v+"</td>"}b+=k+n+"</tr>"}createElem("div","mods_form_content",{id:"mod_wiki_options",className:"scrolling_allowed",style:"display: block; height: 250px; overflow-x: hidden;width: 99%;",innerHTML:"<span class='scrolling_allowed' id='mod_wiki_search'>"+("<table id='mod_wiki_search_items_table' class='scrolling_allowed' cellspacing='0' cellpadding='0' style='font-size: 0.8em; width:99%; margin-top:5px; padding-right:1px; height: fit-content;'>"+
b+"</table>")+"</span>"});createElem("div",wrapper,{id:"wiki_recipe_form",className:"menu",style:"position: relative; left: 50%; top: 30%; z-index: 99999999; width: 145px; height: 163px; display: none;"});createElem("span","wiki_recipe_form",{id:"wiki_recipe_top",innerHTML:"<span class='pointer' style='font-weight: bold; color: #FFFFFF; float: right;' onclick='javascript: getElem(&apos;wiki_recipe_form&apos;).style.display = &apos;none&apos;'>Close</span>"});createElem("div","wiki_recipe_form",{id:"wiki_recipe_holder",
style:"position: relative; display: inline-block; float: left;"});for(c=0;4>c;c++)for(f=0;4>f;f++)createElem("div","wiki_recipe_holder",{id:"wiki_formula_"+c+"_"+f,className:"inv_item",style:"display: inline-block; width: 32px; height: 32px; border: 1px solid #999; margin: 1px; float: left;",innerHTML:"&nbsp;"});getElem("mods_wiki_type").innerHTML="<option value='-1'>Select</option>          <option value='item'>ITEM</option>                <option value='monster'>MOB</option>              <option value='vendor'>NPC</option>                  <option value='craft'>CRAFT</option>                <option value='enchant'>ENCHANT</option>          <option value='spell'>SPELL</option>             <option value='arrow'>ARROW</option>                    <option value='pet'>PET</option>                    <option value='breed'>BREED</option>";
getElem("mods_wiki_type_item").innerHTML="<option value='all'>All</option>            <option value='skill'>Skill</option>              <option value='type'>Type</option>                <option value='name'>Name</option>";getElem("mods_wiki_type_item_type").innerHTML="<option value='-1'>Select</option>          <option value='weapons'>Weapon</option>           <option value='r.hand armors'>Shield</option>          <option value='bow'>Bow</option>          <option value='quiver'>Quiver</option>          <option value='pouch'>Pouch & Book</option>     <option value='chest'>Chest</option>                 <option value='helm'>Helm</helm>                    <option value='pants'>Pants</option>              <option value='glove'>Gloves</option>            <option value='boots'>Boots</option>                    <option value='cape'>Wings & Capes</option>               <option value='neck'>Necklace</option>        <option value='ring'>Ring</option>            <option value='materials'>Materials</option>         <option value='tools'>Tools</option>                  <option value='foods'>Foods</option>             <option value='pet'>Pet</option>             <option value='spirit'>PvP Spirits</option>";
getElem("mods_wiki_type_item_skill").innerHTML="<option value='-1'>Select</option>        <option value='accuracy'>Accuracy</option>        <option value='alchemy'>Alchemy</option>        <option value='archery'>Archery</option>        <option value='carpentry'>Carpentry</option>        <option value='cooking'>Cooking</option>        <option value='defense'>Defense</option>        <option value='farming'>Farming</option>        <option value='fishing'>Fishing</option>        <option value='fletching'>Fletching</option>        <option value='forging'>Forging</option>        <option value='fungiculture'>Fungiculture</option>        <option value='health'>Health</option>        <option value='jewelry'>Jewelry</option>        <option value='magic'>Magic</option>        <option value='mining'>Mining</option>        <option value='strength'>Strength</option>        <option value='wizardry'>Wizardry</option>        <option value='woodcutting'>Woodcutting</option>";
getElem("mods_wiki_type_monster").innerHTML="<option value='all'>All</option>            <option value='name'>Name</option>                <option value='item'>Item</option>        <option value='boss-world'>World Bosses</option>        <option value='boss-cath'>Cathedral Bosses</option>                <option value='boss-retal'>Boss Retaliation</option>        <option value='rare'>Rares</option>";getElem("mods_wiki_type_vendor").innerHTML="<option value='name'>Name</option>                <option value='item'>Item</option>";
getElem("mods_wiki_type_craft").innerHTML="<option value='all'>All</option>            <option value='skill'>Skill</option>              <option value='source'>Source</option>            <option value='item'>Item</option>            <option value='tool'>Tool</option>            <option value='result'>Result</option>            <option value='materials'>Materials</option>";getElem("mods_wiki_type_craft_skill").innerHTML="<option value='-1'>Select</option>          <option value='alchemy'>Alchemy</option>          <option value='woodcutting'>Woodcutting</option>      <option value='farming'>Farming</option>             <option value='fishing'>Fishing</option>            <option value='cooking'>Cooking</option>          <option value='jewelry'>Jewelry</option>         <option value='carpentry'>Carpentry</option>            <option value='forging'>Forging</option>         <option value='mining'>Mining</option>          <option value='magic'>Magic</option>      <option value='fletching'>Fletching</option>      <option value='wizardry'>Wizardry</option>      <option value='fungiculture'>Fungiculture</option>";
getElem("mods_wiki_type_craft_source").innerHTML="<option value='-1'>Select</option>          <option value='furnace'>Furnace</option>          <option value='anvil'>Anvil</option>              <option value='campfire'>Campfire</option>           <option value='alchemy table'>Alchemy Table</option>       <option value='kettle'>Kettle</option>             <option value='fletching table'>Fletching</option>     <option value='other'>Other</option>";getElem("mods_wiki_type_pet").innerHTML="<option value='all'>All</option>            <option value='name'>Name</option>                <option value='family'>Family</option";
getElem("mods_wiki_type_enchant").innerHTML="<option value='item'>Item</option>";getElem("mods_wiki_type_breed").innerHTML="<option value='all'>All</option>            <option value='name'>Name</option>            <option value='parents'>Parents</option>";getElem("mods_wiki_type_spell").innerHTML="<option value='all'>All</option>            <option value='name'>Name</option>";getElem("mods_wiki_type_arrow").innerHTML="<option value='all'>All</option>            <option value='name'>Name</option>";
var c={type:0,type_item:1,type_monster:1,type_vendor:1,type_craft:1,type_pet:1,type_spell:1,type_arrow:1,type_enchant:1,type_breed:1,type_item_type:2,type_item_skill:2,type_craft_skill:2,type_craft_source:2},f=["onchange"],u;for(u in c)for(var z in f)getElem("mods_wiki_"+u).setAttribute(f[z],"javascript: Mods.Wikimd.loadWikiType("+c[u]+");");getElem("mods_wiki_name").setAttribute("onclick","javascript:Mods.Wikimd.loadWikiType(false);");getElem("mods_wiki_load").setAttribute("onclick","javascript:Mods.Wikimd.populateWiki(true);");
getElem("mods_wiki_name").setAttribute("onfocus","javascript: Mods.blockKbind = true;");getElem("mods_wiki_name").setAttribute("onblur","javascript: Mods.blockKbind = false");getElem("mods_wiki_level_low").setAttribute("onfocus","javascript: Mods.blockKbind = true;");getElem("mods_wiki_level_low").setAttribute("onblur","javascript: Mods.blockKbind = false");getElem("mods_wiki_level_high").setAttribute("onfocus","javascript: Mods.blockKbind = true;");getElem("mods_wiki_level_high").setAttribute("onblur",
"javascript: Mods.blockKbind = false");getElem("mod_wiki_options").style.display="none";getElem("mod_load_options").style.display="none";getElem("mod_load_options").style.display="block"};Mods.Wikimd.chatSystemToggle=function(){return Mods.blockKbind?(Mods.Wikimd.populateWiki(!0),!0):!1};Mods.Wikimd.nameMenu=function(b,c){if("string"===typeof b&&"number"===typeof c&&("item"===b||"craft"===b||"pet"===b||"spell"===b||"enchant"===b||"breed"===b?item_base:"monster"===b&&npc_base)){var f=getElem("action_menu");
addClass(f,"hidden");var k=Mods.Wikimd.mouse;f.style.top=k.y+10+"px";f.style.left=k.x+"px";if("item"!==b&&"craft"!==b&&"pet"!==b&&"spell"!==b&&"enchant"!==b&&"breed"!==b||!modOptions.chatmd.loaded)"monster"===b&&modOptions.rclick.loaded&&(g=npc_base[c].name,f.innerHTML="<div style='padding-left: 3px;'><span class='line' onclick='ActionMenu.mobDrops("+c+",4);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)' style='margin-left:-5px;'><span class='item'>"+g+"</span>Drops</span>"+(Mods.Chatmd&&
"undefined"!==typeof Mods.Chatmd.chatCommands&&"undefined"!==typeof Mods.Newmap&&"undefined"!==typeof Mods.Newmap.POI&&"undefined"!==typeof Mods.Newmap.POIfind?"<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/find "+g.replace("[BOSS]","").replace(/'/g,"\\&apos;").toLowerCase()+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;);'>Find<span class='item'>"+g+"</span></span>":"")+"<span class='line' onclick='ActionMenu.combatCheck("+c+");addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;);'>Combat Analysis</span><span class='line' onclick='addClass(getElem(&apos;action_menu&apos;),&apos;hidden&apos;)'>Close</span></div>");
else{var g=item_base[c].name.replace(/'/g,"*"),k="<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki item name "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>ITEM</span></span>",m;m="<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki mob item "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>MOB</span></span>";
var n;n="<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki npc item "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>NPC</span></span>";var p;p="<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki craft item "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>CRAFT</span></span>";var t;t="<span class='line' onclick='"+
("Mods.Chatmd.chatCommands(&apos;/wiki enchant item "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>ENCHANT</span></span>";var r=-1<item_base[c].params.pet?"<span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki pet name "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)' style='margin-left:-5px;'>Check Wiki<span class='item'>PET</span></span><span class='line' onclick='Mods.Chatmd.chatCommands(&apos;/wiki pet family "+
g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)' style='margin-left:-5px;'>Check Wiki<span class='item'>PET FAMILY</span></span>":"",v;v=-1<item_base[c].params.pet?"<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki breed name "+g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>BREED</span></span>":"";var g=10===item_base[c].params.slot?"<span class='line' onclick='"+("Mods.Chatmd.chatCommands(&apos;/wiki spell name "+
g+"&apos;);addClass(getElem(&apos;action_menu&apos;), &apos;hidden&apos;)")+"' style='margin-left:-5px;'>Check Wiki<span class='item'>SPELL</span></span>":"",u="item"===b&&Mods.isLoaded("Gearmd")&&-1!==[ITEM_CATEGORY.ARMOR,ITEM_CATEGORY.JEWELRY,ITEM_CATEGORY.WEAPON,ITEM_CATEGORY.PET,ITEM_CATEGORY.ARCHERY].indexOf(item_base[c].b_t)?"<span class='line' onclick='javascript: Mods.Gearmd.changeTryOn(true, "+c+");addClass(getElem(&apos;action_menu&apos;),&apos;hidden&apos;);' style='margin-left:-5px;'>Try on<span class='item'>Item</span></span>":
"";f.innerHTML=("<div style='padding-left: 8px;'>"+k+m+n+p+t+r+v+g+u+"<span class='line' onclick='addClass(getElem(&apos;action_menu&apos;),&apos;hidden&apos;)' style='margin-left:-5px;'>Close</span></div>").replace(/\*/g,"\\&apos;")}0<f.innerHTML.length&&removeClass(f,"hidden")}};Mods.Wikimd.iOSclickHelper=function(b,c){if("undefined"!==typeof c){switch(b){case "find":Mods.Chatmd.chatCommands("/find "+c);break;case "try on":Mods.Gearmd.changeTryOn(!0,c)}setTimeout(function(){addClass(getElem("action_menu"),
"hidden")},25)}};Mods.Wikimd.populateWiki=function(b,c){var f,k,g,m,n,p,t,r,v,u,z,w,x,F,y,G,D;f=Mods.Wikimd.oldSortValue;!0===b&&(Mods.Wikimd.newSortValue=Mods.Wikimd.currentSort(),b=Mods.Wikimd.populateWikiList());if(b){if(-1!=loadedMods.indexOf("Chatmd")){var E=getElem("mods_wiki_load");E.innerHTML="Back!";E.setAttribute("onclick","javascript:Mods.Chatmd.chatCommands('/wiki "+f.replace(/'/g,"\\'")+"')")}E=f.replace(/ .*/,"");f=getElem("mods_wiki_type").value;c=c||Mods.Wikimd.sortWiki(b,f,Mods.Wikimd.oldSort[f]);
g=!1;"undefined"!==typeof b&&0<b.length&&(g=!0);for(p=0;200>p;p++){for(k=0;4>k;k++)addClass(getElem("wiki_row"+k+"_"+p),"hidden");"monster"===f&&"mob"!==E&&0<p?getElem("wiki_row2_col0_div_"+p).innerHTML="<span class='scrolling_allowed wiki_name' id='wiki_row2_col0_text_"+p+"' style='width: 99%; text-align: center; padding: 2px;'></span><div class='scrolling_allowed wiki_img' id='wiki_row2_col0_img_"+p+"' style='background: transparent url() no-repeat; width: 54px; height: 64px;'>&nbsp;</div>":"monster"!==
f&&"mob"===E&&0<p&&(getElem("wiki_row2_col0_div_"+p).innerHTML="<div class='scrolling_allowed wiki_img' id='wiki_row2_col0_img_"+p+"'>&nbsp;</div><span class='scrolling_allowed wiki_name' id='wiki_row2_col0_text_"+p+"'></span>")}if(g){g={hidden:"scrolling_allowed hidden",name:"scrolling_allowed wiki_name",img:"scrolling_allowed wiki_img",nameT:"scrolling_allowed wiki_nameText",b1nameT:"scrolling_allowed wiki_base1 wiki_nameText",b1nameI:"scrolling_allowed wiki_base1 wiki_nameImg",p13:"scrolling_allowed wiki_p13",
p22:"scrolling_allowed wiki_p22",p22:"scrolling_allowed wiki_p22",p35:"scrolling_allowed wiki_p35",p65:"scrolling_allowed wiki_p65",row1:"scrolling_allowed wiki_row1",row2:"scrolling_allowed wiki_row2",row3:"scrolling_allowed wiki_row3",a1:"scrolling_allowed wiki_a1",a2:"scrolling_allowed wiki_a2",b2p2bLbT:"scrolling_allowed market_select wiki_base2 wiki_pad2 wiki_bT wiki_bL",b1h100bL:"scrolling_allowed market_select wiki_h100 wiki_base1 wiki_bL",b1h100bL:"scrolling_allowed market_select wiki_base1 wiki_bL",
b1h100bLbT:"scrolling_allowed market_select wiki_base1 wiki_bT wiki_bL",b1h100h100bLbT:"scrolling_allowed market_select wiki_h100 wiki_base1 wiki_bT wiki_bL",b1h100bLbT:"scrolling_allowed market_select wiki_base1 wiki_h100 wiki_bT wiki_bL",b1h100:"scrolling_allowed market_select wiki_h100 wiki_base1",b1h100bT:"scrolling_allowed market_select wiki_base1 wiki_bT",b0h100:"scrolling_allowed market_select wiki_base0",b0h100bR:"scrolling_allowed market_select wiki_base0 wiki_bR",b0h100bRbL:"scrolling_allowed market_select wiki_base0 wiki_bR wiki_bL",
b0h100bL:"scrolling_allowed market_select wiki_base0 wiki_bL",b0h100bRbT:"scrolling_allowed market_select wiki_base0 wiki_bT wiki_bR",b0h100bRbLbT:"scrolling_allowed market_select wiki_base0 wiki_bT wiki_bR wiki_bL",b0h100bLbT:"scrolling_allowed market_select wiki_base0 wiki_bT wiki_bL",b0h100bR:"scrolling_allowed market_select wiki_base0 wiki_bR",pb1h100:"scrolling_allowed market_select pointer wiki_h100 wiki_base1",pb1h100bT:"scrolling_allowed market_select pointer wiki_h100 wiki_base1 wiki_bT",
pb1h100bT:"scrolling_allowed market_select pointer wiki_base1 wiki_bT",pb1p2:"scrolling_allowed market_select pointer wiki_base1 wiki_pad2",pb0h100:"scrolling_allowed market_select pointer wiki_base0",pb0h100bR:"scrolling_allowed market_select pointer wiki_base0 wiki_bR",pb0h100bRbL:"scrolling_allowed market_select pointer wiki_base0 wiki_bR wiki_bL",pb0h100bL:"scrolling_allowed market_select pointer wiki_base0 wiki_bL",pb0h100bRbT:"scrolling_allowed market_select pointer wiki_base0 wiki_bT wiki_bR",
pb0h100bRbLbT:"scrolling_allowed market_select pointer wiki_base0 wiki_bT wiki_bR wiki_bL",pb0h100bLbT:"scrolling_allowed market_select pointer wiki_base0 wiki_bT wiki_bL"};getElem("mods_wiki_type_craft");getElem("mods_wiki_type_craft_skill");var A=getElem("mods_wiki_type_breed").value,H=getElem("mods_wiki_type_pet").value;m={item:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","name")}]},img:{className:[g.hidden,g.img]},
text:{className:[g.name],innerHTML:["Item Name"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","skill")}]},text:{className:[g.b1nameT],innerHTML:["Skill"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,
"item","price")}]},text:{className:[g.b1nameT],innerHTML:["Price"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","archery")}]},text:{className:[g.b1nameT],innerHTML:["Archery"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","slot")}]},text:{className:[g.b1nameT],innerHTML:["Slot"]}}},2:{className:[g.row2,g.a2],0:{className:[g.hidden]},1:{className:[g.p13],
div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","power")}]},text:{className:[g.b1nameT],innerHTML:["Power"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","aim")}]},text:{className:[g.b1nameT],innerHTML:["Aim"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","armor")}]},text:{className:[g.b1nameT],
innerHTML:["Armor"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","magic")}]},text:{className:[g.b1nameT],innerHTML:["Magic"]}},5:{className:[g.p13],div:{className:[g.pb0h100bLbT,g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","speed")}]},text:{className:[g.b1nameT],innerHTML:["Speed"]}}}},monster:{1:{className:[g.row2,g.a2],0:{className:[g.p35],div:{className:[g.pb0h100,g.b0h100],onclick:[function(){Mods.Wikimd.sortWiki(null,
"moster","respawn")}]},img:{className:[g.hidden]},text:{className:[g.b1nameT],innerHTML:["Respawn Time"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","health")}]},text:{className:[g.b1nameT],innerHTML:["Health"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,
g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","total_accuracy")}]},text:{className:[g.b1nameT],innerHTML:["ACC"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","total_strength")}]},text:{className:[g.b1nameT],innerHTML:["STR"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","total_defense")}]},text:{className:[g.b1nameT],innerHTML:["DEF"]}}},
2:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100bT],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Monster Name"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","magic")}]},text:{className:[g.b1nameT],innerHTML:["Magic"]}},2:{className:[g.p13],div:{className:[g.b0h100bRbLbT]},text:{className:[g.b1nameT],innerHTML:["&nbsp;"]}},
3:{className:[g.p13],div:{className:[g.pb0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","melee_block")}]},text:{className:[g.b1nameT],innerHTML:["Mel %"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","magic_block")}]},text:{className:[g.b1nameT],innerHTML:["Mag %"]}},5:{className:[g.p13],div:{className:[g.pb0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"monster","archery_block")}]},text:{className:[g.b1nameT],
innerHTML:["Arch %"]}}},3:{className:[g.row1,g.a1],1:{className:[g.p65],div:{className:[g.b1h100bLbT,g.b2p2bLbTmRmL],onclick:[function(){}]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Item Drops"]}}}},vendor:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100,g.pb1p2],onclick:[function(){Mods.Wikimd.sortWiki(null,"vendor","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Vendor Name"]}},1:{className:[g.p65],div:{className:[g.b1h100bL,
"scrolling_allowed market_select wiki_base1 wiki_pad2 wiki_bL"],onclick:[function(){}]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Buys / Sells"]}}}},craft:{1:{className:[g.row2,g.a2],0:{className:[g.p35],div:{className:[g.pb0h100,g.b0h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","location")}]},img:{className:[g.hidden]},text:{className:[g.b1nameT],innerHTML:["Craft Location"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,
"craft","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","skill")}]},text:{className:[g.b1nameT],innerHTML:["Skill"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","base_chance")}]},text:{className:[g.b1nameT],innerHTML:["Min%"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],
onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","max_chance")}]},text:{className:[g.b1nameT],innerHTML:["Max%"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","xp")}]},text:{className:[g.b1nameT],innerHTML:["Exp"]}}},2:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100bT,g.pb1h100bT],onclick:[function(){Mods.Wikimd.sortWiki(null,"craft","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],
innerHTML:["Craft Name"]}},1:{className:[g.p65],div:{className:[g.b1h100h100bLbT,g.b1h100bLbT]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Required Materials"]}}}},spell:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Spell Name"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,
"spell","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","cooldown")}]},text:{className:[g.b1nameT],innerHTML:["CD"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","price")}]},text:{className:[g.b1nameT],innerHTML:["Price"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,
"spell","casts")}]},text:{className:[g.b1nameT],innerHTML:["Casts"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","min_cooldown")}]},text:{className:[g.b1nameT],innerHTML:["Min CD"]}}},2:{className:[g.row2,g.a2],0:{className:[g.hidden]},1:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","damage")}]},text:{className:[g.b1nameT],innerHTML:["Dmg"]}},2:{className:[g.p13],
div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","exp")}]},text:{className:[g.b1nameT],innerHTML:["Exp"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"spell","penetration")}]},text:{className:[g.b1nameT],innerHTML:["Pen"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","dmg_s")}]},text:{className:[g.b1nameT],
innerHTML:["Dmg/S"]}},5:{className:[g.p13],div:{className:[g.pb0h100bLbT,g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","exp_s")}]},text:{className:[g.b1nameT],innerHTML:["Exp/S"]}}}},arrow:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Arrow Name"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],
onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","price")}]},text:{className:[g.b1nameT],innerHTML:["Price"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","uses")}]},text:{className:[g.b1nameT],innerHTML:["Uses"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,
g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","cooldown")}]},text:{className:[g.b1nameT],innerHTML:["Cooldown"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","damage")}]},text:{className:[g.b1nameT],innerHTML:["Exp"]}}},2:{className:[g.row2,g.a2],0:{className:[g.hidden]},1:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","speed")}]},text:{className:[g.b1nameT],
innerHTML:["Speed"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","damage")}]},text:{className:[g.b1nameT],innerHTML:["Damage"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","range")}]},text:{className:[g.b1nameT],innerHTML:["Range"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,
"arrow","dmg_s")}]},text:{className:[g.b1nameT],innerHTML:["Dmg/S"]}},5:{className:[g.p13],div:{className:[g.pb0h100bLbT,g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"arrow","exp_s")}]},text:{className:[g.b1nameT],innerHTML:["Exp/S"]}}}},enchant:{1:{className:[g.row2,g.a2],0:{className:[g.p35],div:{className:[g.pb0h100,g.b0h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","enchant")}]},img:{className:[g.hidden]},text:{className:[g.b1nameT],innerHTML:["Base Item"]}},1:{className:[g.p13],
div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","low")}]},text:{className:[g.b1nameT],innerHTML:["Low %"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","med")}]},text:{className:[g.b1nameT],innerHTML:["Med %"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","high")}]},text:{className:[g.b1nameT],
innerHTML:["High %"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","sup")}]},text:{className:[g.b1nameT],innerHTML:["Sup %"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"enchant","anc")}]},text:{className:[g.b1nameT],innerHTML:["Anc %"]}}},2:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100bT,g.pb1h100bT],onclick:[function(){Mods.Wikimd.sortWiki(null,
"enchant","enchant")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Enchanted Item"]}},1:{className:[g.hidden]},2:{className:[g.p65],div:{className:[g.b1h100bLbT,g.b2p2bLbTmR],onclick:[function(){}]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Enchant Chain"]}}}}};m.pet="family"===H?{1:{className:[g.row2,g.a2],0:{className:[g.p35],div:{className:[g.pb0h100,g.pb1h100]},img:{className:[g.hidden,g.img]},text:{className:[g.b1nameT,g.nameT],innerHTML:["<span style='font-weight: normal color: #999 font-size: 1.05em'>Req to level: &nbsp;</span><span onclick='Mods.Wikimd.sortWiki(null, &apos;pet&apos;, &apos;stones&apos;)'>SoE</span>&nbsp; | &nbsp;<span onclick='Mods.Wikimd.sortWiki(null, &apos;pet&apos;, &apos;xp_required&apos;)'>Exp</span>"]}},
1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"pet","aim")}]},text:{className:[g.b1nameT],innerHTML:["Aim"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"pet","power")}]},text:{className:[g.b1nameT],innerHTML:["Power"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"pet","armor")}]},text:{className:[g.b1nameT],
innerHTML:["Armor"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"pet","magic")}]},text:{className:[g.b1nameT],innerHTML:["Magic"]}},5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"pet","speed")}]},text:{className:[g.b1nameT],innerHTML:["Speed"]}}},2:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100bT,g.pb1h100bT],onclick:[function(){}]},img:{className:[g.hidden,
g.img]},text:{className:[g.b1nameT,g.name],innerHTML:["<span class='pointer' onclick='Mods.Wikimd.sortWiki(null, &apos;pet&apos;, &apos;name&apos;)'>Name</span>&nbsp; | &nbsp;<span class='pointer'  onclick='Mods.Wikimd.sortWiki(null, &apos;pet&apos;, &apos;family&apos;)'>Family</span>&nbsp; | &nbsp;<span class='pointer'  onclick='Mods.Wikimd.sortWiki(null, &apos;pet&apos;, &apos;inventory_slots&apos;)'>Slots</span>"]}},1:{className:[g.p65],div:{className:[g.b1h100h100bLbT,g.b2p2bLbTmRmL],onclick:[function(){}]},
text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Evolution Chain"]}}}}:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Item Name"]}},1:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p13],
div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","skill")}]},text:{className:[g.b1nameT],innerHTML:["Skill"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","price")}]},text:{className:[g.b1nameT],innerHTML:["Price"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbL,g.b0h100bRbL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","archery")}]},text:{className:[g.b1nameT],innerHTML:["Archery"]}},
5:{className:[g.p13],div:{className:[g.pb0h100bL,g.b0h100bL],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","inventory_slots")}]},text:{className:[g.b1nameT],innerHTML:["Slots"]}}},2:{className:[g.row2,g.a2],0:{className:[g.hidden]},1:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","power")}]},text:{className:[g.b1nameT],innerHTML:["Power"]}},2:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,
"item","aim")}]},text:{className:[g.b1nameT],innerHTML:["Aim"]}},3:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","armor")}]},text:{className:[g.b1nameT],innerHTML:["Armor"]}},4:{className:[g.p13],div:{className:[g.pb0h100bRbLbT,g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"item","magic")}]},text:{className:[g.b1nameT],innerHTML:["Magic"]}},5:{className:[g.p13],div:{className:[g.pb0h100bLbT,g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,
"item","speed")}]},text:{className:[g.b1nameT],innerHTML:["Speed"]}}}};m.breed="parents"===A?{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100],onclick:[function(){Mods.Wikimd.sortWiki(null,"breed","name")}]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Parent"]}},1:{className:[g.p65],div:{className:[g.b1h100bL]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Eats"]}}},2:{className:[g.row2,g.a2],1:{className:[g.p65],div:{className:[g.pb0h100bLbT,
g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"breed","insure")}]},text:{className:[g.b1nameT],innerHTML:["Insure"]}}}}:{1:{className:[g.row1,g.a1],0:{className:[g.p35],div:{className:[g.pb1h100]},img:{className:[g.hidden,g.img]},text:{className:[g.name],innerHTML:["Parents"]}},1:{className:[g.p65],div:{className:[g.b1h100bL]},text:{className:[g.b1nameI,"scrolling_allowed"],innerHTML:["Offspring"]}}},2:{className:[g.row2,g.a2],1:{className:[g.p22],div:{className:[g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,
"breed","level")}]},text:{className:[g.b1nameT],innerHTML:["Level"]}},2:{className:[g.p22],div:{className:[g.b0h100bRbLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"breed","xp")}]},text:{className:[g.b1nameT],innerHTML:["Exp"]}},3:{className:[g.p22],div:{className:[g.b0h100bLbT],onclick:[function(){Mods.Wikimd.sortWiki(null,"breed","time")}]},text:{className:[g.b1nameT],innerHTML:["Time"]}}}};var B=/iPhone|iPad|iPod/.test(navigator.userAgent)?"onclick":"oncontextmenu";for(n=0;200>n;n++){k=n-
1;removeClass(getElem("wiki_row0_"+n),"hidden");if(!c||n>c.length)break;if(0<n){if("undefined"===typeof c[k])break;r=Mods.Wikimd.tableData(k,b,c);if(!r)break;u=r.item;z=r.img;items=r.items;w=r.images;parentImg=r.parentImg;F=r.max_chance;x=r.min_chance;respawn=r.respawn;D=r.magic;arrow=r.arrow;u.object&&"Anvil"===u.object.name&&Mods.findWithAttr(FORGE_FORMULAS,"item_id",Mods.Wikimd.formulas[c[k]].id)}var q;"monster"===f?q=3:q=2;for(r=1;r<=q;r++){v=getElem("wiki_row"+r+"_"+n);if("undefined"===typeof m[f][r])v.className=
g.hidden;else for(v.className=0===n?m[f][r].className[0]:m[f][r].className[1],v=0;6>v;v++)if(p=getElem("wiki_row"+r+"_col"+v+"_"+n),"undefined"===typeof m[f][r][v])p.className=g.hidden;else for(t in p.className=m[f][r][v].className,p=getElem("wiki_row"+r+"_col"+v+"_div_"+n),y=getElem("wiki_row"+r+"_col"+v+"_img_"+n),G=getElem("wiki_row"+r+"_col"+v+"_text_"+n),p={div:p,img:y,text:G},p)null!==p[t]&&"undefined"!==typeof m[f][r][v][t]&&(0===n?(p[t].className=m[f][r][v][t].className[0],m[f][r][v][t].innerHTML&&
(p[t].innerHTML=m[f][r][v][t].innerHTML[0]),m[f][r][v][t].onclick&&(p[t].onclick=m[f][r][v][t].onclick[0]),m[f][r][v][t].style&&(p[t].style.marginTop=m[f][r][v][t].style[0].marginTop)):(y="undefined"!==typeof m[f][r][v][t].className[1]?m[f][r][v][t].className[1]:m[f][r][v][t].className[0],p[t].className=y));getElem("wiki_row"+r+"_col0_img_"+n).style.background=null}Mods.Wikimd.setSpan(f,n);if(0<n)switch("monster"!==f&&"mob"===E&&(r=getElem("wiki_row2_col0_img_"+n),v=getElem("wiki_row2_col0_text_"+
n),r.style.width=null,r.style.height=null,v.style.width=null,v.style.textAlign=null,v.style.padding=null),f){case "item":getElem("wiki_row1_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.id+")");getElem("wiki_row1_col0_img_"+n).style.display="inline-block";getElem("wiki_row1_col0_img_"+n).style.background=Items.get_background(u.id);getElem("wiki_row1_col0_img_"+n).item_id=u.id;getElem("wiki_row1_col0_text_"+n).innerHTML=u.name+(mobileDevice()&&Mods.isLoaded("Gearmd")&&[ITEM_CATEGORY.ARMOR,
ITEM_CATEGORY.JEWELRY,ITEM_CATEGORY.WEAPON,ITEM_CATEGORY.PET,ITEM_CATEGORY.ARCHERY].indexOf(-1!==item_base[u.id].b_t)?"<span style='position: absolute; bottom: 2px; right: 2px; font-size: 10px; color: #999;' onclick='javascript:Mods.Wikimd.iOSclickHelper(&apos;try on&apos;,"+u.id+");'>(Try On)</span>":"");getElem("wiki_row1_col1_text_"+n).innerHTML=u.level;getElem("wiki_row1_col2_text_"+n).innerHTML=u.skill;getElem("wiki_row1_col3_text_"+n).innerHTML=u.price;getElem("wiki_row1_col4_text_"+n).innerHTML=
u.params.archery||"-";getElem("wiki_row1_col5_text_"+n).innerHTML=u.slot;getElem("wiki_row2_col0_"+n).removeAttribute(B);getElem("wiki_row2_col1_text_"+n).innerHTML=u.params.power||"-";getElem("wiki_row2_col2_text_"+n).innerHTML=u.params.aim||"-";getElem("wiki_row2_col3_text_"+n).innerHTML=u.params.armor||"-";getElem("wiki_row2_col4_text_"+n).innerHTML=u.params.magic||"-";getElem("wiki_row2_col5_text_"+n).innerHTML=u.params.speed||"-";break;case "monster":getElem("wiki_row1_col0_"+n).removeAttribute(B);
getElem("wiki_row1_col0_text_"+n).innerHTML="Respawn: "+(600<=respawn?Math.round(respawn/60)+" minutes":1<=respawn?respawn+" seconds":respawn);getElem("wiki_row1_col0_img_"+n).style.display="none";getElem("wiki_row1_col1_text_"+n).innerHTML=FIGHT.calculate_monster_level(u);getElem("wiki_row1_col2_text_"+n).innerHTML=u.params.health;getElem("wiki_row1_col3_text_"+n).innerHTML=u.temp.total_accuracy;getElem("wiki_row1_col4_text_"+n).innerHTML=u.temp.total_strength;getElem("wiki_row1_col5_text_"+n).innerHTML=
u.temp.total_defense;getElem("wiki_row2_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('monster',"+u.b_i+")");r=getElem("wiki_row2_col0_img_"+n);k=[54,64];z?(k=scaleSize(64,96,z.tile_width,z.tile_height),r.style.background='url("'+z.url+'") no-repeat scroll '+-u.img.x*z.tile_width+"px "+-u.img.y*z.tile_height+"px transparent"):r.style.background='url("'+getBodyImgNoHalo(u.img.hash).toDataURL("image/png")+'") no-repeat scroll transparent';r.item_id=!1;r.style.width=k[0]+"px";r.style.height=k[1]+"px";
v=getElem("wiki_row2_col0_text_"+n);v.innerHTML=u.name;v.style.width="99%";v.style.textAlign="center";v.style.padding="2px";getElem("wiki_row2_col1_text_"+n).innerHTML=u.temp.magic?u.temp.magic:"-";getElem("wiki_row2_col2_text_"+n).innerHTML="&nbsp;";getElem("wiki_row2_col3_text_"+n).innerHTML=u.temp.melee_block?u.temp.melee_block+"%":"-";getElem("wiki_row2_col4_text_"+n).innerHTML=u.temp.magic_block?u.temp.magic_block+"%":"-";getElem("wiki_row2_col5_text_"+n).innerHTML=u.temp.archery_block?u.temp.archery_block+
"%":"-";getElem("wiki_row3_col0_div_"+n).style.display="none";getElem("wiki_row3_col1_text_"+n).innerHTML=w;break;case "vendor":getElem("wiki_row1_col0_"+n).removeAttribute(B);getElem("wiki_row1_col0_img_"+n).style.display="inline-block";z?getElem("wiki_row1_col0_img_"+n).style.background='url("'+z.url+'") no-repeat scroll '+-u.img.x*z.tile_width+"px "+-u.img.y*z.tile_height+"px transparent":getElem("wiki_row1_col0_img_"+n).style.background='url("'+getBodyImgNoHalo(u.img.hash).toDataURL("image/png")+
'") no-repeat scroll -12px -10px transparent';getElem("wiki_row1_col0_img_"+n).item_id=!1;getElem("wiki_row1_col0_text_"+n).innerHTML=u.name;getElem("wiki_row1_col1_text_"+n).innerHTML=w;break;case "craft":getElem("wiki_row1_col0_"+n).removeAttribute(B);getElem("wiki_row1_col0_img_"+n).style.display="none";getElem("wiki_row1_col0_text_"+n).innerHTML=u.object.name;if(Mods.isLoaded("Chatmd")&&Mods.isLoaded("Newmap")&&"undefined"!==typeof u.object.name&&"undefined"!==typeof u.skill&&-1!==["farming",
"fishing","mining","woodcutting"].indexOf(u.skill.toLowerCase()))switch(u.skill.toLowerCase()){case "fishing":k=u.object.name.toLowerCase().replace(/\[fish /g,"spot [").replace(/-[0-9]+\]/g,"]").replace(/'s/g,"");getElem("wiki_row1_col0_text_"+n).innerHTML+="<span style='font-size:.9em; color:#999; margin-left:4px;' onclick='javascript:Mods.Wikimd.iOSclickHelper(&apos;find&apos;,&apos;"+k.replace(/'/g,"\\&apos;")+"&apos;);'> (Find)</span>";break;case "farming":"undefined"!==typeof BASE_TYPE[1][u.object.id]&&
7!==BASE_TYPE[1][u.object.id].type&&(getElem("wiki_row1_col0_text_"+n).innerHTML+="<span style='font-size:.9m; color:#999; margin-left:4px;' onclick='javascript:Mods.Wikimd.iOSclickHelper(&apos;find&apos;,&apos;"+u.object.name.toLowerCase().replace(/'/g,"\\&apos;")+"&apos;);'> (Find)</span>");break;default:getElem("wiki_row1_col0_text_"+n).innerHTML+="<span style='font-size:.9em; color:#999; margin-left:4px;' onclick='javascript:Mods.Wikimd.iOSclickHelper(&apos;find&apos;,&apos;"+u.object.name.toLowerCase().replace(/'/g,
"\\&apos;")+"&apos;);'> (Find)</span>"}getElem("wiki_row1_col1_text_"+n).innerHTML=u.level;getElem("wiki_row1_col2_text_"+n).innerHTML=capitaliseFirstLetter(u.skill.slice(0,7));getElem("wiki_row1_col3_text_"+n).innerHTML=x;getElem("wiki_row1_col4_text_"+n).innerHTML=F;getElem("wiki_row1_col5_text_"+n).innerHTML=u.xp||"-";getElem("wiki_row2_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.id+")");getElem("wiki_row2_col0_img_"+n).style.background=Items.get_background(u.id);getElem("wiki_row2_col0_img_"+
n).item_id=u.id;getElem("wiki_row2_col0_text_"+n).innerHTML="undefined"!==typeof u.pattern.count?u.name+"<span style='margin-left:6px;font-size:10px;color: #999;'>x"+u.pattern.count+"</span>":u.name;getElem("wiki_row2_col1_div_"+n).style.textAlign="left";getElem("wiki_row2_col1_text_"+n).innerHTML=w;break;case "pet":if("family"===H)getElem("wiki_row1_col0_"+n).removeAttribute(B),getElem("wiki_row1_col0_img_"+n).style.display="none",getElem("wiki_row1_col0_img_"+n).item_id=!1,getElem("wiki_row1_col0_text_"+
n).innerHTML=0<pets[u.params.pet].params.stones?"Stones of Evolution: "+pets[u.params.pet].params.stones:0<pets[u.params.pet].params.xp_required?"Exp: "+thousandSeperate(parseInt(pets[u.params.pet].params.xp_required)):"Cannot be leveled",getElem("wiki_row1_col1_text_"+n).innerHTML=u.params.aim?u.params.aim:"-",getElem("wiki_row1_col2_text_"+n).innerHTML=u.params.power?u.params.power:"-",getElem("wiki_row1_col3_text_"+n).innerHTML=u.params.armor?u.params.armor:"-",getElem("wiki_row1_col4_text_"+n).innerHTML=
u.params.magic?u.params.magic:"-",getElem("wiki_row1_col5_text_"+n).innerHTML=u.params.speed?u.params.speed:"-",getElem("wiki_row2_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('"+f+"',"+item_base[c[k]].b_i+")"),getElem("wiki_row2_col0_img_"+n).style.background=Items.get_background(u.b_i),getElem("wiki_row2_col0_img_"+n).item_id=u.b_i,k=pets[u.params.pet].name.replace(/\[(Ancient|Legendary|Rare|Common)\]/gi,function(b,c){return"[<span style='color: "+{Ancient:COLOR.RED,Legendary:COLOR.ORANGE,Rare:COLOR.YELLOW,
Common:COLOR.GREEN}[c]+";;'>"+c.slice(0,1)+"</span>]"}),mobileDevice()?getElem("wiki_row2_col0_text_"+n).innerHTML=k+"<span style='color:#999; font-size:.9em'><br>("+("undefined"!==typeof Mods.Wikimd.family[u.b_i]?Mods.Wikimd.family[u.b_i]:"Crafted")+")</span>":getElem("wiki_row2_col0_text_"+n).innerHTML=k+("undefined"!==typeof Mods.Wikimd.family[u.b_i]?"":"<span style='color:#999; font-size:.9em'><br>(Crafted)</span>"),getElem("wiki_row2_col1_text_"+n).innerHTML=w;else{getElem("wiki_row1_col0_"+
n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.b_i+")");getElem("wiki_row1_col0_img_"+n).style.display="inline-block";getElem("wiki_row1_col0_img_"+n).style.background=Items.get_background(u.b_i);getElem("wiki_row1_col0_img_"+n).item_id=u.b_i;getElem("wiki_row1_col0_text_"+n).innerHTML=u.name+(mobileDevice()&&Mods.isLoaded("Gearmd")?"<span style='position: absolute; bottom: 2px; right: 2px; font-size: 10px; color: #999;' onclick='javascript:Mods.Wikimd.iOSclickHelper(&apos;try on&apos;,"+u.id+
");'>(Try On)</span>":"");getElem("wiki_row1_col0_text_"+n).innerHTML=u.name;for(var C in u.params){var J=C.match(/min_[A-z]*/);if(null!=J)break}getElem("wiki_row1_col1_text_"+n).innerHTML=u.params[J[0]];getElem("wiki_row1_col2_text_"+n).innerHTML=capitaliseFirstLetter(J[0].replace(/min_/gm,""));getElem("wiki_row1_col3_text_"+n).innerHTML=thousandSeperate(u.params.price);getElem("wiki_row1_col4_text_"+n).innerHTML=u.params.archery||"-";getElem("wiki_row1_col5_text_"+n).innerHTML=pets[u.params.pet].params.inventory_slots;
getElem("wiki_row2_col0_"+n).removeAttribute(B);getElem("wiki_row2_col1_text_"+n).innerHTML=u.params.power||"-";getElem("wiki_row2_col2_text_"+n).innerHTML=u.params.aim||"-";getElem("wiki_row2_col3_text_"+n).innerHTML=u.params.armor||"-";getElem("wiki_row2_col4_text_"+n).innerHTML=u.params.magic||"-";getElem("wiki_row2_col5_text_"+n).innerHTML=u.params.speed||"-"}break;case "spell":k="#DD8";r="#8CD";getElem("wiki_row1_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.id+")");getElem("wiki_row1_col0_img_"+
n).style.display="inline-block";getElem("wiki_row1_col0_img_"+n).style.background=Items.get_background(u.id);getElem("wiki_row1_col0_img_"+n).item_id=u.id;getElem("wiki_row1_col0_text_"+n).innerHTML=u.name;getElem("wiki_row1_col1_text_"+n).innerHTML=D.min_level;getElem("wiki_row1_col2_text_"+n).innerHTML=Math.round(D.cooldown/100)/10+" <span style='color: "+r+"'>secs</span>";getElem("wiki_row1_col3_text_"+n).innerHTML=thousandSeperate(u.params.price);getElem("wiki_row1_col4_text_"+n).innerHTML=D.uses;
getElem("wiki_row1_col5_text_"+n).innerHTML=Math.round(D.min_cooldown/10)/100+" <span style='color: "+r+"'>sec</span>";getElem("wiki_row2_col0_"+n).removeAttribute(B);getElem("wiki_row2_col1_text_"+n).innerHTML=D.basic_damage+" <span style='color: "+k+"'>dmg</span>";getElem("wiki_row2_col2_text_"+n).innerHTML=D.xp+" <span style='color: "+k+"'>exp</span>";getElem("wiki_row2_col3_text_"+n).innerHTML=D.penetration;getElem("wiki_row2_col4_text_"+n).innerHTML=Math.round(D.basic_damage/(D.cooldown/1E3)*
10)/10+" <span style='color: "+k+"'>dps</span>";getElem("wiki_row2_col5_text_"+n).innerHTML=Math.round(D.xp/(D.cooldown/1E3)*10)/10+" <span style='color: "+k+"'>eps</span>";break;case "arrow":k="#DD8";r="#8CD";getElem("wiki_row1_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.id+")");getElem("wiki_row1_col0_img_"+n).style.display="inline-block";getElem("wiki_row1_col0_img_"+n).style.background=Items.get_background(u.id);getElem("wiki_row1_col0_img_"+n).item_id=u.id;getElem("wiki_row1_col0_text_"+
n).innerHTML=u.name;getElem("wiki_row1_col1_text_"+n).innerHTML=arrow.min_level;getElem("wiki_row1_col2_text_"+n).innerHTML=thousandSeperate(u.params.price);getElem("wiki_row1_col3_text_"+n).innerHTML=arrow.archery_uses;getElem("wiki_row1_col4_text_"+n).innerHTML=Math.round(arrow.archery_cooldown/100)/10+" <span style='color: "+r+"'>secs</span>";getElem("wiki_row1_col5_text_"+n).innerHTML=2*arrow.archery_damage;getElem("wiki_row2_col0_"+n).removeAttribute(B);getElem("wiki_row2_col1_text_"+n).innerHTML=
parseInt(arrow.archery_speed/25-5);getElem("wiki_row2_col2_text_"+n).innerHTML=arrow.archery_damage;getElem("wiki_row2_col3_text_"+n).innerHTML=arrow.archery_range;getElem("wiki_row2_col4_text_"+n).innerHTML=Math.round(arrow.archery_damage/(arrow.archery_cooldown/1E3)*10)/10+" <span style='color: "+k+"'>dps</span>";getElem("wiki_row2_col5_text_"+n).innerHTML=Math.round(2*arrow.archery_damage/(arrow.archery_cooldown/1E3)*10)/10+" <span style='color: "+k+"'>eps</span>";break;case "enchant":getElem("wiki_row1_col0_"+
n).removeAttribute(B);getElem("wiki_row1_col0_img_"+n).style.display="none";getElem("wiki_row1_col0_text_"+n).innerHTML="<span>"+u.name.replace(/(.{20})..+/,"$1...")+"<span style='color:#999; font-size:.9em'> ("+u.enchant.type+")</span></span>";getElem("wiki_row1_col0_text_"+n).innerHTML="<span>"+u.name+"<span style='color:#999; font-size:.9em'> ("+u.enchant.type+")</span></span>";getElem("wiki_row1_col0_text_"+n).style.paddingLeft="6px";getElem("wiki_row1_col1_text_"+n).innerHTML=(u.enchant.low.percent||
0)+"%";getElem("wiki_row1_col2_text_"+n).innerHTML=(u.enchant.med.percent||0)+"%";getElem("wiki_row1_col3_text_"+n).innerHTML=(u.enchant.high.percent||0)+"%";getElem("wiki_row1_col4_text_"+n).innerHTML=(u.enchant.sup.percent||0)+"%";getElem("wiki_row1_col5_text_"+n).innerHTML=(u.enchant.anc.percent||0)+"%";getElem("wiki_row2_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.enchant.to_enchant+")");getElem("wiki_row2_col0_img_"+n).style.background=Items.get_background(u.enchant.to_enchant);
getElem("wiki_row2_col0_img_"+n).item_id=u.enchant.to_enchant;getElem("wiki_row2_col0_text_"+n).innerHTML=item_base[u.enchant.to_enchant].name;getElem("wiki_row2_col2_text_"+n).innerHTML=w;break;case "breed":"parents"===A?(getElem("wiki_row1_col0_"+n).removeAttribute(B),getElem("wiki_row1_col0_img_"+n).style.display="inline-block",getElem("wiki_row1_col0_img_"+n).style.background=Items.get_background(u.params.item_id),getElem("wiki_row1_col0_img_"+n).item_id=u.params.item_id,getElem("wiki_row1_col0_text_"+
n).innerHTML=u.name,getElem("wiki_row1_col0_"+n).setAttribute(B,"Mods.Wikimd.nameMenu('item',"+u.params.item_id+")"),getElem("wiki_row1_col1_text_"+n).innerHTML=w,getElem("wiki_row2_col0_"+n).removeAttribute(B),getElem("wiki_row2_col1_text_"+n).innerHTML=thousandSeperate(u.params.insurance_cost[0])+" coins / "+u.params.insurance_cost[1]+" MOS"):(getElem("wiki_row1_col0_"+n).removeAttribute(B),getElem("wiki_row1_col0_img_"+n).style.display="none",getElem("wiki_row1_col0_img_"+n).item_id=!1,getElem("wiki_row1_col0_text_"+
n).innerHTML=parentImg,getElem("wiki_row1_col1_text_"+n).innerHTML=w,getElem("wiki_row2_col0_"+n).removeAttribute(B),getElem("wiki_row2_col1_text_"+n).innerHTML=u.level,getElem("wiki_row2_col2_text_"+n).innerHTML=thousandSeperate(u.xp),getElem("wiki_row2_col3_text_"+n).innerHTML=u.time)}}}}};Mods.Wikimd.tableData=function(b,c,f){var k,g,m,n,p,t,r,v,u,z,w,x,F,y,G;x=getElem("mods_wiki_type").value;u=getElem("mods_wiki_type_breed");k=c[f[b]];if(!k)return!1;c="breed"===x&&"parents"!==u.value?IMAGE_SHEET[k.parent1.img.sheet]:
IMAGE_SHEET[k.img.sheet];n=m=g="";f={};b=0;z=w="";t=0;y={};G={};var D=/iPhone|iPad|iPod/.test(navigator.userAgent)?"onclick":"oncontextmenu";switch(x){case "monster":f=k.params.drops;for(r in f)!world_event_active&&f[r].we_only?delete f[r]:(x=item_base[f[r].id],g=g+"<a title='"+cleanText(x.name)+"("+Math.round(1E4*f[r].chance)/100+"%)'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>");t=-1!==k.name.indexOf("[Rare]")?"??":"undefined"!==typeof k.params.respawn_time||"undefined"!==typeof k.params.next_cathedral_npc_id?"-":Math.round((1E3*k.params.health+3E4)/1E3);break;case "vendor":f=k.temp.content;for(r in f)if(world_event_active||!f[r].we_only)x=item_base[f[r].id],f[r].spawn?m=m+"<a title='"+cleanText(x.name)+" (buys & sells) value "+thousandSeperate(x.params.price)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,
"&apos;")+" background-color: #666666; width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>":n=n+"<a title='"+cleanText(x.name)+" (buys) value "+thousandSeperate(x.params.price)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+
x.b_i+")'>&nbsp;</div></a>";g=m+n;break;case "craft":F=k.pattern.requires;requires_one_from=k.pattern.requires_one_from||[];b=0;tooMany=function(b){return 1<Math.max(F[b]||0,k.pattern.consumes[b]||0)&&!0||!1};for(r in requires_one_from)"undefined"!==typeof item_base[requires_one_from[r]]&&(x=item_base[requires_one_from[r]],m=m+"<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" background-color: #666666; width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>",b++);for(r in F)if("length"!==r&&"undefined"!==typeof item_base[r])for(v=0;v<Math.max(F[r],k.pattern.consumes[r]||0);v++)x=item_base[r],"undefined"===typeof k.pattern.consumes[r]?(m=m+"<div style='display:inline-block;'><a title='"+cleanText(x.name)+" (not consumed) x"+Math.max(F[r],k.pattern.consumes[r]||0)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" background-color: #666666; width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>",tooMany(r)&&(v=Math.max(F[r],k.pattern.consumes[r]||0))&&(m+="<div style='width:32px; height:20px; margin:2px; margin-left: -6px; margin-right: 18px; margin-top: 14px; display:inline-block; float:left; text-align: center;'> x"+v+"</div>"),m+="</div>"):(n=n+"<div style='display:inline-block;'><a title='"+cleanText(x.name)+" (consumed) x"+Math.max(F[r],k.pattern.consumes[r]||0)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,
"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>",tooMany(r)&&(v=Math.max(F[r],k.pattern.consumes[r]||0))&&(n+="<div style='width:32px; height:20px; margin:2px; margin-left: -6px; margin-right: 18px; margin-top: 14px; display:inline-block; float:left; text-align: center;'> x"+v+"</div>"),n+="</div>");for(r in k.pattern.consumes)if("length"!==r&&"undefined"!==typeof item_base[r]&&
"undefined"===typeof F[r])for(v=0;v<k.pattern.consumes[r];v++)x=item_base[r],n=n+"<div style='display:inline-block;'><a title='"+cleanText(x.name)+" (consumed) x"+k.pattern.consumes[r]+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>",tooMany(r)&&(v=k.pattern.consumes[r])&&(n+="<div item_id='"+
x.b_i+"' style='width:32px; height:20px; margin:2px; margin-left: -6px; margin-right: 18px; margin-top: 14px; display:inline-block; float:left; text-align: center;'> x"+v+"</div>"),n+="</div>";for(r in F)"length"!==r&&(v=Math.max(F[r],k.pattern.consumes[r]||0),b+=1>=v&&v||2);for(r in k.pattern.consumes)"undefined"===typeof F[r]&&"length"!==r&&(v=parseInt(k.pattern.consumes[r]),b+=1>=v&&v||2);g=m+n;z=k.pattern.base_chance||k.pattern.chance||"-";z="number"===typeof z?Math.round(1E4*z)/100+"%":z;w=0===
k.pattern.chance?"-":k.pattern.max_chance||k.pattern.chance||1;w="number"===typeof w?Math.round(1E4*w)/100+"%":w;break;case "pet":f=Mods.Wikimd.pet_family[k.b_i];f.length=0;for(r in f)if("number"===typeof parseInt(r)&&"undefined"!==typeof item_base[f[r]]&&"undefined"!==typeof item_base[f[r]].params.pet)if("undefined"===typeof Mods.Wikimd.pet_family[k.b_i].id)x=item_base[f[r]],f.length+=1,0!==g.length&&(g+="<span style='font-size: .8em; height: 32px; width: 10px; margin: 2px; display:inline-block; float:left; position: relative; color: #999;'><span style='position: absolute; width: 100%; top: 40%; right: 10%;'>&gt;</span></span>"),
g=x.b_i==k.b_i?g+("<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace("transparent","#666").replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>"):g+("<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>");else{pet_family=Mods.Wikimd.pet_family[k.b_i].pattern;m=pet_family.consumes;F=pet_family.requires;for(v in F)if("number"===typeof parseInt(v)&&"undefined"!==typeof item_base[v]&&"undefined"!==typeof item_base[v].img&&"undefined"==typeof m[v])for(u=0;u<F[v];u++)x=item_base[v],f.length+=1,0!==g.length&&(g+="<span style='font-size: .8em; height: 32px; width: 10px; margin: 2px; display:inline-block; float:left; position: relative; color: #999;'><span style='position: absolute; width: 100%; top: 40%; right: 10%;'>+</span></span>"),
g+="<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace("transparent","#666").replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>";for(v in m)if("number"===typeof parseInt(v)&&"undefined"!==typeof item_base[v]&&"undefined"!==typeof item_base[v].img)for(u=0;u<m[v];u++)x=item_base[v],f.length+=1,0!==g.length&&
(g+="<span style='font-size: .8em; height: 32px; width: 10px; margin: 2px; display:inline-block; float:left; position: relative; color: #999;'><span style='position: absolute; width: 100%; top: 40%; right: 10%;'>+</span></span>"),g+="<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+
")'>&nbsp;</div></a>";x=item_base[k.b_i];f.length+=1;g+="<span style='font-size: .8em; height: 32px; width: 10px; margin: 2px; display:inline-block; float:left; position: relative; color: #999;'><span style='position: absolute; width: 100%; top: 40%; right: 10%;'>=</span></span>";g+="<a title='"+cleanText(x.name)+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace("transparent","#666").replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>"}break;case "enchant":f=[k.id,k.enchant.to_enchant];for(u=0;3>u;u++)f[u]&&(x=item_base[f[u]],r=f[u]===k.enchant.to_enchant?"#666":"transparent",0!==g.length&&(g+="<span style='font-size: .8em; height: 32px; width: 10px; margin: 2px; display:inline-block; float:left; position: relative; color: #999;'><span style='position: absolute; width: 100%; top: 40%; right: 10%;'>&gt;</span></span>"),g+="<a title='"+cleanText(x.name)+"'><div item_id='"+
x.b_i+"' style='"+Items.get_background_image(x.b_i).replace("transparent",r).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>");break;case "spell":y=k.magic;break;case "arrow":G=k.arrow;break;case "breed":if("parents"===u.value)for(e in x=item_base[k.params.item_id],k.params.eats)x=item_base[e],g=g+"<a title='"+cleanText(x.name)+"&#10;For full: "+Math.ceil((k.params.happiness-
k.params.eat_interval)/k.params.eat_interval/k.params.eats[e])+"'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>";else for(r in x=item_base[k.parent1.params.item_id],p="<div style='display:inline-block;margin-left:-21px;width:150px;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'><a title='"+
cleanText(x.name)+"&#10;Insure: "+thousandSeperate(k.parent1.params.insurance_cost[0])+" Coins / "+k.parent1.params.insurance_cost[1]+" MOS'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px;height:32px;margin:2px 0;display:inline-block;'>&nbsp;</div><div style='display:inline-block;margin-left:5px;width:112px;'>"+cleanText(x.name)+"</div></a></div>",x=item_base[k.parent2.params.item_id],p+="<div style='display:inline-block;margin-left:-21px;width:150px;' "+
D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'><a title='"+cleanText(x.name)+"&#10;Insure: "+thousandSeperate(k.parent1.params.insurance_cost[0])+" Coins / "+k.parent1.params.insurance_cost[1]+" MOS'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px;height:32px;margin:2px 0;display:inline-block;'>&nbsp;</div><div style='display:inline-block;margin-left:5px;width:112px;'>"+cleanText(x.name)+"</div></a></div>",offspring=k.offspring,offspring)x=
item_base[offspring[r].id],g=g+"<a title='"+cleanText(x.name)+"&#10;("+offspring[r].min+(offspring[r].max>offspring[r].min?"% - "+offspring[r].max:"")+"%)'><div item_id='"+x.b_i+"' style='"+Items.get_background_image(x.b_i).replace(/\"/g,"&apos;")+" width:32px; height:32px; margin:2px; margin-left: 4px; display:inline-block; float:left;' "+D+"='Mods.Wikimd.nameMenu(&apos;item&apos;,"+x.b_i+")'>&nbsp;</div></a>"}return{item:k,img:c,drops:f,items:b,images:g,parentImg:p,max_chance:w,min_chance:z,respawn:t,
magic:y,arrow:G}};Mods.Wikimd.setSpan=function(b,c){var f=Mods.Wikimd.span,k,g,m,n;"monster"===b?n=3:n=2;for(var p=1;p<=n;p++)for(var t=0;6>t;t++)k=getElem("wiki_row"+p+"_col"+t+"_"+c),"undefined"!==typeof f[b]&&(g=f[b]["wiki_r"+p+"_c"+t],"undefined"!==typeof g?(m=g.c||"",g=g.r||"","pet"===b&&"family"!==getElem("mods_wiki_type_pet").value&&(g=0===t?"2":"",m="")):g=m="",k.setAttribute("colspan",m),k.setAttribute("rowspan",g))};Mods.Wikimd.sortWiki=function(b,c,f){if("undefined"!==typeof c&&"undefined"!==
typeof f){var k=!1;if("object"!==typeof b||null===b)k=!0;var g=!1;Mods.Wikimd.oldSortValue!=Mods.Wikimd.newSortValue||Mods.Wikimd.sortReverse?Mods.Wikimd.oldSortValue!=Mods.Wikimd.newSortValue&&(Mods.Wikimd.sortReverse=!1):g=!0;Mods.Wikimd.oldSortValue=Mods.Wikimd.newSortValue;b=null===b?Mods.Wikimd.newWikiLoad:b;c=getElem("mods_wiki_type").value;f=f||Mods.Wikimd.oldSort[c];if("object"===typeof b){var m=function(c){c.sort(function(c,g){var k,m,n,p,t,u,v;k=getElem("mods_wiki_type").value;v=function(b){return"damage"===
b?"basic_damage":"exp"===b?"xp":"casts"===b?"uses":b};switch(k){case "item":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":case "level":case "skill":case "slot":var g=b[c][f];break;default:g=b[c].params[f]||0}return g};break;case "monster":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":var g=b[c][f];break;case "level":g=FIGHT.calculate_monster_level(b[c]);break;case "health":case "respawn":g=b[c].temp.health;break;default:g=b[c].temp[f]}return g};break;case "craft":u=
function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "base_chance":case "max_chance":var g=b[c].pattern[f]||b[c].pattern.chance||1;break;case "location":g=b[c].object.name||0;break;case "xp":g=b[c].pattern.xp?parseInt(b[c].pattern.xp):parseInt(b[c].xp)||0;break;case "level":g=parseInt(b[c].level)||0;break;default:g=b[c][f]}return g};break;case "pet":u=function(c,f){if(-1<c&&b[c]){var g;switch(f){case "aim":case "archery":case "armor":case "magic":case "power":case "speed":case "price":g=b[c].params[f];
break;case "inventory_slots":g=pets[b[c].params.pet].params.inventory_slots;break;case "level":for(var k in b[c].params){var m=k.match(/min_[A-z]*/);if(null!=m)break}g=b[c].params[m[0]];break;case "skill":for(k in b[c].params)if(m=k.match(/min_[A-z]*/),null!=m)break;g=m[0].replace(/min_/gm,"");break;case "name":g=b[c].name;break;default:null}}else return 0;"undefined"===typeof g&&(g=0);return g};break;case "spell":u=function(c,f){if(!(-1<c&&b[c]))return 0;var g=v(f);switch(g){case "dmg_s":g=Math.round(b[c].magic.basic_damage/
(b[c].magic.cooldown/1E3)*100)/100;break;case "exp_s":g=Math.round(b[c].magic.xp/(b[c].magic.cooldown/1E3)*100)/100;break;case "level":g=b[c].magic.min_level;break;default:g=b[c].magic[g]}return g};break;case "arrow":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "level":var g=b[c].level;break;case "speed":g=b[c].params.archery_speed/25-5;break;case "damage":case "cooldown":case "range":case "uses":g=b[c].params["archery_"+f];break;case "dmg_s":g=b[c].params.archery_damage/(b[c].params.archery_cooldown/
1E3)*10/10;break;case "exp_s":g=2*b[c].params.archery_damage/(b[c].params.archery_cooldown/1E3)*10/10;break;case "name":g=b[c].name;break;default:g=b[c].params[f]}return g};break;case "enchant":u=function(c,f){return-1<c&&b[c]?"name"===f?b[c].name:"enchant"===f?item_base[b[c].enchant.to_enchant].name:b[c].enchant[f]:0};break;case "breed":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":case "xp":case "time":case "level":var g=b[c][f];break;case "insure":g="undefined"!==typeof b[c].params?
b[c].params.insurance_cost[0]:b[c];break;default:g=b[c]}return g}}if("vendor"===k)return b[g][f]>b[c][f]&&!r||b[g][f]<b[c][f]&&r?1:-1;k=u(c,f);m=u(c,vold);n=u(c,last);p=u(g,f);t=u(g,vold);u=u(g,last);return k>p?-1:k<p?1:m>t?-1:m<t?1:n>u?-1:n<u?1:0})},n=[],p;for(p in b)n.push(p);var t=Mods.Wikimd.oldSort||{},r=!1;switch(c){case "item":vold="undefined"!==typeof t.item?t.item:"name"!==f?"name":"level";last="name"!==f&&"name"!==vold?"name":"level"!==f&&"level"!==vold?"level":"price";break;case "monster":vold=
t.monster?t.monster:"name"!==f?"name":"level";last="name"!==f&&"name"!==vold?"name":"health";break;case "craft":vold="xp"!==f?"xp":"level";last="xp"!==f&&"xp"!==vold?"xp":"level"!==f&&"level"!==vold?"level":"name";break;case "pet":vold=t.pet?t.pet:"family"!==f?"family":"inventory_slots";last="family"!==f&&"family"!==vold?"family":"inventory_slots"!==f&&"inventory_slots"!==vold?"inventory_slots":"name";break;case "enchant":vold=t.enchant?t.enchant:"low"!==f?"low":"name";last="low"!==f&&"low"!==vold?
"low":"name"!==f&&"name"!==vold?"name":"enchant";break;case "breed":vold=t.breed?t.breed:"name"!==f?"name":"level";last="name"!==f&&"name"!==vold?"name":"level"!==f&&"level"!==vold?"level":"exp";break;case "spell":vold=t.spell?t.spell:"level"!==f?"level":"name";last="level"!==f&&"level"!==vold?"level":"name"!==f&&"name"!==vold?"name":"exp";break;case "arrow":vold=t.arrow?t.arrow:"name",last="name"!==f&&"name"!==vold?"name":"exp"}t[c]==f&&g&&(r=!0)&&(Mods.Wikimd.sortReverse=!0)||(t[c]=f)&&(Mods.Wikimd.sortReverse=
!1);if("vendor"===c)m(n);else{g=[];t=[];for(p in n){var v,u;v=function(b){return"damage"===b?"basic_damage":"exp"===b?"xp":"casts"===b?"uses":b};switch(c){case "item":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":case "level":case "skill":case "slot":var g=b[c][f];break;default:g=b[c].params[f]||0}return g};break;case "monster":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":var g=b[c][f];break;case "level":g=FIGHT.calculate_monster_level(b[c]);break;case "health":case "respawn":g=
b[c].temp.health;break;default:g=b[c].temp[f]}return g};break;case "craft":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "base_chance":case "max_chance":var g=b[c].pattern[f]||b[c].pattern.chance||1;break;case "location":g=b[c].object.name||0;break;case "xp":g=b[c].pattern.xp?parseInt(b[c].pattern.xp):parseInt(b[c].xp)||0;break;case "level":g=parseInt(b[c].level)||0;break;default:g=b[c][f]}return g};break;case "pet":u=function(c,f){if(-1<c&&b[c]){var g;switch(f){case "aim":case "archery":case "armor":case "magic":case "power":case "speed":case "price":g=
b[c].params[f];break;case "inventory_slots":g=pets[b[c].params.pet].params.inventory_slots;break;case "level":for(var k in b[c].params){var m=k.match(/min_[A-z]*/);if(null!=m)break}g=b[c].params[m[0]];break;case "skill":for(k in b[c].params)if(m=k.match(/min_[A-z]*/),null!=m)break;g=m[0].replace(/min_/gm,"");break;case "name":g=b[c].name;break;default:null}}else return 0;"undefined"===typeof g&&(g=0);return g};break;case "spell":u=function(c,f){if(!(-1<c&&b[c]))return 0;var g=v(f);switch(g){case "dmg_s":g=
Math.round(b[c].magic.basic_damage/(b[c].magic.cooldown/1E3)*100)/100;break;case "exp_s":g=Math.round(b[c].magic.xp/(b[c].magic.cooldown/1E3)*100)/100;break;case "level":g=b[c].magic.min_level;break;default:g=b[c].magic[g]}return g};break;case "arrow":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "level":var g=b[c].level;break;case "speed":g=b[c].params.archery_speed/25-5;break;case "damage":case "cooldown":case "range":case "uses":g=b[c].params["archery_"+f];break;case "dmg_s":g=b[c].params.archery_damage/
(b[c].params.archery_cooldown/1E3)*10/10;break;case "exp_s":g=2*b[c].params.archery_damage/(b[c].params.archery_cooldown/1E3)*10/10;break;case "name":g=b[c].name;break;default:g=b[c].params[f]}return g};break;case "enchant":u=function(c,f){return-1<c&&b[c]?"name"===f?b[c].name:"enchant"===f?item_base[b[c].enchant.to_enchant].name:b[c].enchant[f]:0};break;case "breed":u=function(c,f){if(!(-1<c&&b[c]))return 0;switch(f){case "name":case "xp":case "time":case "level":var g=b[c][f];break;case "insure":g=
"undefined"!==typeof b[c].params?b[c].params.insurance_cost[0]:b[c];break;default:g=b[c]}return g}}0<u(n[p],f)||"family"===f&&"string"===typeof u(n[p],f)?g.push(n[p]):t.push(n[p])}0<g.length&&m(g);0<t.length&&m(t);r&&(g.reverse(),0===g.length&&t.reverse());for(var z in t)g.push(t[z]);n=g}}Mods.Wikimd.oldSortList=n;if(k)Mods.Wikimd.populateWiki(b,n);else return n}};Mods.Wikimd.populateWikiList=function(){function b(b,c){for(var f=!1,g=0;g<c.length;g++)if(-1!==c[g].indexOf(b)){f=!0;break}return f}var c=
getElem("mods_wiki_type"),f=getElem("mods_wiki_type_item"),k=getElem("mods_wiki_type_item_type"),g=getElem("mods_wiki_type_item_skill"),m=getElem("mods_wiki_type_monster"),n=getElem("mods_wiki_type_vendor"),p=getElem("mods_wiki_type_craft"),t=getElem("mods_wiki_type_pet"),r=getElem("mods_wiki_type_spell"),v=getElem("mods_wiki_type_arrow"),u=getElem("mods_wiki_type_enchant"),z=getElem("mods_wiki_type_breed"),w=getElem("mods_wiki_type_craft_skill"),x=getElem("mods_wiki_type_craft_source"),F=getElem("mods_wiki_name"),
y=getElem("mods_wiki_range"),G=parseFloat(getElem("mods_wiki_level_low").value),D=parseFloat(getElem("mods_wiki_level_high").value),E=[],A=Mods.Wikimd.item_formulas,H=Mods.Wikimd.pet_breeds,B=Mods.Wikimd.formulas,q;if("undefined"!==typeof c.value)switch(c.value){case "item":switch(f.value){case "name":k=F.value.toLowerCase();for(q in A)if(0===k.length||-1!==A[q].name.toLowerCase().indexOf(k))E[q]=A[q];break;case "skill":for(q in A)if(-1===g.value||A[q].skill.toLowerCase()==g.value){var C="level"===
y.value?A[q].level:A[q].params[y.value]||null;Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q])}break;case "type":for(q in A)switch(k.value){case "foods":case "materials":if(-1===k.value||A[q].type.toLowerCase()==k.value)C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]);break;case "tools":if(-1===k.value||A[q].type.toLowerCase()==k.value)C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=
A[q]);break;case "r.hand armors":-1!==k.value&&"armors"!==A[q].type.toLowerCase()||"r.hand"!==A[q].slot.toLowerCase()||(C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]));break;case "weapons":if(-1===k.value||A[q].type.toLowerCase()==k.value)if("l.hand"===A[q].slot.toLowerCase()||"2 hands"===A[q].slot.toLowerCase())C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]);break;case "bow":-1!==
k.value&&!A[q].params.bow||"undefined"===typeof A[q].params.slot||4!=A[q].params.slot||(C="level"===y.value?A[q].params.min_archery:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]));break;case "quiver":-1!==k.value&&"archery"!==A[q].type.toLowerCase()||"undefined"===typeof A[q].params.slot||3!=A[q].params.slot||(C="level"===y.value?A[q].params.min_archery:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]));break;case "pouch":(-1===k.value||1<=
A[q].params.magic_slots)&&"undefined"!==typeof A[q].params.slot&&3==A[q].params.slot&&(C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q]));break;default:if(-1===k.value||A[q].slot.toLowerCase()==k.value)C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q])}break;default:for(q in A)C="level"===y.value?A[q].level:A[q].params[y.value]||null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q])}break;
case "monster":k=F.value.toLowerCase();switch(m.value){case "name":for(q in npc_base)3==npc_base[q].type&&(g=npc_base[q].name.toLowerCase(),-1!==g.indexOf(k)&&E.push(npc_base[q]));break;case "item":for(q in npc_base)if(3==npc_base[q].type){g=[];for(C in npc_base[q].params.drops)g.push(item_base[npc_base[q].params.drops[C].id].name.toLowerCase());if(0===k.length||b(k,g))E[q]=npc_base[q]}break;case "boss-world":for(q in npc_base)if(-1!==npc_base[q].name.indexOf("[BOSS]")&&-1===npc_base[q].name.indexOf("[BOSS] Cthulhu ")&&
-1===npc_base[q].name.indexOf("[BOSS] Water Colossus ")&&-1===npc_base[q].name.indexOf("[BOSS] Earth Titan ")){g=[npc_base[q].name.toLowerCase()];for(C in npc_base[q].params.drops)g.push(item_base[npc_base[q].params.drops[C].id].name.toLowerCase());if(0===k.length||b(k,g))E[q]=npc_base[q]}break;case "boss-cath":for(q in npc_base)if(-1!==npc_base[q].name.indexOf("[Boss]")||-1!==npc_base[q].name.indexOf("[Elite]")&&-1===npc_base[q].name.search(/[0-9]/g)){g=[npc_base[q].name.toLowerCase()];for(C in npc_base[q].params.drops)g.push(item_base[npc_base[q].params.drops[C].id].name.toLowerCase());
if(0===k.length||b(k,g))E[q]=npc_base[q]}break;case "boss-retal":for(q in npc_base)if(-1!==npc_base[q].name.indexOf("[BOSS]")&&(-1!==npc_base[q].name.indexOf("[BOSS] Cthulhu ")||-1!==npc_base[q].name.indexOf("[BOSS] Water Colossus ")||-1!==npc_base[q].name.indexOf("[BOSS] Earth Titan "))){g=[npc_base[q].name.toLowerCase()];for(C in npc_base[q].params.drops)g.push(item_base[npc_base[q].params.drops[C].id].name.toLowerCase());if(0===k.length||b(k,g))E[q]=npc_base[q]}break;case "rare":for(q in npc_base)if(-1!==
npc_base[q].name.indexOf("[Rare]")){g=[npc_base[q].name.toLowerCase()];for(C in npc_base[q].params.drops)g.push(item_base[npc_base[q].params.drops[C].id].name.toLowerCase());if(0===k.length||b(k,g))E[q]=npc_base[q]}break;default:for(q in npc_base)if(C="",3==npc_base[q].type&&-1!==y.value&&"undefined"!==typeof npc_base[q]){switch(y.value){case "level":C=FIGHT.calculate_monster_level(npc_base[q]);break;case "health":case "magic":case "melee_block":case "magic_block":case "archery_block":C=npc_base[q].temp[y.value];
break;case "accuracy":case "strength":case "defense":C=npc_base[q].temp["total_"+y.value]}Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=E[q]=npc_base[q])}}break;case "vendor":k=F.value.toLowerCase();switch(n.value){case "name":for(q in npc_base)4==npc_base[q].type&&(g=npc_base[q].name.toLowerCase(),-1!==g.indexOf(k)&&E.push(npc_base[q]));break;case "item":for(q in npc_base)if(4==npc_base[q].type){g=[];for(C in npc_base[q].temp.content)!world_event_active&&npc_base[q].temp.content[C].we_only||g.push(item_base[npc_base[q].temp.content[C].id].name.toLowerCase());
if(0===k.length||b(k,g))E[q]=npc_base[q]}}break;case "craft":switch(p.value){case "item":k=F.value.toLowerCase();for(q in B)if(world_event_active||!B[q].pattern.we_only){g=[B[q].name.toLowerCase()];for(C in B[q].pattern.consumes)g.push(item_base[C].name.toLowerCase());if(0===k.length||b(k,g))E[q]=B[q]}break;case "result":k=F.value.toLowerCase();for(q in B)if(world_event_active||!B[q].pattern.we_only)if(g=[B[q].name.toLowerCase()],0===k.length||b(k,g))E[q]=B[q];break;case "materials":k=F.value.toLowerCase();
for(q in B)if(world_event_active||!B[q].pattern.we_only){g=[];for(C in B[q].pattern.consumes)g.push(item_base[C].name.toLowerCase());if(0===k.length||b(k,g))E[q]=B[q]}break;case "tool":k=F.value.toLowerCase();for(q in B)if(world_event_active||!B[q].pattern.we_only){var g=[B[q].name.toLowerCase()],J;for(J in B[q].pattern.requires_one_from)"undefined"===typeof B[q].pattern.consumes[J]&&g.push(item_base[B[q].pattern.requires_one_from[J]].name.toLowerCase());for(J in B[q].pattern.requires)"undefined"===
typeof B[q].pattern.consumes[J]&&g.push(item_base[J].name.toLowerCase());if(0===k.length||b(k,g))E[q]=B[q]}break;case "skill":for(q in B)if(world_event_active||!B[q].pattern.we_only)C="",C="base_chance"===y.value||"max_chance"===y.value?"max_chance"===y.value&&null===B[q].pattern.max_chance?100*B[q].pattern.base_chance||null:100*B[q].pattern[y.value]||100*B[q].pattern.chance||null:"undefined"!==typeof B[q][y.value]?parseInt(B[q][y.value]):null,(B[q].skill.toLowerCase()===w.value||"-1"===w.value)&&
Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=B[q]);break;case "source":for(q in B)if(world_event_active||!B[q].pattern.we_only)C="",C="base_chance"===y.value||"max_chance"===y.value?"max_chance"===y.value&&null===B[q].pattern.max_chance?100*B[q].pattern.base_chance||null:100*B[q].pattern[y.value]||100*B[q].pattern.chance||null:"undefined"!==typeof B[q][y.value]?parseInt(B[q][y.value]):null,B[q].object.name.toLowerCase()===x.value||"-1"===x.value?Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=B[q]):
"other"===x.value&&-1!==B[q].object.name.toLowerCase().indexOf("altar")&&Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=B[q]);break;default:for(q in B)if(world_event_active||!B[q].pattern.we_only)C="",C="base_chance"===y.value||"max_chance"===y.value?"max_chance"===y.value&&null===B[q].pattern.max_chance?100*B[q].pattern.base_chance||null:100*B[q].pattern[y.value]||100*B[q].pattern.chance||null:"undefined"!==typeof B[q][y.value]?parseInt(B[q][y.value]):null,Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=
B[q])}break;case "pet":k="undefined"!==typeof F.value?F.value.toLowerCase():null;switch(t.value){case "name":for(q in pets)"undefined"!==typeof F.value&&(g=pets[q].name.toLowerCase(),-1!==g.indexOf(k)&&(E[q]=item_base[pets[q].params.item_id]));break;case "family":for(q in Mods.Wikimd.pet_family)"undefined"!==typeof F.value&&(g=item_base[q].name.toLowerCase(),-1!==g.indexOf(k)&&(E[q]=item_base[q]));break;default:for(q in pets)if(-1!==y.value&&"undefined"!==typeof pets[q]){switch(y.value){case "aim":case "armor":case "archery":case "magic":case "power":case "speed":case "price":C=
item_base[pets[q].params.item_id].params[y.value];break;case "inventory_slots":C=pets[q].params.inventory_slots;break;default:for(var L in item_base[pets[q].params.item_id].params){var N=L.match(/min_[A-z]*/);if(null!=N)break}C=item_base[pets[q].params.item_id].params[N]}g=pets[q].name.toLowerCase();Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=item_base[pets[q].params.item_id])}}break;case "spell":if("name"===r.value)for(q in k="undefined"!==typeof F.value?F.value.toLowerCase():null,A)A[q].magic&&
(g=A[q].name.toLowerCase(),0===k.length||-1!==g.indexOf(k))&&(E[q]=A[q]);else for(q in A)if(-1!==y.value&&"undefined"!==typeof A[q]&&(z=A[q].magic,"undefined"!==typeof z)){switch(y.value){case "level":C=A[q].level;break;case "damage":C=z.basic_damage;break;case "casts":C=z.uses;break;case "price":C=A[q].params.price;break;case "dmg_s":C=Math.round(z.basic_damage/(z.cooldown/1E3)*10)/10;break;case "exp_s":C=Math.round(z.xp/(z.cooldown/1E3)*10)/10;break;case "min_cooldown":C=z[y.value]/1E3;break;default:C=
z[y.value]}Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q])}break;case "arrow":if("name"===v.value)for(q in k=F.value.toLowerCase(),A)A[q].arrow&&(g=A[q].name.toLowerCase(),0===k.length||-1!==g.indexOf(k))&&(E[q]=A[q]);else for(q in A)if(-1!==y.value&&"undefined"!==typeof A[q]&&A[q].arrow){switch(y.value){case "level":C=A[q].level;break;case "speed":C=Math.round(A[q].params.archery_speed/25-5);break;case "cooldown":C=A[q].params.archery_cooldown/1E3;break;case "damage":case "uses":case "range":C=
A[q].params["archery_"+y.value];break;case "dmg_s":C=A[q].params.archery_damage/(A[q].params.archery_cooldown/1E3)*10/10;break;case "exp_s":C=2*A[q].params.archery_damage/(A[q].params.archery_cooldown/1E3)*10/10;break;default:C=A[q].params[y.value]}Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=A[q])}break;case "enchant":if("item"===u.value)for(q in k="undefined"!==typeof F.value?F.value.toLowerCase():null,A)"undefined"!==typeof A[q].enchant&&A[q].enchant.to_enchant&&(g=[A[q].name.toLowerCase()],"undefined"!==
typeof A[q].enchant.to_enchant&&g.push(item_base[A[q].enchant.to_enchant].name.toLowerCase()),0===k.length||b(k,g))&&(E[q]=A[q]);break;case "breed":if(k="undefined"!==typeof F.value?F.value.toLowerCase():null,"parents"===z.value)for(q in pets){if("undefined"!==typeof pets[q].params.likes&&0!==pets[q].params.likes.length)if("undefined"!==typeof F.value){var g=[pets[q].name.toLowerCase()],M;for(M in pets[q].params.eats)g.push(item_base[M].name.toLowerCase());if(0===k.length||b(k,g))E[q]=pets[q]}else E[q]=
pets[q]}else for(q in H)if("name"===z.value){if("undefined"!==typeof F.value){var g=[H[q].parent1.name.toLowerCase(),H[q].parent2.name.toLowerCase()],I;for(I in H[q].offspring)g.push(item_base[H[q].offspring[I].id].name.toLowerCase());if(0===k.length||b(k,g))E[q]=H[q]}}else C=H[q][y.value],Mods.Wikimd.rangeCheck(y.value,C,G,D)&&(E[q]=H[q])}else return!1;return Mods.Wikimd.newWikiLoad=E};Mods.Wikimd.rangeCheck=function(b,c,f,k){return"undefined"!==typeof b?(f=isNaN(f)?0:f,k=isNaN(k)?Infinity:k,c="undefined"!==
typeof c?c:0,("number"!==typeof f||c>=f)&&("number"!==typeof k||c<=k)?!0:!1):!0};Mods.Wikimd.currentSort=function(){var b=getElem("mods_wiki_type"),c=getElem("mods_wiki_type_item"),f=getElem("mods_wiki_type_item_type"),k=getElem("mods_wiki_type_item_skill"),g=getElem("mods_wiki_type_monster"),m=getElem("mods_wiki_type_vendor"),n=getElem("mods_wiki_type_craft"),p=getElem("mods_wiki_type_spell"),t=getElem("mods_wiki_type_arrow"),r=getElem("mods_wiki_type_enchant"),v=getElem("mods_wiki_type_breed"),
u=getElem("mods_wiki_type_craft_skill"),z=getElem("mods_wiki_type_craft_source"),w=getElem("mods_wiki_type_pet"),x=getElem("mods_wiki_name"),F=getElem("mods_wiki_range"),y=parseInt(getElem("mods_wiki_level_low").value),G=parseInt(getElem("mods_wiki_level_high").value),D="",D="monster"===b.value?"mob ":"vendor"===b.value?"npc ":b.value+" ",D=D+(("item"===b.value&&c.value||"monster"===b.value&&g.value||"vendor"===b.value&&m.value||"craft"===b.value&&n.value||"pet"===b.value&&w.value||"spell"===b.value&&
p.value||"arrow"===b.value&&t.value||"enchant"===b.value&&r.value||"breed"===b.value&&v.value)+" "||""),D=D+(("item"===b.value&&"name"===c.value||"monster"===b.value&&"all"!==g.value||"vendor"===b.value&&"all"!==m.value||"craft"===b.value&&"item"===n.value||"pet"===b.value&&("name"===w.value||"family"===w.value)||"spell"===b.value&&"name"===p.value||"arrow"===b.value&&"name"===t.value||"enchant"===b.value&&"item"===r.value||"breed"===b.value&&"all"!==v.value)&&(x.value||"")||""),D=D+("item"===b.value&&
("type"===c.value&&f.value+" "||"skill"===c.value&&k.value+" ")||""),D=D+("craft"===b.value&&("skill"===n.value&&u.value+" "||"source"===n.value&&z.value+" ")||"");return D+=("item"===b.value&&"name"!==c.value||"monster"===b.value&&"all"===g.value||"craft"===b.value&&"item"!==n.value||"pet"===b.value&&"all"===w.value||"spell"===b.value&&"all"===p.value||"enchant"===b.value&&"all"===r.value||"breed"===b.value&&"all"===v.value)&&F.value+" ("+(y||"")+","+(G||"")+")"||""};Mods.Wikimd.loadWikiType=function(b,
c){if(-1!=loadedMods.indexOf("Chatmd")){var f=getElem("mods_wiki_load");f.innerHTML="Go!";f.setAttribute("onclick","javascript:Mods.Wikimd.populateWiki(true);")}if(!1!==b){var k=getElem("mods_wiki_type"),g=getElem("mods_wiki_type_item");getElem("mods_wiki_type_item_type");getElem("mods_wiki_type_item_skill");var m=getElem("mods_wiki_type_monster"),n=getElem("mods_wiki_type_vendor"),p=getElem("mods_wiki_type_craft");getElem("mods_wiki_type_craft_skill");getElem("mods_wiki_type_craft_source");var t=
getElem("mods_wiki_type_pet"),r=getElem("mods_wiki_type_spell"),v=getElem("mods_wiki_type_arrow"),u=getElem("mods_wiki_type_enchant"),z=getElem("mods_wiki_type_breed"),w=getElem("mods_wiki_name"),f=getElem("mods_wiki_range");getElem("mods_wiki_level");var x=getElem("mods_wiki_level_low"),F=getElem("mods_wiki_level_high"),k=k.value,g=g.value,m=m.value,n=n.value,p=p.value,t=t.value,r=r.value,v=v.value,u=u.value,z=z.value;w.value=null;x.value=null;F.value=null;var y,G,D,E,A,H,B,q,C,J,L,N,M,I,K;switch(b){case 0:G=
D=B=q="none";y="item"===k&&"block"||"none";E="monster"===k&&"block"||"none";A="vendor"===k&&"block"||"none";H="craft"===k&&"block"||"none";C="pet"===k&&"block"||"none";M="breed"===k&&"block"||"none";J="spell"===k&&"block"||"none";L="arrow"===k&&"block"||"none";N="enchant"===k&&"block"||"none";switch(k){case "item":K="name"!==g?"block":"none";break;case "monster":K="all"===m?"block":"none";break;case "craft":K=-1===["item","tool","result","materials"].indexOf(p)?"block":"none";break;case "pet":K="all"===
t?"block":"none";break;case "spell":K="all"===r?"block":"none";break;case "arrow":K="all"===v?"block":"none";break;case "enchant":K="all"===u?"block":"none";break;case "breed":K="all"===z?"block":"none";break;default:K="none"}switch(k){case "item":I="name"===g?"block":"none";break;case "monster":I="all"!==m?"block":"none";break;case "vendor":I="all"!==n?"block":"none";break;case "craft":I=-1!==["item","tool","result","materials"].indexOf(p)?"block":"none";break;case "pet":I="all"!==t?"block":"none";
break;case "spell":I="name"===r?"block":"none";break;case "arrow":I="name"===v?"block":"none";break;case "enchant":I="item"===u?"block":"none";break;case "breed":I="all"!==z?"block":"none";break;default:I="none"}break;case 1:G="item"===k&&"type"===g&&"block"||"none";D="item"===k&&"skill"===g&&"block"||"none";B="craft"===k&&"skill"===p&&"block"||"none";q="craft"===k&&"source"===p&&"block"||"none";switch(k){case "item":K="name"!==g?"block":"none";break;case "monster":K="all"===m?"block":"none";break;
case "craft":K=-1===["item","tool","result","materials"].indexOf(p)?"block":"none";break;case "pet":K="all"===t?"block":"none";break;case "spell":K="all"===r?"block":"none";break;case "arrow":K="all"===v?"block":"none";break;case "enchant":K="all"===u?"block":"none";break;case "breed":K="all"===z?"block":"none";break;default:K="none"}switch(k){case "item":I="name"===g?"block":"none";break;case "monster":I="all"!==m?"block":"none";break;case "vendor":I="all"!==n?"block":"none";break;case "craft":I=
-1!==["item","tool","result","materials"].indexOf(p)?"block":"none";break;case "pet":I="all"!==t?"block":"none";break;case "spell":I="name"===r?"block":"none";break;case "arrow":I="name"===v?"block":"none";break;case "enchant":I="item"===u?"block":"none";break;case "breed":I="all"!==z?"block":"none";break;default:I="none"}break;case 2:K="block"}w="";switch(k){case "item":w="<option value='level'>Level</option>        <option value='price'>Price</option>             <option value='power'>Power</option>              <option value='aim'>Aim</option>             <option value='armor'>Armor</option>        <option value='magic'>Magic</option>        <option value='speed'>Speed</option>";
break;case "monster":w="<option value='level'>Level</option>        <option value='health'>Health</option>           <option value='accuracy'>Accuracy</option>             <option value='strength'>Strength</option>        <option value='defense'>Defense</option>        <option value='magic'>Magic</option>        <option value='melee_block'>Melee Block</option>    <option value='magic_block'>Magic Block</option>    <option value='archery_block'>Archery Block</option>";break;case "craft":w="<option value='level'>Level</option>        <option value='base_chance'>Min%</option>        <option value='max_chance'>Max%</option>          <option value='xp'>Exp</option>";
break;case "pet":w="<option value='level'>Level</option>    <option value='aim'>Aim</option>             <option value='power'>Power</option>        <option value='armor'>Armor</option>        <option value='magic'>Magic</option>                  <option value='archery'>Archery</option>            <option value='inventory_slots'>Slots</option>        <option value='speed'>Speed</option>";break;case "spell":w="<option value='level'>Level</option>        <option value='damage'>Damage</option>           <option value='exp'>Exp</option>                  <option value='cooldown'>Cooldown</option>   <option value='price'>Price</option>        <option value='casts'>Casts</option>        <option value='penetration'>Spell Pen</option>       <option value='min_cooldown'>Min CD</option>        <option value='dmg_s'>Dmg/S</option>       <option value='exp_s'>Exp/S</option>";
break;case "arrow":w="<option value='level'>Level</option>        <option value='damage'>Damage</option>           <option value='speed'>Speed</option>                  <option value='cooldown'>Cooldown</option>   <option value='price'>Price</option>        <option value='uses'>Uses</option>        <option value='range'>Range</option>        <option value='dmg_s'>Dmg/S</option>       <option value='exp_s'>Exp/S</option>";break;case "enchant":w="<option value='low'>Low %</option>          <option value='med'>Med %</option>               <option value='high'>High %</option>              <option value='sup'>Sup %</option>              <option value='anc'>Anc %</option>";
break;case "breed":w="<option value='level'>Level</option>            <option value='xp'>Exp</option>            <option value='time'>Time</option>"}"block"===K&&(f.innerHTML=w);getElem("mods_wiki_type_item").style.display=y;getElem("mods_wiki_type_item_type").style.display=G;getElem("mods_wiki_type_item_skill").style.display=D;getElem("mods_wiki_type_monster").style.display=E;getElem("mods_wiki_type_vendor").style.display=A;getElem("mods_wiki_type_craft").style.display=H;getElem("mods_wiki_type_craft_skill").style.display=
B;getElem("mods_wiki_type_craft_source").style.display=q;getElem("mods_wiki_type_pet").style.display=C;getElem("mods_wiki_type_breed").style.display=M;getElem("mods_wiki_type_spell").style.display=J;getElem("mods_wiki_type_arrow").style.display=L;getElem("mods_wiki_type_enchant").style.display=N;getElem("mods_wiki_name").style.display=I;getElem("mods_wiki_range").style.display=K;getElem("mods_wiki_level").style.display=K;getElem("mods_wiki_range_separate").style.display=K}};Mods.loadModMenu_options=
function(){getElem("mod_load_options").style.display="none";getElem("mod_load_mods_options").style.display="none";getElem("mod_options_options").style.display="block";getElem("mod_options_mods_options").style.display="block";getElem("mod_wiki_options").style.display="none";getElem("mod_wiki_mods_options").style.display="none"};Mods.loadModMenu_load=function(){getElem("mod_load_options").style.display="block";getElem("mod_load_mods_options").style.display="block";getElem("mod_options_options").style.display=
"none";getElem("mod_options_mods_options").style.display="none";getElem("mod_wiki_options").style.display="none";getElem("mod_wiki_mods_options").style.display="none"};Mods.loadModMenu_wiki=function(){getElem("mod_load_options").style.display="none";getElem("mod_load_mods_options").style.display="none";getElem("mod_options_options").style.display="none";getElem("mod_options_mods_options").style.display="none";getElem("mod_wiki_options").style.display="block";getElem("mod_wiki_mods_options").style.display=
"block"};(function(){Mods.Wikimd.loadDivs();getElem("mod_wiki_search").onmouseover=function(b){Mods.Wikimd.mouse.x=b.clientX;Mods.Wikimd.mouse.y=b.clientY};Mods.Wikimd.populate_item_formulas();Mods.Wikimd.populate_pets();Mods.Wikimd.populate_family();Mods.Wikimd.populate_breeds()})();Mods.timestamp("wikimd")};
Load.miscmd=function(){modOptions.miscmd.time=timestamp();penalty_bonus=function(){Mods.Miscmd.penalty=getElem("penalty_bonus_skill").value;LStorage.set("penalty_bonus",JSON.stringify(Mods.Miscmd.penalty));Mods.Miscmd.oldPenaltyBonus()};Mods.Miscmd.ideath.sort_values=function(){for(var b={},c=[],f=2,k,g=0;g<players[0].temp.inventory.length;g++){var m=players[0].temp.inventory[g].id,n=item_base[m].params.price;Inventory.safe_item_amount(m)?players[0].temp.inventory[g].selected&&(f=2+Inventory.safe_item_amount(m)):
(b[m]=n,c.push(parseInt(m)))}players[0].temp.created_at<timestamp()-72E5||(f=40);if(players[0].pet.enabled){k=players[0].pet.id;k=pets[k].params.item_id;for(g=0;g<c.length;g++)c[g]==k&&c.splice(g,1);delete b[k]}0<c.length&&c.sort(function(c,f){return b[c]>b[f]?-1:b[c]<b[f]?1:item_base[c].name>item_base[f].name?-1:1});c.splice(f,40);c.push(k);return c};Mods.Miscmd.ideath.safe_items=function(){};oldBigMenuShow=BigMenu.show;BigMenu.show=function(b){Mods.showInv=2===b?!0:!1;oldBigMenuShow(b)};Mods.Miscmd.invClick=
function(){Mods.showInv&&(Mods.showBag=!Mods.showBag,Mods.showBag?getElem("inventory").style.display="block":getElem("inventory").style.display="")};Mods.Miscmd.toolbar.loadDivs=function(){var b=["td_inventory_old"],c;for(c in b)createElem("span","toolbar_padding_holder",{id:b[c],className:"toolbar_item"});createElem("div",wrapper,{id:"td_inventory",style:"position: absolute; text-shadow: rgb(0, 0, 0) 1px 1px 1px, rgb(0, 0, 0) -1px 0px 1px; font-weight: normal; z-index: 100; pointer-events: none; text-align: center; color: white; font-family: ariel;"})};
Mods.Miscmd.toolbar.playerLocation=function(){return"<span style='color: #BBB;'>"+map_names[players[0].map]+"</span> ("+players[0].i+", "+players[0].j+")"};Mods.Miscmd.toolbar.dpsinfo=function(){var b;Mods.Miscmd.dpsmode?b="<span onclick='javascript:Mods.Miscmd.switchdpsmode();' class='pointer'><span style='color: #BBB;'>"+_tmi("DPS")+":</span> "+Math.round(100*Mods.Miscmd.avgdps)/100+" ("+Math.round(100*Mods.Miscmd.maxdps)/100+")</span>":(b=1E4<Mods.Miscmd.avgexp?Math.round(Mods.Miscmd.avgexp/10)/
100+"k":Math.round(Mods.Miscmd.avgexp),b="<span onclick='javascript:Mods.Miscmd.switchdpsmode();' onMouseOver='Mods.Miscmd.ShowExpPopup(this);' onMouseOut='Mods.Miscmd.HideExpPopup();' class='pointer'><span style='color: #BBB;'>"+_tmi("Exp/h")+":</span> "+b+"</span>");return b};Mods.Miscmd.ShowExpPopup=function(b){if(!1===Mods.Miscmd.dpsmode){b=getElem("ww_xp_popup");b||(createElem("div",wrapper,{id:"ww_xp_popup",className:"xptable menu",style:"z-index: 101; visibility: hidden; position: absolute; opacity: 1; padding: 0px;"}),
b=getElem("ww_xp_popup"));getElem("td_dpsinfo");b.style.left=getElem("td_dpsinfo").getBoundingClientRect().left-(body_offset_x||0)+"px";b.style.top=getElem("td_dpsinfo").getBoundingClientRect().bottom-(body_offset_y||0)+"px";var c="<table><thead><tr><th>"+_tmi("Skill",{ns:"interface"})+"</th><th>"+_tmi("Exp/h")+"</th><th>"+_tmi("Level in")+"</th></tr></thead><tbody>",f={},k;for(k in Mods.Miscmd.adps)f[Mods.Miscmd.adps[k].skill]?(f[Mods.Miscmd.adps[k].skill].xp+=Mods.Miscmd.adps[k].xpdelta,f[Mods.Miscmd.adps[k].skill].mintime>
Mods.Miscmd.adps[k].time&&(f[Mods.Miscmd.adps[k].skill].mintime=Mods.Miscmd.adps[k].time),f[Mods.Miscmd.adps[k].skill].maxtime<Mods.Miscmd.adps[k].time&&(f[Mods.Miscmd.adps[k].skill].maxtime=Mods.Miscmd.adps[k].time)):(f[Mods.Miscmd.adps[k].skill]={},f[Mods.Miscmd.adps[k].skill].mintime=f[Mods.Miscmd.adps[k].skill].maxtime=Mods.Miscmd.adps[k].time,f[Mods.Miscmd.adps[k].skill].xp=Mods.Miscmd.adps[k].xpdelta);k=!0;for(var g in f){var m=3600*f[g].xp/((f[g].maxtime-f[g].mintime)/1E3);if(isFinite(m)&&
!isNaN(m)){var n=Level.xp_for_level(skills[0][g].level+1)-skills[0][g].xp,p=Math.round((skills[0][g].xp-Level.xp_for_level(skills[0][g].level))/(Level.xp_for_level(skills[0][g].level+1)-Level.xp_for_level(skills[0][g].level))*100),t=Math.floor(n/(m/3600)),n=parseInt(t/3600),r=parseInt(t/60)%60,t=t%60,n=(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)+":"+(10>t?"0"+t:t),m=1E4<m?Math.round(m/10)/100+"k":Math.round(m),c=!0===k?c+"<tr>":c+"<tr class='alt'>",c=c+("<td>"+_tmi(capitaliseFirstLetter(g),{ns:"interface"})+
" ("+p+"%)</td><td>"+m+"</td><td>"+n+"</td></tr>");k=!0===k?!1:!0}}b.innerHTML=c+"</tbody></table>";b.style.visibility=""}};Mods.Miscmd.HideExpPopup=function(){getElem("ww_xp_popup").style.visibility="hidden"};Mods.Miscmd.switchdpsmode=function(){Mods.Miscmd.dpsmode?(Mods.Miscmd.avgexp=0,Mods.Miscmd.adps=[],Mods.Miscmd.maxtime=18E4,Mods.Miscmd.dpsmode=!1):(Mods.Miscmd.maxdps=0,Mods.Miscmd.avgdps=0,Mods.Miscmd.adps=[],Mods.Miscmd.maxtime=6E4,getElem("ww_xp_popup").style.visibility="hidden",Mods.Miscmd.dpsmode=
!0);Mods.Miscmd.toolbar.updateToolbar("dpsinfo")};Mods.Miscmd.toolbar.playerStats=function(){for(var b=!1,c=0;c<players[0].params.magic_slots;c++)if(players[0].params.magics[c])var f=Magic[players[0].params.magics[c].id].params.penetration,b=b||f,b=Math.min(b,f);b=b||0;return"<span style='color: #BBB;'>"+_tmi("Stats",{ns:"interface"})+":</span> "+Math.floor(players[0].temp.total_accuracy)+" / "+Math.floor(players[0].temp.total_strength)+" / "+Math.floor(players[0].temp.total_defense)+" / "+Math.floor(players[0].temp.magic/
1.2+skills[0].magic.level+b)+" / "+Math.floor(players[0].temp.total_archery)};Mods.Miscmd.toolbar.questData=function(b){for(var c=[],f=getElem("quests_form")||!1,k=0;k<player_quests.length;k++)player_quests[k].progress<quests[k].amount&&c.push(quests[k]);if(f)for(f=f.childNodes[1].childNodes[0].childNodes[0],k=1;k<f.childNodes.length;k++)if(null==f.childNodes[k].onclick){var g=f.childNodes[k].childNodes[1].childNodes[1].childNodes[0].getAttribute("data-tq"),m;for(m in c)if(c[m].name==g){f.childNodes[k].setAttribute("onclick",
'Mods.Miscmd.toolbar.questData("'+c[m].id+'"); Mods.Miscmd.toolbar.updateToolbar("questData")');break}}b=b||Mods.Miscmd.toolbar.activeQuest||!1;b&&player_quests[b]&&player_quests[b].progress!=quests[b].amount||!(0<c.length)||(b=c[0].id);if("undefined"==typeof player_quests[b])getElem("td_quests").style.display="none";else return getElem("td_quests").style.display="",c="<span style='color: #BBB;'>"+_tmi("Quest")+":</span> ("+player_quests[b].progress+"/"+quests[b].amount+") "+npc_base[quests[b].npc_id].name,
Mods.Miscmd.toolbar.activeQuest=b,LStorage.set("activeQuest",JSON.stringify(b)),c};Mods.Miscmd.toolbar.invSlots=function(){getElem("td_inventory_old").style.display="none";var b=40-players[0].temp.inventory.length,c="",f="";players[0].pet.enabled&&(c=players[0].pet.chest.length,f=pets[players[0].pet.id].params.inventory_slots,c=f-c);return"<span>"+b+"</span>"+(players[0].pet.enabled?"/<span>"+c+"</span>":"")};Mods.Miscmd.toolbar.currentWorld=function(){var b="";0<Mods.currentWorldID&&(b="<div id='td_current_world_hover' class='pointer' style='color: #FFF;'><span>"+
_tmi("World",{ns:"interface"})+" - "+Mods.currentWorldID+"</span></div>");return b};Mods.Miscmd.toolbar.cache={};Mods.Miscmd.toolbar.updateToolbar=function(b){var c=Mods.Miscmd.toolbar,f=Mods.Miscmd.toolbar.ids;if("undefined"!=typeof b)c.updateCheckCache(f[b],c[b]());else for(var k in f)c.updateCheckCache(f[k],c[k]())};Mods.Miscmd.toolbar.updateCheckCache=function(b,c){Mods.Miscmd.toolbar.cache[b]&&Mods.Miscmd.toolbar.cache[b]==c||(Mods.Miscmd.toolbar.cache[b]=c,getElem(b).innerHTML=c)};Mods.Miscmd.inventoryEquip=
function(b,c,f){var k=[1020,1021,1022,1024,1439,1440,1441,1442,3819,3822,4149,4150,4246,4251,4252,4253,4403,4450,4451,4452,4453,4454];if("undefined"!=typeof c&&(-1!=item_base[c].name.indexOf("Potion")&&"Potion Of Preservation"!=item_base[c].name||-1!=k.indexOf(parseInt(c))))for(b=1;20>b;b++)Timers.set("new_potion_"+c+"_"+b,function(){var b,f,k,p,t,r,v;r={};r[c]={};for(b in item_base[c].params)if(f=/^boost_(.{1,})$/.exec(b))k=f[1],f=item_base[c].params[f[0]],t=timestamp(),p=skills[0][k].level,p=Math.ceil(p*
f),v=6E4*p+t,r[c][k]={percent:f,start:t,delta:p,end:v};if(null!==getElem("mod_potion_"+c))for(b=1;20>b;b++)Timers.clear("new_potion_"+c+"_"+b);else Mods.Miscmd.potions[c]=r[c]},1E3*b);else"undefined"!==typeof c&&"login"==f&&Timers.set("new_potion_"+c+"_"+b,function(){var b,f,k,p,t;p={};p[c]={};for(f in skills[0])t=skills[0][f].current>skills[0][f].level?skills[0][f].current-skills[0][f].level:null,b=t/skills[0][f].level,t&&(k=timestamp(),t=6E4*t+k,p[c][f]={percent:b,start:k,delta:void 0,end:t});if(null!==
getElem("mod_potion_"+c))for(b=1;20>b;b++)Timers.clear("new_potion_"+c+"_"+b);else Mods.Miscmd.potions[c]=p[c]},1E3*b);return!1};Mods.Miscmd.checkPotions=function(){var b,c,f,k,g,m,n,p;b=Mods.Miscmd.potions;k=getElem("mod_potion_holder");m={accuracy:"ACC",alchemy:"Alch",carpentry:"Crpt",cooking:"Cook",defense:"DEF",farming:"Farm",fishing:"Fish",forging:"Forg",health:"Hlth",jewelry:"Jewl",magic:"Mag",mining:"Mine",strength:"STR",woodcutting:"Wood",archery:"Arch",fletching:"Fletch",wizardry:"Wiz",fungiculture:"Fung"};
null!==k&&delete wrapper[k];null===k&&createElem("div",wrapper,{id:"mod_potion_holder",style:"position: absolute; z-index: 198; background: transparent; left: 11%; top: 17%; min-width: 32px; min-height: 32px;display:none;"});for(c in b){k=getElem("mod_potion_"+c);null===k&&(k=item_base[c],createElem("div","mod_potion_holder",{id:"mod_potion_"+c,title:k.name,style:"position: relative; display: block; padding: 2px; float: left;",innerHTML:"<div style='"+Items.get_background_image(k.b_i)+" float: left; width: 32px; height: 32px; margin-left: -16px; left: 50%; position: relative;'>&nbsp;</div><div id='mod_potion_duration_"+
c+"' style='float: left; clear: left; font-size: 0.7em; color: #FFF; background: #444; padding: 4px; border: 1px solid #FFF; border-radius: 5px; -moz-border-radius: 5px;'>&nbsp;</div>"}));k="";n=!1;for(f in b[c])g=skills[0][f].current-skills[0][f].level,0<g?(k+="<tr><td>"+m[f]+"</td><td><span style='color: #FF0; text-align: right; padding-left: 4px;'>+"+g+"</span></td></tr>",n=!0,b[c][f].value!=g&&(b[c][f].value=g,p=!0)):b[c][f].value=0;p?(k="<table>"+k+"</table>",getElem("mod_potion_duration_"+c).innerHTML=
k):n||(getElem("mod_potion_holder").removeChild(getElem("mod_potion_"+c)),delete b[c])}0==JSON.count(Mods.Miscmd.potions)?getElem("mod_potion_holder").style.display="none":getElem("mod_potion_holder").style.display="block"};Mods.Miscmd.socketOn={actions:[],fn:function(b,c,f){}};Mods.Miscmd.toolbar.checkTime=function(){Mods.Miscmd.checkPotions();Timers.set("check_time",function(){Mods.Miscmd.toolbar.checkTime()},1E3)};Mods.Miscmd.setCanvasSize=function(){};Mods.Miscmd.onWorldChange=function(){};(function(){getElem("penalty_bonus_skill").value=
Mods.Miscmd.penalty;for(var b=0;40>b;b++)getElem("inv_"+b).style.position="relative";getElem("inv_name",{style:{overflow:"hidden",maxWidth:"185px",whiteSpace:"nowrap",cssFloat:"left"}});Mods.Miscmd.toolbar.loadDivs();Mods.Miscmd.toolbar.updateToolbar();Mods.Miscmd.toolbar.checkTime();setCanvasSize()})();Mods.timestamp("miscmd")};
Load.chatmd=function(){modOptions.chatmd.time=timestamp();Mods.Chatmd.ModDevToggle=function(){var b=getElem("settings_moddevtoggle");switch(Mods.Chatmd.modDevColorToggle){case 0:b.innerHTML="ModDev Color : Enabled";Mods.Chatmd.modDevColorToggle=1;break;default:b.innerHTML="ModDev Color : Disabled",Mods.Chatmd.modDevColorToggle=0}LStorage.set("moddevtoggle",JSON.stringify(Mods.Chatmd.modDevColorToggle))};Mods.Chatmd.blockChat=function(b,c,f,k,g){f={"#ping;":!0,"@mods ":!1};g=!1;if("whisper"==k)for(var m in f){0===
b.indexOf(m)&&(c==players[0].name&&f[m]||!f[m])&&(g=!0);if(g&&"@mods "==m&&c!=players[0].name)return b=b.replace(m,""),m=Player.is_chat_mod(c)?COLOR.LGREEN:Player.is_mod(c)?COLOR.GREEN:Player.is_admin(c)?COLOR.ORANGE:"#EAE330",addChatText(b,c,m,"chat",Mods.Chatmd.ModCh.channel),!0;k=timestamp()-(Mods.Chatmd.delay||0);if(g)return 1E3<k&&(Mods.Chatmd.delay=timestamp(),Mods.Chatmd.message(b)),!0}return!1};Mods.Chatmd.message=function(b){};Mods.Chatmd.translateSpamItems=function(){var b=[_tm("You are under attack!",
{ns:"interface"}),_tm("Cannot do that yet",{ns:"errors"}),_tm("I think that I'm missing something.",{ns:"errors"}),_tm("You feel a bit better",{ns:"interface"}),_tm("Your inventory is full!",{ns:"errors"}),_tm("You feel more experienced",{ns:"interface"}),_tm("I need a seed to do that.",{ns:"errors"}),_tm("I need a rake to do that.",{ns:"errors"}),_tm("Not enough free space in your magic pouch!",{ns:"errors"}),_tm("You need a magic pouch!",{ns:"errors"}),_tm("Chest is full!",{ns:"errors"}),_tm("You ran away.",
{ns:"interface"}),_tm("Plant is revived and starts to grow again",{ns:"interface"}),_tm("Plant is feeling refreshed",{ns:"interface"}),_tm("Your watering can is now filled with water",{ns:"interface"})],c=_tm("This pouch has a limit {amount} of each spell!",{ns:"errors",amount:99999}),c=c.substr(0,c.search("99999"));b.push(c);Mods.Chatmd.spamItems=b};Mods.Chatmd.set_hidden=function(){return!0===Mods.Chatmd.block_hidden?Mods.Chatmd.block_hidden=!1:!0};Mods.Chatmd.marketSearch=function(b,c,f){if(!(!selected||
selected&&"undefined"==typeof selected.name||selected&&"undefined"!=typeof selected.name&&-1==selected.name.indexOf("Chest")||"undefined"==typeof b||"undefined"==typeof f)&&(Market.open(selected),1==b||0===b)){getElem("market_search_type").value=b;if(!1!==c&&-1<c&&11>c)getElem("market_search_category").value=c;else if(void 0!==item_base[f])getElem("market_search_category").value=parseInt(item_base[f].b_t);else return;if(void 0!==item_base[f])getElem("market_search_item").value=f;else if(8<c&&"string"==
typeof f)getElem("market_search_name").value=f;else return;Market.client_search()}};Mods.Chatmd.ModCh.targets=function(){if(GAME_STATE==GAME_STATES.CHAT&&getElem("current_channel").value==Mods.Chatmd.ModCh.channel){var b=getElem("mod_text").value;if(/^@/.test(b)){var c=/^@ ?"([^"]{0,})"/,f=/^@ ?([^ ]{1,}) /,c=/^@ ?([\[\(][^\]\)]{0,}[\]\)])/.exec(b)||c.exec(b)||f.exec(b);if(!c)return{targets:[],message:""};b=b.slice(c[0].length).trim().replace(/""/,'""');c=c[1];""===c&&(c="[]");c=c.replace(/",? ?"/g,
'","').replace(/^\(/,"[").replace(/\)$/,"]").replace(/^\[/,'["').replace(/, ?/g,'","').replace(/]$/,'"]').replace(/""/g,'"');'["]'==c&&(c="[]");!/^\[.*\]$/.test(c)&&(c='["'+c+'"]');c=JSON.parse(c);return c={message:b,targets:c}}}return!1};Mods.Chatmd.colorChat=function(b){var c=!1,f=Mods.Chatmd.colors,k=!1;if("boolean"!=typeof b||b)if("string"==typeof b){for(var g in channel_names)if(channel_names[g]==b){k=!0;break}if(!k)return!1}else return!1;else c=!0;c&&(b=getElem("current_channel").value);b=f[b]||
channel_names.indexOf(b)&&f["default"]||f.none;chat_filters.color&&(b=COLOR.WHITE);return c?(c=/^\//.test(getElem("my_text").value),f=/^\//.test(getElem("mod_text").value),k=/^\/\@mods/.test(getElem("my_text").value),getElem("current_channel").style.color=b,c&&!k||(getElem("my_text").style.color=b),f||c&&!k||(getElem("mod_text").style.color=b),!1):b};Mods.Chatmd.chatCommand=function(b){};Mods.Chatmd.ModCh.chatCommand=function(b,c,f,k,g,m){};Mods.Chatmd.ModCh.createDiv=function(){null===getElem("mod_text")&&
createElem("input",wrapper,{id:"mod_text",type:"text",className:"hidden",style:"font-family: Brawler, cursive; font-size: 13px; position: absolute; left: 55px; bottom: 23px; z-index: 90; opacity: 1; color: "+COLOR.GREEN+"; text-shadow: 1px 1px 1px #3A3A3A;background: #9C9C9C; border: 0px; padding: 0px; margin: 0px;",setAttributes:{autocomplete:"off",size:"1",onkeypress:"javascript: Chat.update_string();",maxlength:"154"}})};Mods.Chatmd.ModCh.listener=function(b){};Mods.Chatmd.ModCh.sendWhisper=function(b){};
Chat.has_client_command=function(b){return 0<b.length?Mods.Chatmd.old_has_client_command(b):!0};Chat.execute_client_command=function(b){0<b.length&&Mods.Chatmd.old_execute_client_command(b)};Mods.Chatmd.filter_checks=function(){var b=getElem("filter_channel_only").checked,c=getElem("filter_highlight_friends").checked;LStorage.set("colorChannel",JSON.stringify(b));LStorage.set("highlightFriends",JSON.stringify(c));-1<loadedMods.indexOf("Tabs")&&(b=Mods.Tabs.wwCurrentTabs[Mods.Tabs.findWithAttr(Mods.Tabs.wwCurrentTabs,
"id",Mods.Tabs.wwactiveTab)],b.filter_coloredonly=getElem("filter_channel_only").checked,b.filter_highlightfriends=getElem("filter_highlight_friends").checked,LStorage.set("CurrentTabs",JSON.stringify(Mods.Tabs.wwCurrentTabs)))};Mods.Chatmd.socketOn={actions:"message skills attack hit death login player_island market_transaction_offers double_exp monster_island my_skill_quest_data random_map event".split(" "),fn:function(b,c,f){c&&"whisper"==c.type&&c.name!=players[0].name&&Mods.Chatmd.afkReply(c.name,
c.message);"skills"!=b&&"attack"!=b&&"death"!=b&&"hit"!=b||Mods.Counter.update(b,c,f);("login"==b||"player_island"==b||"market_transaction_offers"==b||"double_exp"==b||"monster_island"==b||"my_skill_quest_data"==b||"random_map"==b||"event"==b&&"cathedral"==c)&&Mods.Timer.update_all_presets()}};Mods.Chatmd.eventListener={keys:{keydown:[KEY_ACTION.SEND_CHAT],keyup:[!0]},fn:function(b,c,f){if("keydown"==b&&f==KEY_ACTION.SEND_CHAT&&""!==getElem("my_text").value&&!Mods.Chatmd.blockCommand&&(isTouchDevice()||
(Mods.Chatmd.blockCommand=!0,Timers.set("unblockCommand",function(){Mods.Chatmd.blockCommand=!1},1E3)),!1===Mods.Chatmd.chatCommands(getElem("my_text").value)&&(getElem("my_text").value=""),"$$"==getElem("current_channel").value&&(getElem("my_text").value=Mods.Chatmd.filterMarketChat(getElem("my_text").value)),Player.is_mod_dev(players[0].name)&&1==Mods.Chatmd.modDevColorToggle)){var k=getElem("my_text"),g="#"+k.value.slice(0);k.value=g.substring(0,160)}"keyup"==b&&(Mods.Chatmd.ModCh.listener(c),
f!=KEY_ACTION.SEND_CHAT||isTouchDevice()||(Mods.Chatmd.blockCommand=!1))}};Mods.Chatmd.newDrawObject=function(b,c,f){var k;if(c.b_t==BASE_TYPE.PLAYER){k=Player.has_lower_permissions(c.name)?npc_base[437]:npc_base[102];var g=Math.random();Mods.Chatmd.mooDelay[c.name]=Mods.Chatmd.mooDelay[c.name]||1;1E3<timestamp()-Mods.Chatmd.mooDelay[c.name]&&(Mods.Chatmd.mooDelay[c.name]=timestamp(),.7<g&&Mods.Chatmd.m00(c))}else k=c;Mods.Chatmd.oldDrawObject(b,k,f)};updateBase();Mods.Chatmd.m00=function(b){var c=
"m00 m00! mU m00 m00 m00 m00 m00! moo MOO moo mOO M00".split(" "),f=Math.max(1,Math.ceil(Math.random()*c.length))-1,k=getElem("enemy_hit").cloneNode(!0),g=translateTileToCoordinates(b.i,b.j),g=adjustCoordsToZoomCoords(g.x,g.y);k.id="moo_"+b.id+(new Date).getTime();removeClass(k,"hidden");k.innerHTML="<div id='enemy_burst' style='display: block; position: relative; background: #000000; text-align: center; width: 35px; height: 35px; -webkit-transform: rotate(20deg); -moz-transform: rotate(20deg); -ms-transform: rotate(20deg); -o-transform: rotate(20deg);'></div><div id='enemy_damage' class='damage' style='font-size: 16px; top: 4px;'></div>";
k.childNodes[0].innerHTML="<div style='position: absolute; background: #000000; top: 0; left: 0; height: 35px; width: 35px; -webkit-transform: rotate(135deg); -moz-transform: rotate(135deg); -ms-transform: rotate(135deg); -o-transform: rotate(135deg)'></div>";k.childNodes[1].innerHTML=c[f];k.style.background="#000000";k.style.width="35px";k.style.height="35px";wrapper.appendChild(k);k.style.left=(g.x+16+players[0].mx)*current_ratio_x+"px";k.style.top=(g.y-40+players[0].my-20)*current_ratio_y+"px";
addClass(k,"opacity_100");setTimeout(function(){decreaseOpacity(k,150,10)},150)};drawObject=function(b,c,f){Mods.Chatmd.oldDrawObject(b,c,f)};updateBase();Mods.Chatmd.afkReply=function(b,c){var f=Mods.Chatmd.afkHolder=Mods.Chatmd.afkHolder||{},k=Mods.Chatmd.afkMessage;""!==k&&b!=players[0].name&&(void 0==f[b]||3E5<timestamp()-f[b])&&!/^@mods ?/.test(c)&&(f[b]=timestamp(),Socket.send("message",{data:ChatSystem.chat_whisper_command_for_name(b)+k}))};Mods.Chatmd.wiki=function(b,c){if("object"===typeof c&&
"object"===typeof b&&"wiki"===c[0]){c&&c.value&&(c.value=c.value.replace(/\[\]/g," "));var f={item:"item",mob:"monster",npc:"vendor",craft:"craft",pet:"pet",breed:"breed",spell:"spell",enchant:"enchant"},k=function(b,c,f){c="string"==typeof c?"_"+c:"";return getElem("mods_wiki_"+b+c+("string"==typeof c&&"string"==typeof f?"_"+f:""))},g=Mods.Wikimd.loadWikiType;c[1]&&(k("type").value=f[c[1]]||c[1],g(0,"type"),c[2]&&b[c[1]]&&"undefined"!==typeof b[c[1]][c[2]]&&(k("type",f[c[1]]||c[1]).value=c[2],g(1,
c[1]),c.text&&"text"===b[c[1]][c[2]]&&(k("name").value="string"===typeof c.text?c.text:null),c.value&&"value"===b[c[1]][c[2]]&&(k("type",f[c[1]]||c[1],c[2]).value="string"===typeof c.value?c.value:-1,g(2,c[2])),!c.range||"range"!==b[c[1]][c[2]]&&"value"!==b[c[1]][c[2]]||(k("range").value=c.range,k("level","low").value=-1<c.min?c.min:null,k("level","high").value=-1<c.max?c.max:null)));FormHelper.get_form("mods");Mods.Wikimd.populateWiki(!0);Mods.loadModMenu_wiki&&Mods.loadModMenu_wiki()}};Mods.Timer=
{Data:Mods.Timer&&Mods.Timer.Data||{},state:Mods.Timer&&Mods.Timer.state||"hidden",gui_disabled:Mods.Timer&&Mods.Timer.gui_disabled||!1,show_hidden:Mods.Timer&&Mods.Timer.show_hidden||!1,save:function(){LStorage.set("timer",JSON.stringify(Mods.Timer.Data))},schedule_save:function(){Timers.set("timer_mod_save",function(){Mods.Timer.save();Mods.Timer.schedule_save()},5E3)},load:function(){try{LStorage.get("timer")&&"object"===typeof JSON.parse(LStorage.get("timer"))&&(Mods.Timer.Data=JSON.parse(LStorage.get("timer")))}catch(b){console.log("Error: failed to load timers data."),
console.log(b)}"undefined"===typeof Mods.Timer.Data.stopwatch&&(Mods.Timer.Data.stopwatch=[]);"undefined"===typeof Mods.Timer.Data.countdown&&(Mods.Timer.Data.countdown=[]);for(name in Mods.Timer.Data.start)if("string"===typeof name&&"number"===typeof Mods.Timer.Data.start[name][0]){var c={name:name,type:"stopwatch",start_time:Mods.Timer.Data.start[name][0],time:null,pause:{is_paused:!1,start_time:null,time:0},preset:"none",hidden:!1};Mods.Timer.Data.stopwatch.push(c)}for(name in Mods.Timer.Data.set)"string"===
typeof name&&"number"===typeof Mods.Timer.Data.set[name][0]&&"number"===typeof Mods.Timer.Data.set[name][1]&&(c={name:name,type:"countdown",start_time:Mods.Timer.Data.set[name][0],time:Mods.Timer.Data.set[name][1],pause:{is_paused:!1,start_time:null,time:0},preset:"none",hidden:!1},Mods.Timer.Data.countdown.push(c));"undefined"===typeof Mods.Timer.Data.settings&&(Mods.Timer.Data.settings={stopwatch:{sort_by:"time",reverse:!1},countdown:{chat_popup:!0,sound_alert:!0,sort_by:"time",reverse:!1},stopwatch_top:!0,
list_on_chat:!1});Mods.Timer.Data.set={};Mods.Timer.Data.start={};Mods.Timer.save();Mods.Timer.update_all_presets();for(c=0;c<Mods.Timer.Data.countdown.length;c++)Mods.Timer.set_countdown_alert(Mods.Timer.Data.countdown[c],!0);Mods.Timer.schedule_save();FormHelper.forms.timers={width:220,height:260,title:"Timer",links:[{name:"Table",method:function(){Mods.Timer.show_timers_table()},marginRight:20},{name:"Settings",method:function(){Timers.clear("timer_mod_update_timers_table");Mods.Timer.show_timers_settings()},
marginRight:20},{name:"Close",method:function(){Timers.clear("timer_mod_update_timers_table");Mods.Timer.state="hidden";document.getElementById("timers_form").style.display="none"},marginRight:0}]};FormHelper.forms.create_timer={width:300,height:170,title:"Create timer",links:[{name:"Close",method:function(){document.getElementById("create_timer_form").style.display="none"},marginRight:0}]};Handlebars.registerHelper("timerFormatHMS",function(b){b=Mods.Timer.time_to_hms(b);return b[0]+"h "+b[1]+"m "+
b[2]+"s"});Handlebars.registerHelper("timerFormatHHMMSS",function(b){var c="",g=Mods.Timer.get_time(b);b=b.pause.is_paused?"&#x23F8;":"&nbsp;&nbsp;";0<g?c+="<span class='green'>"+b:(c+="<span class='red'>"+b+"-",g=-g);var m=Mods.Timer.time_to_hms(g),g=m[0];b=m[1];m=m[2];10>g&&(g="0"+g);10>b&&(b="0"+b);10>m&&(m="0"+m);c=c+(g+":"+b+":"+m)+"</span>";return new Handlebars.SafeString(c)});Handlebars.registerHelper("timerFormatTitle",function(b){var c=_tm("Start time")+": "+(new Date(b.start_time)).toLocaleString();
"countdown"==b.type&&(c+="\n"+_ti("Time")+": "+(beautifulTimeT(b.time,2,!1)||_tm("{count} second",{ns:"calendar",count:"0"})));return c});Handlebars.registerHelper("timerTableWidth",function(b){return"min-width:"+(FormHelper.forms.timers.width-b).toString()+"px;width:"+(FormHelper.forms.timers.width-b).toString()+"px;"});Handlebars.registerHelper("timerIfShowHidden",function(b){return Mods.Timer.show_hidden?new Handlebars.SafeString(b.fn(this)):""});Handlebars.registerHelper("decodeUriComponent",
function(b){return escapeHtml(decodeURIComponent(b))});Handlebars.registerHelper("clickMethod",function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)?"onclick":"oncontextmenu"});HandlebarTemplate.timers_table_top_row=function(){if("undefined"!==typeof CompiledTemplate.timers_table_top_row)return CompiledTemplate.timers_table_top_row;html="<table class='scrolling_allowed' style='{{timerTableWidth 20}}'><tr class='scrolling_allowed'><td class='scrolling_allowed' style='text-align:left;vertical-align:middle;'><button class='menu_button scrolling_allowed' style='margin-top:2px;margin-bottom:2px;' onclick='Mods.Timer.open_timer_creator()' title='{{__tm 'Make new timer'}}'>{{_tm 'New'}}</button></td><td class='scrolling_allowed' style='text-align:right;vertical-align:middle;' title='{{__tm 'Show hidden timers'}}'>{{_tm 'Show all'}}</td><td class='scrolling_allowed' style='text-align:right;vertical-align:middle;' title='{{__tm 'Show hidden timers'}}'><input type='checkbox' class='scrolling_allowed' id='timers_show_hidden' onclick='Mods.Timer.update_show_hidden()' {{#timerIfShowHidden}}checked{{/timerIfShowHidden}}></td></tr></table>";
CompiledTemplate.timers_table_top_row=Handlebars.compile(html);return CompiledTemplate.timers_table_top_row};HandlebarTemplate.timers_table=function(){if("undefined"!==typeof CompiledTemplate.timers_table)return CompiledTemplate.timers_table;CompiledTemplate.timers_table=Handlebars.compile("<span id='timers_tables' class='scrolling_allowed'>{{#if settings.stopwatch_top}}{{cycle_init}}<table class='table scrolling_allowed' style='{{timerTableWidth 20}}text-align:right;'><thead class='scrolling_allowed'><tr class='scrolling_allowed'>{{#if stopwatch}}<th class='scrolling_allowed'>{{_tm 'Stopwatches'}}</th><th class='scrolling_allowed'>{{_tm 'Elapsed'}}</th></tr></thead><tbody class='scrolling_allowed'>{{#each stopwatch}}{{#if hidden}}{{#timerIfShowHidden}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='toolbar_dark scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/timerIfShowHidden}}{{else}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/if}}{{/each}}</tbody></table><br/>{{/if}}{{cycle_init}}<table class='table scrolling_allowed' style='{{timerTableWidth 20}}text-align:right;'><thead class='scrolling_allowed'><tr class='scrolling_allowed'>{{#if countdown}}<th class='scrolling_allowed'>{{_tm 'Countdowns'}}</th><th class='scrolling_allowed'>{{_tm 'Remaining'}}</th></tr></thead><tbody class='scrolling_allowed'>{{#each countdown}}{{#if hidden}}{{#timerIfShowHidden}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='toolbar_dark scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/timerIfShowHidden}}{{else}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/if}}{{/each}}</tbody></table><br/>{{/if}}{{else}}{{cycle_init}}<table class='table scrolling_allowed' style='{{timerTableWidth 20}}text-align:right;'><thead class='scrolling_allowed'><tr class='scrolling_allowed'>{{#if countdown}}<th class='scrolling_allowed'>{{_tm 'Countdowns'}}</th><th class='scrolling_allowed'>{{_tm 'Remaining'}}</th></tr></thead><tbody class='scrolling_allowed'>{{#each countdown}}{{#if hidden}}{{#timerIfShowHidden}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='toolbar_dark scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/timerIfShowHidden}}{{else}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/if}}{{/each}}</tbody></table><br/>{{/if}}{{cycle_init}}<table class='table scrolling_allowed' style='{{timerTableWidth 20}}text-align:right;'><thead class='scrolling_allowed'><tr class='scrolling_allowed'>{{#if stopwatch}}<th class='scrolling_allowed'>{{_tm 'Stopwatches'}}</th><th class='scrolling_allowed'>{{_tm 'Elapsed'}}</th></tr></thead><tbody class='scrolling_allowed'>{{#each stopwatch}}{{#if hidden}}{{#timerIfShowHidden}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='toolbar_dark scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/timerIfShowHidden}}{{else}}<tr class='{{cycle_table}} scrolling_allowed' title='{{timerFormatTitle this}}' {{clickMethod }}='Mods.Timer.TimerContextMenu.create(event,&quot;{{name}}&quot;,&quot;{{type}}&quot;)'><td class='scrolling_allowed'>{{{decodeUriComponent name}}}</td><td class='scrolling_allowed'>&nbsp;&nbsp;{{timerFormatHHMMSS this}}</td></tr>{{/if}}{{/each}}</tbody></table><br/>{{/if}}{{/if}}</span>");
return CompiledTemplate.timers_table};HandlebarTemplate.timer_creator=function(){if("undefined"!==typeof CompiledTemplate.timer_creator)return CompiledTemplate.timer_creator;CompiledTemplate.timer_creator=Handlebars.compile("<div style='text-align:center;'><table class='table' style='min-width:300px; width:300px;margin:auto;'><tr style='text-align:left;'><td style='vertical-align:middle;'>{{_t 'Name'}}</td><td><input type='text' id='new_timer_name' data-tp='Default' placeholder='{{__t 'Default'}}' value='{{#if this}}{{#if name}}{{{decodeUriComponent name}}}{{/if}}{{/if}}' onfocus='this.setSelectionRange(this.value.length, this.value.length);' class='small_border_container'></td></tr><tr style='text-align:left;'><td style='vertical-align:middle;'>{{_tm 'Time'}}</td><td><input type='text' id='new_timer_time' title='{{__tm 'Leave blank to create a stopwatch'}}' onkeypress='Mods.Timer.check_timer_creator_enter(event,{{#if this}}&quot;{{name}}&quot;,&quot;{{type}}&quot;{{/if}})' placeholder='0h 0m 0s' value='{{#if this}}{{#if time}}{{timerFormatHMS time}}{{/if}}{{/if}}' onfocus='this.setSelectionRange(this.value.length, this.value.length);' class='small_border_container'></td></tr>{{#if this}}<tr style='text-align:left;'><td style='vertical-align:middle;'>{{_t 'Restart'}}</td><td><input type='checkbox' id='timer_creator_restart_timer'></td></tr>{{/if}}<tr style='text-align:left;'><td style='vertical-align:middle;'>{{_tm 'Preset'}}</td><td><select id='timers_preset' onchange='Mods.Timer.update_preset_options()' class='select_button pointer'><option value='none'>{{_tm 'None'}}</option><option value='maintenance'>{{_tm 'Maintenance'}}</option><option value='session'>{{_tm 'Session'}}</option><option value='2x exp start'>{{_tm '2x Exp Start'}}</option><option value='2x exp end'>{{_tm '2x Exp End'}}</option><option value='penalty reminder'>{{_tm 'Penalty Reminder'}}</option><option value='monster island'>{{_t 'Monster Island'}}</option><option value='cathedral'>{{_t 'Cathedral run'}}</option><option value='nature tower'>{{_t 'Nature Tower'}}</option><option value='ice tower'>{{_t 'Ice Tower'}}</option><option value='fire tower'>{{_t 'Fire Tower'}}</option><option value='skill quest'>{{_t 'Skill Quest'}}</option><option value='kill quest'>{{_t 'Kill Quests'}}</option><option value='party quest'>{{_t 'Party Quest'}}</option><option value='market offer'>{{_tm 'Market Offer'}}</option></select></td></tr><tr><td></td><td style='text-align:left;'><button class='menu_button' style='margin-top:2px;margin-bottom:2px;' onclick='Mods.Timer.start_timer_from_gui({{#if this}}&quot;{{name}}&quot;,&quot;{{type}}&quot;{{/if}})'>{{_t 'Start'}}</button></td></tr></table></div>");
return CompiledTemplate.timer_creator};HandlebarTemplate.timers_settings=function(){"undefined"===typeof CompiledTemplate.timers_settings&&(CompiledTemplate.timers_settings=Handlebars.compile("{{_tm 'Stopwatches'}}<br/><table class='table' style='{{timerTableWidth 20}}text-align:left;'><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Sort by'}}</td><td><select id='timers_settings_stopwatch_sort_by' onchange='Mods.Timer.update_settings()' class='select_button pointer'><option value='time'>{{_t 'Time'}}</option><option value='start time'>{{_tm 'Start time'}}</option><option value='name'>{{_t 'Name'}}</option></select></td></tr><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Reverse order'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_stopwatch_reverse' onclick='Mods.Timer.update_settings()' {{#if stopwatch.reverse}}checked{{/if}}></td></tr></table><br/>{{_tm 'Countdowns'}}<br/><table class='table' style='{{timerTableWidth 20}}text-align:left;'><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Sort by'}}</td><td><select id='timers_settings_countdown_sort_by' onchange='Mods.Timer.update_settings()' class='select_button pointer'><option value='time'>{{_t 'Time'}}</option><option value='start time'>{{_tm 'Start time'}}</option><option value='name'>{{_t 'Name'}}</option></select></td></tr><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Reverse order'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_countdown_reverse' onclick='Mods.Timer.update_settings()' {{#if countdown.reverse}}checked{{/if}}></td></tr><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Chat popup'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_chat_popup' onclick='Mods.Timer.update_settings()' {{#if countdown.chat_popup}}checked{{/if}}></td></tr><tr><td style='vertical-align: middle;'>&emsp;{{_tm 'Sound alert'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_sound_alert' onclick='Mods.Timer.update_settings()' {{#if countdown.sound_alert}}checked{{/if}}></td></tr></table><br/><table class='table' style='{{timerTableWidth 20}}text-align:left;'><tr><td style='vertical-align: middle;'>{{_tm 'Stopwatches on top'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_stopwatch_top' onclick='Mods.Timer.update_settings()' {{#if stopwatch_top}}checked{{/if}}></td></tr><tr><td style='vertical-align: middle;'>{{_tm 'List timers on chat'}}</td><td style='vertical-align: middle;'><input type='checkbox' id='timers_settings_list_on_chat' onclick='Mods.Timer.update_settings()' {{#if list_on_chat}}checked{{/if}}></td></tr></table>"));
return CompiledTemplate.timers_settings}},TimerContextMenu:{active:!1,timer:void 0,create:function(b,c,f){var k=document.getElementById("action_menu");Mods.Timer.TimerContextMenu.timer=Mods.Timer.Data[f][Mods.Timer.get_timer_index(c,f)];addClass(k,"hidden");k.style.top=b.clientY+10+"px";k.style.left=b.clientX+"px";k.innerHTML="<span style='color:yellow;'>"+escapeHtml(decodeURIComponent(c))+"</span><br/>";"none"==Mods.Timer.TimerContextMenu.timer.preset&&(k.innerHTML+="<span class='line' onclick='Mods.Timer.TimerContextMenu.restart()'>"+
_ti("Restart")+"</span>",k.innerHTML=Mods.Timer.TimerContextMenu.timer.pause.is_paused?k.innerHTML+("<span class='line' onclick='Mods.Timer.TimerContextMenu.resume()'>"+_tm("Resume")+"</span>"):k.innerHTML+("<span class='line' onclick='Mods.Timer.TimerContextMenu.pause()'>"+_tm("Pause")+"</span>"));k.innerHTML+="<span class='line' onclick='Mods.Timer.TimerContextMenu.edit()'>"+_tm("Edit")+"</span>";k.innerHTML=Mods.Timer.TimerContextMenu.timer.hidden?k.innerHTML+("<span class='line' onclick='Mods.Timer.TimerContextMenu.toggle_hidden()'>"+
_tm("Show")+"</span>"):k.innerHTML+("<span class='line' onclick='Mods.Timer.TimerContextMenu.toggle_hidden()'>"+_tm("Hide")+"</span>");k.innerHTML+="<span class='line' onclick='Mods.Timer.TimerContextMenu.remove()'>"+_ti("Delete")+"</span><span class='line' onclick='Mods.Timer.TimerContextMenu.close()'>"+_ti("Close")+"</span>";removeClass(k,"hidden");fixBoundingClientRect(k);return Mods.Timer.TimerContextMenu.active=!0},restart:function(){Mods.Timer.TimerContextMenu.close();Mods.Timer.restart(Mods.Timer.TimerContextMenu.timer)},
resume:function(){Mods.Timer.TimerContextMenu.close();Mods.Timer.resume(Mods.Timer.TimerContextMenu.timer)},pause:function(){Mods.Timer.TimerContextMenu.close();Mods.Timer.pause(Mods.Timer.TimerContextMenu.timer)},edit:function(){Mods.Timer.TimerContextMenu.close();Mods.Timer.open_timer_creator(Mods.Timer.TimerContextMenu.timer)},toggle_hidden:function(){Mods.Timer.TimerContextMenu.close();Mods.Timer.toggle_hidden(Mods.Timer.TimerContextMenu.timer)},remove:function(){Mods.Timer.TimerContextMenu.close();
Mods.Timer.remove(Mods.Timer.TimerContextMenu.timer.name);Mods.Timer.show_timers_table()},close:function(){var b=document.getElementById("action_menu");addClass(b,"hidden");Mods.Timer.TimerContextMenu.active=!1}},check_timer_creator_enter:function(b,c,f){"Enter"===b.key&&Mods.Timer.start_timer_from_gui(c,f)},start_timer_from_gui:function(b,c){var f=document.getElementById("new_timer_name"),k=document.getElementById("new_timer_time"),g=document.getElementById("timer_creator_restart_timer"),m=document.getElementById("timers_preset"),
n="default",p="";null!=f&&f.value&&(n=f.value.trim());null!=k&&k.value&&(p=k.value);m=null!=m?m.value:"none";if("undefined"!==typeof b&&"undefined"!==typeof c&&null!==g)var t=Mods.Timer.get_timer_index(b,c),t=Mods.Timer.Data[c][t],g=Mods.Timer.edit(t.name,t.type,n,p,g.checked,m);else g=Mods.Timer.create(n,p,m);g&&(null!=f&&f.value&&(f.value=""),null!=k&&k.value&&(k.value=""),document.getElementById("create_timer_form").style.display="none",Mods.Timer.show_timers_table())},update_preset_options:function(){var b=
document.getElementById("timers_preset"),c=document.getElementById("new_timer_time");if(null!=b&&null!=c){var f=document.getElementById("timer_creator_restart_timer");"none"==b.value?(c.disabled=!1,null!=f&&(f.disabled=!1)):(c.value="",c.disabled=!0,null!=f&&(f.checked=!0,f.disabled=!0))}},update_settings:function(){var b=document.getElementById("timers_settings_stopwatch_sort_by"),c=document.getElementById("timers_settings_stopwatch_reverse"),f=document.getElementById("timers_settings_chat_popup"),
k=document.getElementById("timers_settings_sound_alert"),g=document.getElementById("timers_settings_countdown_sort_by"),m=document.getElementById("timers_settings_countdown_reverse"),n=document.getElementById("timers_settings_stopwatch_top"),p=document.getElementById("timers_settings_list_on_chat");null!=b&&(Mods.Timer.Data.settings.stopwatch.sort_by=b.value);null!=c&&(Mods.Timer.Data.settings.stopwatch.reverse=c.checked);null!=f&&(Mods.Timer.Data.settings.countdown.chat_popup=f.checked);null!=k&&
(Mods.Timer.Data.settings.countdown.sound_alert=k.checked);null!=g&&(Mods.Timer.Data.settings.countdown.sort_by=g.value);null!=m&&(Mods.Timer.Data.settings.countdown.reverse=m.checked);null!=n&&(Mods.Timer.Data.settings.stopwatch_top=n.checked);null!=p&&(Mods.Timer.Data.settings.list_on_chat=p.checked)},update_show_hidden:function(){var b=document.getElementById("timers_show_hidden");null!=b&&(Mods.Timer.show_hidden=b.checked);Mods.Timer.show_timers_table()},show_timers_table:function(){Mods.Timer.gui_disabled?
Mods.Timer.close_gui():(Mods.Timer.state="table",Timers.clear("timer_mod_update_timers_table"),FormHelper.get_form("timers").content.innerHTML=HandlebarTemplate.timers_table_top_row()()+HandlebarTemplate.timers_table()(Mods.Timer.sorted_timers()),Timers.set("timer_mod_update_timers_table",Mods.Timer.update_timers_table,1E3))},update_timers_table:function(){"table"==Mods.Timer.state&&(Mods.Timer.gui_disabled?Mods.Timer.close_gui():(document.getElementById("timers_tables").innerHTML=HandlebarTemplate.timers_table()(Mods.Timer.sorted_timers()),
Timers.set("timer_mod_update_timers_table",Mods.Timer.update_timers_table,1E3),Mods.Timer.update_timers_table_running=!0))},show_timers_settings:function(){Mods.Timer.state="settings";FormHelper.get_form("timers").content.innerHTML=HandlebarTemplate.timers_settings()(Mods.Timer.Data.settings);document.getElementById("timers_settings_stopwatch_sort_by").value=Mods.Timer.Data.settings.stopwatch.sort_by;document.getElementById("timers_settings_countdown_sort_by").value=Mods.Timer.Data.settings.countdown.sort_by},
open_timer_creator:function(b){FormHelper.get_form("create_timer").content.innerHTML=HandlebarTemplate.timer_creator()(b);var c=document.getElementById("new_timer_name");"undefined"!==typeof b&&(document.getElementById("timers_preset").value=Mods.Timer.TimerContextMenu.timer.preset,Mods.Timer.update_preset_options());null!=c&&c.focus()},close_gui:function(){Timers.clear("timer_mod_update_timers_table");Mods.Timer.state="hidden";var b=document.getElementById("timers_form"),c=document.getElementById("create_timer_form");
null!==b&&"object"===typeof b.style&&(b.style.display="none");null!==c&&"object"===typeof c.style&&(c.style.display="none")},edit:function(b,c,f,k,g,m){var n="stopwatch",p=null,t=Mods.Timer.get_timer_index(b,c);c=Mods.Timer.Data[c][t];if(k&&"none"==m){n="countdown";p=Mods.Timer.parse_time(k);if("undefined"===typeof p)return addChatText(_tm("Invalid time format."),void 0,COLOR.TEAL),!1;0==p&&(p=1)}f={name:escapeHtml(encodeURIComponent(f.replace(/\"/g,""))),type:n,start_time:g?timestamp():c.start_time,
time:p,pause:{is_paused:g?!1:c.pause.is_paused,start_time:g?null:c.pause.start_time,time:g?0:c.pause.time},preset:m,hidden:c.hidden};m!=c.preset||"penalty reminder"!=m&&"2x exp start"!=m&&"2x exp end"!=m&&"monster island"!=m&&"market offer"!=m||(f.start_time=c.start_time,f.time=c.time);Mods.Timer.update_preset(f);Mods.Timer.clear_name(b);Mods.Timer.clear_name(f.name);Mods.Timer.Data[f.type].push(f);"countdown"==f.type&&Mods.Timer.set_countdown_alert(f);Mods.Timer.save();Mods.Timer.show_timers_table();
return!0},create:function(b,c,f){var k="stopwatch",g=null;if(c){k="countdown";g=Mods.Timer.parse_time(c);if("undefined"===typeof g)return addChatText(_tm("Invalid time format."),void 0,COLOR.TEAL),!1;0==g&&(g=1)}"undefined"!==typeof f&&"none"!=f&&(g=1);b={name:escapeHtml(encodeURIComponent(b.replace(/\"/g,""))),type:k,start_time:timestamp(),time:g,pause:{is_paused:!1,start_time:null,time:0},preset:f||"none",hidden:!1};Mods.Timer.update_preset(b);Mods.Timer.clear_name(b.name);Mods.Timer.Data[b.type].push(b);
Mods.Timer.save();"stopwatch"==b.type?b=_tm("Stopwatch {name} started.",{name:"("+decodeURIComponent(b.name)+")"}):(Mods.Timer.set_countdown_alert(b),b=_tm("Countdown {name} started for {time}.",{name:"("+decodeURIComponent(b.name)+")",time:beautifulTimeT(b.time,2,!1)||_tm("{count} second",{ns:"calendar",count:"0"})}));addChatText(b,void 0,COLOR.TEAL);Mods.Timer.show_timers_table();return!0},remove:function(b){return Mods.Timer.clear_name(b)?(Mods.Timer.save(),b=_tm("Timer {name} has been deleted.",
{name:"("+decodeURIComponent(b)+")"}),addChatText(b,void 0,COLOR.TEAL),!0):!1},set_countdown_alert:function(b,c){var f=Mods.Timer.get_time(b);if(-5E3>f||2147483647<f)Timers.clear("timer_mod_alert_"+b.name);else if(!(0>f)||c){var k=beautifulTimeT(b.time,2,!1)||_tm("{count} second",{ns:"calendar",count:"0"});Timers.set("timer_mod_alert_"+b.name,function(c){addChatText(_tm("Countdown {name} has expired. It has been {time}.",{name:"("+decodeURIComponent(b.name)+")",time:k}),void 0,COLOR.TEAL);Mods.Timer.Data.settings.countdown.chat_popup&&
Chat.set_visible();Mods.Timer.Data.settings.countdown.sound_alert&&Music.sound_effect("notification")},f)}},sorted_timers:function(){var b,c;c=Mods.Timer.Data.settings.stopwatch.reverse?-1:1;switch(Mods.Timer.Data.settings.stopwatch.sort_by){case "time":b=function(b,k){return(Mods.Timer.get_time(b)-Mods.Timer.get_time(k))*c};break;case "start time":b=function(b,k){return(b.start_time-k.start_time)*c};break;case "name":b=function(b,k){return b.name.toLowerCase()>k.name.toLowerCase()?c:-c}}Mods.Timer.Data.stopwatch.sort(b);
c=Mods.Timer.Data.settings.countdown.reverse?-1:1;switch(Mods.Timer.Data.settings.countdown.sort_by){case "time":b=function(b,k){return(Mods.Timer.get_time(b)-Mods.Timer.get_time(k))*c};break;case "start time":b=function(b,k){return(b.start_time-k.start_time)*c};break;case "name":b=function(b,k){return b.name.toLowerCase()>k.name.toLowerCase()?c:-c}}Mods.Timer.Data.countdown.sort(b);return Mods.Timer.Data},clear_name:function(b){var c=!1,f=Mods.Timer.get_timer_index(b,"stopwatch");"undefined"!==typeof f&&
(Mods.Timer.Data.stopwatch.splice(f,1),c=!0);f=Mods.Timer.get_timer_index(b,"countdown");"undefined"!==typeof f&&(Mods.Timer.Data.countdown.splice(f,1),c=!0);Timers.clear("timer_mod_alert_"+b);return c},update_preset:function(b){b.preset||(b.preset="none");switch(b.preset){case "none":break;case "maintenance":b.type="countdown";b.time="number"===typeof maintenance_time?maintenance_time-b.start_time:1;Mods.Timer.set_countdown_alert(b);break;case "session":b.type="stopwatch";b.time=null;b.start_time=
"object"===typeof game_timestamp&&"number"===typeof game_timestamp.connected?game_timestamp.connected:timestamp();break;case "2x exp end":b.type="countdown";var c=timestamp();"number"===typeof double_xp_timer&&double_xp_timer>c&&(b.start_time+b.time<c&&(b.start_time=c),b.time=double_xp_timer-b.start_time);Mods.Timer.set_countdown_alert(b);break;case "2x exp start":b.type="countdown";c=timestamp();"number"===typeof double_xp_timer&&(double_xp_timer>c?(Timers.set("timer_mod_double_xp_check",function(){Mods.Timer.update_all_presets()},
double_xp_timer-c+100),2==b.time?(b.time=c-b.start_time,Mods.Timer.set_countdown_alert(b,!0),b.start_time=c,b.time=1):Mods.Timer.set_countdown_alert(b)):(b.time=2,Mods.Timer.set_countdown_alert(b)));break;case "penalty reminder":b.type="countdown";c=timestamp();"number"===typeof double_xp_timer&&double_xp_timer-6E4>c&&(b.start_time+b.time<c&&(b.start_time=c),b.time=double_xp_timer-6E4-b.start_time);Mods.Timer.set_countdown_alert(b);break;case "monster island":b.type="countdown";var f,k,g,m;try{Carpentry.player_island.owner==
players[0].name&&(f=Carpentry.player_island.m_i_summons[0],k=Carpentry.player_island.m_i_summons[Carpentry.player_island.m_i_summons.length-1],g=Carpentry.player_island.m_i_cooldown,m=Carpentry.player_island.m_i_summons.length<Carpentry.player_island.monster_island)}catch(n){}if("boolean"===typeof m&&"number"===typeof g&&0!=g){var c=timestamp(),p=-1E3*secondsPastDelta(g)+1E3*secondsPastDelta(k);f=c-1E3*secondsPastDelta(f);k=c-1E3*secondsPastDelta(k);m||f+864E5<k+p?(b.start_time=k,b.time=p):(b.start_time=
f,b.time=864E5)}Mods.Timer.set_countdown_alert(b);break;case "cathedral":b.type="countdown";m=null;try{m=players[0].temp.cathedral_time}catch(t){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m));b.time=6E4*Tower.cooldown;Mods.Timer.set_countdown_alert(b);break;case "nature tower":b.type="countdown";m=null;try{m=players[0].temp.tower_nature_time}catch(r){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m));b.time=6E4*Tower.cooldown;Mods.Timer.set_countdown_alert(b);
break;case "ice tower":b.type="countdown";m=null;try{m=players[0].temp.tower_ice_time}catch(v){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m));b.time=6E4*Tower.cooldown;Mods.Timer.set_countdown_alert(b);break;case "fire tower":b.type="countdown";m=null;try{m=players[0].temp.tower_fire_time}catch(u){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m));b.time=6E4*Tower.cooldown;Mods.Timer.set_countdown_alert(b);break;case "skill quest":b.type=
"countdown";m=null;try{m=players[0].sq.refresh}catch(z){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m/1E3)-36E5);b.time=36E5;Mods.Timer.set_countdown_alert(b);break;case "kill quest":b.type="countdown";m=null;try{m=players[0].kq.refresh}catch(w){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m/1E3)-36E5);b.time=36E5;Mods.Timer.set_countdown_alert(b);break;case "party quest":b.type="countdown";k=36E5*PartyQuests.difficulty_cooldowns[players[0].temp.quest_diff];
m=null;try{m=players[0].temp.quest_cooldown}catch(x){}"number"===typeof m&&0!=m&&(b.start_time=timestamp()-1E3*secondsPastDelta(m)-k);b.time=k;Mods.Timer.set_countdown_alert(b);break;case "market offer":b.type="countdown";m=Infinity;try{for(k=0;k<market_transaction_offers.length;k++)p=Date.parse(market_transaction_offers[k].available_until),p<m&&(m=p,c=k);"undefined"!==typeof c&&(b.start_time=Date.parse(market_transaction_offers[c].created_at),b.time=Date.parse(market_transaction_offers[c].available_until)-
b.start_time)}catch(F){Mods.Timer.set_countdown_alert(b);break}isNaN(b.start_time+b.time)&&(b.start_time=timestamp(),b.time=864E5);Mods.Timer.set_countdown_alert(b);break;default:b.preset="none"}},update_all_presets:function(){Timers.set("timer_mod_update_presets",function(){for(var b=0;b<Mods.Timer.Data.stopwatch.length;b++)Mods.Timer.update_preset(Mods.Timer.Data.stopwatch[b]);for(b=0;b<Mods.Timer.Data.countdown.length;b++)Mods.Timer.update_preset(Mods.Timer.Data.countdown[b])},100);Timers.set("timer_mod_update_presets_2",
function(){for(var b=0;b<Mods.Timer.Data.stopwatch.length;b++)Mods.Timer.update_preset(Mods.Timer.Data.stopwatch[b]);for(b=0;b<Mods.Timer.Data.countdown.length;b++)Mods.Timer.update_preset(Mods.Timer.Data.countdown[b])},5E3)},restart:function(b){"countdown"==b.type?Mods.Timer.create(decodeURIComponent(b.name),parseInt(b.time/1E3).toString()):Mods.Timer.create(decodeURIComponent(b.name));Mods.Timer.show_timers_table()},resume:function(b){b.pause.is_paused=!1;b.pause.time+=timestamp()-b.pause.start_time;
b.pause.start_time=null;"countdown"==b.type&&Mods.Timer.set_countdown_alert(b);Mods.Timer.save();Mods.Timer.show_timers_table()},pause:function(b){b.pause.is_paused=!0;b.pause.start_time=timestamp();"countdown"==b.type&&Timers.clear("timer_mod_alert_"+b.name);Mods.Timer.save();Mods.Timer.show_timers_table()},toggle_hidden:function(b){b.hidden=!b.hidden;Mods.Timer.show_timers_table()},parse_time:function(b){(matches=b.trim().match(/^(?:(\d+)(?: *hours?| *hrs?| *h))? *(?:(\d+)(?: *minutes?| *mins?| *m))? *(?:(\d+)(?: *seconds?| *secs?| *s)?)?$/))||
(matches=b.trim().match(/^(\d+)(?:\:)(\d+)(?:\:)(\d+)$/));if(matches){b=parseInt(matches[1]||"0");var c=parseInt(matches[2]||"0");return 1E3*(parseInt(matches[3]||"0")+60*(c+60*b))}},time_to_hms:function(b){b=parseInt(Math.round(b/1E3),10);return[Math.floor(b/3600),Math.floor(b%3600/60),Math.floor(b%60)]},get_timer_index:function(b,c){for(var f=0;f<Mods.Timer.Data[c].length;f++)if(Mods.Timer.Data[c][f].name==b)return f},get_time:function(b){var c=timestamp(),f=c-b.start_time-b.pause.time;b.pause.is_paused&&
(f-=c-b.pause.start_time);"countdown"==b.type&&(f=b.time-f);return f},chat_command:function(b){if("on"==b.trim())return Mods.Timer.gui_disabled=!1,Mods.Timer.show_timers_table(),_tm("Timer window enabled");if("off"==b.trim())return Mods.Timer.gui_disabled=!0,Mods.Timer.close_gui(),_tm("Timer window disabled");if(b){var c=b.trim().match(/^(?:(.+) )?(set(?= .+)|clear$|start$)(?: (.+))?$/);if(c){var f=(c[1]||"default").trim();b=c[2];c=c[3];"clear"==b?Mods.Timer.remove(f):Mods.Timer.create(f,c)}}else if(Mods.Timer.show_timers_table(),
Mods.Timer.Data.settings.list_on_chat){if(!Mods.Timer.Data.stopwatch&&!Mods.Timer.Data.countdown)return _tm("No timers have been started. Try {command1} (to start a stopwatch) or {command2} (to start a countdown).",{command1:"/timer name start",command2:"/timer name set #"});for(var f={stopwatch:[],countdown:[],finished:[]},k=0;2>k;k++){b=0==k?"stopwatch":"countdown";for(var g=0;g<Mods.Timer.Data[b].length;g++){var m=Mods.Timer.get_time(Mods.Timer.Data[b][g]),c=beautifulTimeT(Math.abs(m),2,!1)||_tm("{count} second",
{ns:"calendar",count:"0"});"countdown"==b&&0>=m?f.finished.push({name:Mods.Timer.Data[b][g].name,time:c}):f[b].push({name:Mods.Timer.Data[b][g].name,time:c})}}0<f.stopwatch.length&&addChatText(_tm("Stopwatches running")+":",void 0,COLOR.TEAL);for(g=0;g<f.stopwatch.length;g++)addChatText("- "+decodeURIComponent(f.stopwatch[g].name)+": "+f.stopwatch[g].time+" "+_tm("elapsed")+".",void 0,COLOR.TEAL);0<f.countdown.length&&addChatText(_tm("Countdowns running")+":",void 0,COLOR.TEAL);for(g=0;g<f.countdown.length;g++)addChatText("- "+
decodeURIComponent(f.countdown[g].name)+": "+f.countdown[g].time+" "+_tm("remaining")+".",void 0,COLOR.TEAL);0<f.finished.length&&addChatText(_tm("Countdowns finished")+":",void 0,COLOR.TEAL);for(g=0;g<f.finished.length;g++)addChatText("- "+decodeURIComponent(f.finished[g].name)+": "+f.finished[g].time+" "+_tm("ago")+".",void 0,COLOR.TEAL)}}};Mods.Counter={Data:Mods.Counter&&Mods.Counter.Data||{kills:0},DataStart:Mods.Counter&&Mods.Counter.DataStart||{},is_paused:!1,mob_id:null,load:function(){try{LStorage.get("counter")&&
"object"==typeof JSON.parse(LStorage.get("counter"))&&(Mods.Counter.Data=JSON.parse(LStorage.get("counter")))}catch(b){console.log("Error: failed to load counter data."),console.log(b)}Mods.Counter.schedule_save()},save:function(){LStorage.set("counter",JSON.stringify(Mods.Counter.Data))},schedule_save:function(){Timers.set("counter_mod_save",function(){Mods.Counter.save();Mods.Counter.schedule_save()},5E3)},update:function(b,c,f){if("skills"==b&&c&&c.skill){if("health"==c.skill||"accuracy"==c.skill||
"strength"==c.skill||"defense"==c.skill)return;Mods.Counter.Data[c.skill]=(Mods.Counter.Data[c.skill]||0)+1;Mods.Counter.is_paused&&"undefined"!=typeof Mods.Counter.DataStart.kills&&(Mods.Counter.DataStart[c.skill]=(Mods.Counter.DataStart[c.skill]||0)+1)}"attack"==b&&f&&("0"!=f.defender&&f.defender!=players[0].id||"number"!=typeof f.attacker||(Mods.Counter.mob_id=f.attacker),"0"!=f.attacker&&f.attacker!=players[0].id||"number"!=typeof f.defender||(Mods.Counter.mob_id=f.defender));"death"==b&&f&&f.target&&
f.target.id==Mods.Counter.mob_id&&(Mods.Counter.Data.kills+=1,Mods.Counter.is_paused&&"undefined"!=typeof Mods.Counter.DataStart.kills&&(Mods.Counter.DataStart.kills+=1));if("hit"==b&&f&&f.target&&f.hit)if(f.target.id==Mods.Counter.mob_id)Mods.Counter.Data["hits done"]=(Mods.Counter.Data["hits done"]||0)+1,Mods.Counter.Data["damage done"]=(Mods.Counter.Data["damage done"]||0)+f.hit,Mods.Counter.is_paused&&"undefined"!=typeof Mods.Counter.DataStart.kills&&(Mods.Counter.DataStart["hits done"]=(Mods.Counter.DataStart["hits done"]||
0)+1,Mods.Counter.DataStart["damage done"]=(Mods.Counter.DataStart["damage done"]||0)+f.hit);else if(f.target.id==players[0].id||"0"==f.target.id)Mods.Counter.Data["hits taken"]=(Mods.Counter.Data["hits taken"]||0)+1,Mods.Counter.Data["damage taken"]=(Mods.Counter.Data["damage taken"]||0)+f.hit,Mods.Counter.is_paused&&"undefined"!=typeof Mods.Counter.DataStart.kills&&(Mods.Counter.DataStart["hits taken"]=(Mods.Counter.DataStart["hits taken"]||0)+1,Mods.Counter.DataStart["damage taken"]=(Mods.Counter.DataStart["damage taken"]||
0)+f.hit)},_t:function(b){return"kills"==b||"hits done"==b||"hits taken"==b||"damage done"==b||"damage taken"==b?_tm(capitaliseFirstLetter(b)):_ti(capitaliseFirstLetter(b))},chat_command:function(b){if("start"==b){if(!Mods.Counter.is_paused||"undefined"==typeof Mods.Counter.DataStart.kills)for(var c in Mods.Counter.Data)Mods.Counter.DataStart[c]=Mods.Counter.Data[c];Mods.Counter.is_paused=!1;return _tm("Counter started.")}if("pause"==b)return Mods.Counter.is_paused=!0,_tm("Counter paused.");if("stop"==
b)return Mods.Counter.is_paused=!0,Mods.Counter.DataStart={},_tm("Counter stopped.");if("reset"==b)return Mods.Counter.is_paused=!0,Mods.Counter.Data={kills:0},Mods.Counter.save(),Mods.Counter.DataStart={},_tm("Counter reset.");b=[];for(var f in Mods.Counter.Data)b.push(f);b.sort();f="";for(c=0;c<b.length;c++){f+=Mods.Counter._t(b[c])+": "+Mods.Counter.Data[b[c]].toLocaleString();if("undefined"!=typeof Mods.Counter.DataStart.kills){var k=Mods.Counter.Data[b[c]]-(Mods.Counter.DataStart[b[c]]||0);k&&
(f+=" (+"+k.toLocaleString()+")")}f+="; "}return f.slice(0,-2)}};Mods.Tag=Mods.Tag||{show_name:!1,show_cl:!1,show_tag:!1,show_me:!0,loaded:!1,update_tags:function(){if(Mods.Tag.show_name||Mods.Tag.show_cl||Mods.Tag.show_tag){var b=timestamp();if(on_map[current_map]&&my_map(current_map))for(i=iMapBegin(),i_to=iMapTo();i<i_to;i++)for(j=jMapTo(),j_begin=jMapBegin();j>=j_begin;j--){var c=i+dx,f=j+dy;!(on_map[current_map][c]&&on_map[current_map][c][f]&&on_map[current_map][c][f].params&&on_map[current_map][c][f].params.tombstone_name&&
on_map[current_map][c][f].params.items)||player_map[c]&&player_map[c][f]||Mods.Tag.render_text(on_map[current_map][c][f].params.tombstone_name,c,f,0,0,COLOR.WHITE)}for(var k in players)c=players[k],0==k&&!Mods.Tag.show_me||c.params&&c.params.owner||"Name"==c.name||95E3>c.ttl-b||(f="",Mods.Tag.show_tag&&c&&c.params.tag&&(f="["+c.params.tag+"] "),Mods.Tag.show_name&&c.name&&(f+=c.name),Mods.Tag.show_cl&&c.params&&c.params.combat_level&&(f+=" ("+c.params.combat_level+")"),f=f.trim(),Mods.Tag.render_text(f,
c.i,c.j,c.mx,c.my,Player.get_player_color(c.name)))}},oldDrawObjects:void 0,render_text:function(b,c,f,k,g,m){ctx.objects.font="7pt Verdana";var n=ctx.objects.measureText(b).width;c<iMapBegin()+dx||c>=iMapTo()+dx||f<jMapBegin()+dy||f>jMapTo()+dy||(c=translateTileToCoordinates(c,f),k=c.x-k+2*half_tile_width_round,g=c.y-g-1.7*half_tile_height_round,ctx.objects.beginPath(),ctx.objects.strokeStyle="rgba(53, 53, 53, 0.7)",ctx.objects.fillStyle="rgba(53, 53, 53, 0.7)",ctx.objects.rect(k-n/2-2,g-7-1-2,n+
4,13.1),ctx.objects.fill(),ctx.objects.textAlign="center",ctx.objects.fillStyle=m,ctx.objects.fillText(b,k,g))},load:function(){Mods.Tag.oldDrawObjects||(Mods.Tag.oldDrawObjects=drawObjects,drawObjects=function(b){Mods.Tag.oldDrawObjects(b);map[current_map]&&Mods.Tag.update_tags()},Mods.Tag.loaded=!0)},chat_command:function(b){Mods.Tag.loaded||Mods.Tag.load();if("name"==b)return Mods.Tag.show_name=!Mods.Tag.show_name,updateBase(),Mods.Tag.save();if("cl"==b)return Mods.Tag.show_cl=!Mods.Tag.show_cl,
updateBase(),Mods.Tag.save();if("tag"==b)return Mods.Tag.show_tag=!Mods.Tag.show_tag,updateBase(),Mods.Tag.save();if("me"==b)return Mods.Tag.show_me=!Mods.Tag.show_me,updateBase(),Mods.Tag.save();b||(Mods.Tag.show_name=!(Mods.Tag.show_name||Mods.Tag.show_cl),Mods.Tag.show_cl=Mods.Tag.show_name,Mods.Tag.show_tag=Mods.Tag.show_name,updateBase(),Mods.Tag.save())},save:function(){try{Mods.Tag.show_name||Mods.Tag.show_cl?LStorage.set("tag",JSON.stringify({show_name:Mods.Tag.show_name,show_cl:Mods.Tag.show_cl,
show_me:Mods.Tag.show_me,show_tag:Mods.Tag.show_tag})):LStorage.remove("tag")}catch(b){}},load_config:function(){try{var b=JSON.parse(LStorage.get("tag"));b&&(b.show_name||b.show_cl||b.show_tag)&&(Mods.Tag.load(),Mods.Tag.show_name=b.show_name,Mods.Tag.show_cl=b.show_cl,Mods.Tag.show_me=b.show_me,Mods.Tag.show_tag=b.show_tag)}catch(c){}}};Mods.Timer.load();Mods.Counter.load();Mods.Tag.load_config();Mods.Chatmd.mods_client_commands={findcom:function(b){if("undefined"===typeof Mods.Newmap||"undefined"===
typeof Mods.Newmap.POI||"undefined"===typeof Mods.Newmap.POIfind)return"Enhanced Map mod not loaded! You need to load it first before using the /find command.";Mods.Newmap.POIfind=[];HUD.drawMinimap();b=b.toLowerCase();if(""===b)return"Use /find [monster] or [material] to get the map or coordinates of what you're looking for.";var c="",f="",k=!1,g=!1,m={0:"Dorpat",1:"Dungeon",2:"Narwa",3:"Whiland",4:"Reval",5:"Rakblood",6:"Blood River",7:"Hell",8:"Clouds",9:"Heaven",10:"Cesis",11:"Walco",12:"Tutorial Island",
13:"Pernau",14:"Fellin Island",15:"Dragon's Lair",16:"No Man's Land",17:"Ancient Dungeon",18:"Lost Woods",19:"Minigames",20:"Broceliande Forest",21:"Devil's Triangle",22:"Cathedral",23:"Illusion Guild",24:"Every Man's Land",25:"Moche I",26:"Wittensten",27:"Dungeon II",28:"Dungeon III",29:"Dungeon IV",30:"Moche II",31:"Void I",32:"Nature Tower",33:"Ice Tower",34:"Fire Tower",35:"Witches I",36:"Witches II",37:"Star Of Knowledge",38:"Core Of Knowledge",39:"No Man's dungeon",41:"Lost Relic",42:"Purgatory",
43:"Atlantis"},n={},p;for(p in m)n[p]=!1;var t={"fir log":"fir","fir tree":"fir","fir wood":"fir","oak log":"oak","oak tree":"oak","oak wood":"oak","willow log":"willow","willow tree":"willow","willow wood":"willow","maple log":"maple","maple tree":"maple","maple wood":"maple","spirit wood":"spirit log","spirit tree":"spirit log","blue palm log":"blue palm","blue palm tree":"blue palm","blue palm wood":"blue palm","magic oak log":"magic oak","magic oak tree":"magic oak","magic oak wood":"magic oak",
bones:"bones",bone:"bones","drowned beast":"drowned beast",drowned:"drowned beast","iron ore":"iron","iron chunk":"iron","iron vein":"iron vein",coal:"coal","coal ore":"coal","coal chunk":"coal","coal vein":"coal vein","silver ore":"silver","silver chunk":"silver","silver vein":"silver vein","gold ore":"gold","gold chunk":"gold","gold vein":"gold vein","white gold ore":"white gold","whitegold ore":"white gold","white gold chunk":"white gold","white gold vein":"white gold vein","whitegold vein":"white gold vein",
"azure ore":"azurite","azure chunk":"azurite",azurite:"azurite","azurite ore":"azurite","azurite chunk":"azurite","azurite vein":"azurite vein","azure vein":"azurite vein","platinum ore":"platinum","platinum chunk":"platinum","platinum vein":"platinum vein","firestone ore":"fire stone","firestone chunk":"fire stone","firestone vein":"fire stone vein","firestone vein":"fire stone vein",firestone:"fire stone",edoylerite:"edoylerite","edoylerite ore":"edoylerite","edoylerite chunk":"edoylerite",abelsonite:"abelsonite",
"abelsonite ore":"abelsonite","abelsonite chunk":"abelsonite",grendalf:"grendalf the grey",overlord:"orc overlord",phoenix:"flame phoenix",vortex:"chaos vortex",dorpat:"transfer to dorpat",dungeon:"dorpat mine",reval:"transfer to reval",cesis:"transfer to cesis","void":"transfer to void","ancient dungeon":"transfer to ancient dungeon",pernau:"transfer to pernau",whiland:"transfer to whiland",clouds:"transfer to clouds",heaven:"transfer to heaven","lost woods":"transfer to lost woods","forest maze":"transfer to lost woods",
rakblood:"transfer to rakblood","no man's land":"transfer to no man's land","no man's dungeon":"transfer to no man's dungeon",pvp:"transfer to no man's land",narwa:"transfer to narwa","blood river":"transfer to blood river",hell:"transfer to hell","fellin island":"transfer to fellin island","dragon's lair":"transfer to dragon's lair","lost relic":"transfer to lost relic","deep sea octopus":"iron fishing rod spot [level 65]","raw deep sea octopus":"iron fishing rod spot [level 65]","sea octopus":"iron fishing rod spot [level 65]",
"raw sea octopus":"iron fishing rod spot [level 65]","giant squid":"iron fishing rod spot [level 65]","raw giant squid":"iron fishing rod spot [level 65]","rock squid":"iron fishing rod spot [level 65]","raw rock squid":"iron fishing rod spot [level 65]",pike:"fishing rod spot [level 1]","raw pike":"fishing rod spot [level 1]",sardine:"fishing rod spot [level 1]","raw sardine":"fishing rod spot [level 1]",trout:"fishing rod spot [level 1]","raw trout":"fishing rod spot [level 1]","pearl clam":"fishing rod spot [level 1]",
"raw pearl clam":"fishing rod spot [level 1]","sunken treasure":"fishing rod spot [level 1]",frog:"fishing rod spot [level 1]","raw frog":"fishing rod spot [level 1]",perch:"fishing rod spot [level 1]","raw perch":"fishing rod spot [level 1]","white shark":"wooden harpoon spot [level 58]","raw white shark":"wooden harpoon spot [level 58]","manta ray":"wooden harpoon spot [level 58]","raw manta ray":"wooden harpoon spot [level 58]","kombu seaweed":"fishing net spot [level 5]","baby squid":"fishing net spot [level 5]",
"raw baby squid":"fishing net spot [level 5]","reef manta ray":"steel harpoon spot [level 63]","raw reef manta ray":"steel harpoon spot [level 63]","hammer shark":"steel harpoon spot [level 63]","raw hammer shark":"steel harpoon spot [level 63]",cowfish:"steel harpoon spot [level 63]","raw cowfish":"steel harpoon spot [level 63]",dolphin:"steel harpoon spot [level 63]","raw dolphin":"steel harpoon spot [level 63]","mud crab":"cage spot [level 35]","raw mud crab":"cage spot [level 35]","small vial":"cage spot [level 35]",
"sand crab":"cage spot [level 35]","raw sand crab":"cage spot [level 35]",oarfish:"poseidon trident spot [level 106]","raw oarfish":"poseidon trident spot [level 106]",sunfish:"poseidon trident spot [level 106]","raw sunfish":"poseidon trident spot [level 106]",stonefish:"poseidon trident spot [level 106]","raw stonefish":"poseidon trident spot [level 106]","blue marlin":"poseidon trident spot [level 106]","raw blue marlin":"poseidon trident spot [level 106]",sturgeon:"poseidon trident spot [level 106]",
"raw sturgeon":"poseidon trident spot [level 106]",eel:"fishing rod spot [level 30]","raw eel":"fishing rod spot [level 30]",angelfish:"fishing rod spot [level 30]","raw angelfish":"fishing rod spot [level 30]",bass:"fishing rod spot [level 30]","raw bass":"fishing rod spot [level 30]","lion fish":"fishing rod spot [level 30]","raw lion fish":"fishing rod spot [level 30]",salmon:"fishing rod spot [level 30]","raw salmon":"fishing rod spot [level 30]",squalidae:"wooden harpoon spot [level 50]","raw squalidae":"wooden harpoon spot [level 50]",
swordfish:"wooden harpoon spot [level 50]","raw swordfish":"wooden harpoon spot [level 50]","dulse seaweed":"fishing net spot [level 70]","poseidons piece":"fishing net spot [level 70]","poseidon piece":"fishing net spot [level 70]","king seahorse":"fishing net spot [level 70]","raw king seahorse":"fishing net spot [level 70]","spiny sea star":"fishing net spot [level 70]","raw spiny sea star":"fishing net spot [level 70]","nori seaweed":"fishing net spot [level 70]","red star":"fishing net spot [level 40]",
"raw red star":"fishing net spot [level 40]","common starfish":"fishing net spot [level 40]","raw common starfish":"fishing net spot [level 40]",seahorse:"fishing net spot [level 40]","raw seahorse":"fishing net spot [level 40]",jellyfish:"fishing net spot [level 23]","raw jellyfish":"fishing net spot [level 23]","blue marine fish":"fishing net spot [level 23]","raw blue marine fish":"fishing net spot [level 23]","baby whale":"steel harpoon spot [level 75]","raw baby whale":"steel harpoon spot [level 75]",
"gray shark":"steel harpoon spot [level 75]","raw gray shark":"steel harpoon spot [level 75]","king crab":"cage spot [level 48]","raw king crab":"cage spot [level 48]","medium vial":"cage spot [level 48]",lobster:"cage spot [level 48]","raw lobster":"cage spot [level 48]",coelacanth:"poseidon trident spot [level 95]","raw coelacanth":"poseidon trident spot [level 95]","whale shark":"poseidon trident spot [level 95]","raw whale shark":"poseidon trident spot [level 95]","giant catfish":"poseidon trident spot [level 95]",
"raw giant catfish":"poseidon trident spot [level 95]","poseidons permission":"poseidon trident spot [level 95]","sequoia fishing rod":"sequoia fishing rod spot [level 122]",lizardfish:"sequoia fishing rod spot [level 122]","raw lizardfish":"sequoia fishing rod spot [level 122]","giant hatchetfish":"sequoia fishing rod spot [level 122]","raw giant hatchetfish":"sequoia fishing rod spot [level 122]","black chimaera":"sequoia fishing rod spot [level 122]","raw black chimaera":"sequoia fishing rod spot [level 122]",
"glass squid":"sequoia fishing rod spot [level 122]","raw glass squid":"sequoia fishing rod spot [level 122]",stargazer:"sequoia fishing rod spot [level 130]","raw stargazer":"sequoia fishing rod spot [level 130]","leafy sea dragon":"sequoia fishing rod spot [level 130]","raw leafy sea dragon":"sequoia fishing rod spot [level 130]","dumbo octopus":"sequoia fishing rod spot [level 130]","raw dumbo octopus":"sequoia fishing rod spot [level 130]",fangtooth:"sequoia fishing rod spot [level 130]","raw fangtooth":"sequoia fishing rod spot [level 130]",
"devils hole pupfish":"sequoia fishing rod spot [level 130]","raw devils hole pupfish":"sequoia fishing rod spot [level 130]","humpback anglerfish":"sequoia fishing rod spot [level 130]","raw humpback anglerfish":"sequoia fishing rod spot [level 130]",cathedral:"cathedral door",chest:"chest",storage:"chest"};b in t&&(b=t[b]);for(p in Mods.Newmap.POI[0])"undefined"===typeof Mods.Newmap.POI[0][p].name||Mods.Newmap.POI[0][p].name.toLowerCase()!==b&&_tn(Mods.Newmap.POI[0][p].name).toLowerCase()!==b||
(current_map==Mods.Newmap.POI[0][p].mapid?(k&&(c+=", "),k=!0,c=c+"("+Mods.Newmap.POI[0][p].x+", "+Mods.Newmap.POI[0][p].y+")",Mods.Newmap.POIfindMap=current_map,Mods.Newmap.POIfind.push({color:"#FF0000",i:Mods.Newmap.POI[0][p].x,j:Mods.Newmap.POI[0][p].y})):n[Mods.Newmap.POI[0][p].mapid]||(g&&(f+=", "),g=!0,n[Mods.Newmap.POI[0][p].mapid]=!0,f+=m[Mods.Newmap.POI[0][p].mapid]));b=b.replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()});k&&(c="Found "+b+" in "+m[current_map]+
" at coordinates: "+c+". ",HUD.drawMinimap());g&&(c=k?c+"Found in: "+f+".":c+"Found "+b+" in: "+f+".");return k||g?c:b+" not found."},dailylogin:function(){var b=players[0].temp.consecutive_logins,c=timestamp()-players[0].temp.consecutive_login;return _tu("$tm('Daily rewards counter'): $tc('{count} day', {\"count\": \""+b+"\"}), $tm('happened') {btime} $tm('ago')",{btime:{timestamp:c,accuracy:4}})},tip:function(){return _tm("TIP")+": "+_tm(Mods.Chatmd.game_tips[0][Math.floor(Math.random()*Mods.Chatmd.game_tips[0].length)])},
played:function(b){if("string"==typeof b&&(b=b.trim())&&0<b.length)return!0;b=timestamp()-players[0].temp.created_at;return _tm("Time since you started playing")+": "+beautifulTimeT(b,4)+"."},whisp:function(b){b=b.replace("/r","").trim()||"";var c=Mods.Chatmd.whispNames;if(0<c.length)return b='/w "'+c[0]+'" '+b,getElem("my_text").value=b,!hasClass(getElem("mod_text"),"hidden")&&(getElem("mod_text").value=b),!0},ping:function(b){if("all"==b)return!0;var c;b=parseInt(b)||Mods.currentWorldID||0;for(var f in ServerList.downloaded)if(b==
ServerList.downloaded[f].world){c=f;break}c&&ServerList.preping(c,!0);return!1},mods:function(){FormHelper.get_form("mods");return!1},wiki:function(b){function c(b){b&&(g.text=b)}function f(b){b&&(v=t.exec(b))&&(g.range="range"===v[1]?"level":v[1],g.min=v[3],g.max=v[5])}function k(b){if(b&&(r=p.exec(b))){b={weapon:"weapons",shield:"r.hand armors",shields:"r.hand armors",bows:"bow",book:"pouch","pouch & book":"pouch",wings:"cape",capes:"cape","wings & capes":"cape",necklace:"neck"};var c="weapon;shield;shields;bows;book;pouch & book;wings;capes;wings & capes;necklace".split(";"),
k=r[1],m;for(m in c)k=k.replace(c[m],b[c[m]]);g.value=k;f(r[3])}}b=b.toLowerCase();var g,m,n,p,t,r,v;g={0:"wiki"};m={item:{all:"range",skill:"value",type:"value",name:"text"},mob:{all:"range",name:"text",item:"text"},npc:{name:"text",item:"text"},craft:{all:"range",skill:"value",source:"value",item:"text",tool:"text",result:"text",materials:"text"},pet:{all:"range",name:"text",family:"text"},breed:{all:"range",name:"text",parents:"text",parent:"text"},spell:{all:"range",name:"text"},enchant:{item:"text"}};
n={monster:"mob",vendor:"npc"};p=/^([^ ]{1,})( (.*))?/gi;t=/^([^ ]{1,}) (\(|min ?|from ?|)?=?(\d{1,})? ?(, ?|to ?|max ?)?=?(\d{1,})?/gi;b=/^(item|mob|monster|npc|vendor|craft|pet|spell|enchant|breed) ?(skill|type|name|item|family|all|source|tool|result|materials|parents|parent)?( (.*))?/gi.exec(b);if(!b)return Mods.Chatmd.wiki(m,g),!1;g[1]=n[b[1]]||b[1];g[2]=n[b[2]]||b[2];"parent"===g[2]&&(g[2]="parents");switch(m[g[1]][g[2]]){case "text":c(b[4]);break;case "range":f(b[4]);break;case "value":k(b[4])}Mods.Chatmd.wiki(m,
g);return!1},moo:function(b){for(var c=1;120>c;c++)Timers.clear("m00 chat"+c);b=parseInt(b);b="number"==typeof b&&0<b?Math.min(120,Math.max(Math.ceil(b),1)):10;reply="m000000000000000000";drawObject=function(b,c,g){Mods.Chatmd.newDrawObject(b,c,g)};drawMap(!1,!0,!1);updateBase();HUD.drawMinimap();Timers.set("m00",function(){drawObject=function(b,c,g){Mods.Chatmd.oldDrawObject(b,c,g)};drawMap(!1,!0,!1);updateBase()},1E3*b);for(c=1;c<10*b;c++)Timers.set("m00 chat"+c,function(){drawMap(!1,!0,!1);updateBase()},
100*c)},timer:Mods.Timer.chat_command,counter:Mods.Counter.chat_command,tag:Mods.Tag.chat_command,modch:function(b){Mods.Chatmd.ModCh.sendWhisper(b)},ttlxp:function(b){b=/^(\d{1,}) ?(\-|to)? ?(\d{1,})?$/.exec(b);if(!b){b=0;for(var c in skills[0])skills[0][c].xp&&(b+=Math.floor(skills[0][c].xp));return _tm("Your total experience for all skills is: {totalExp}",{totalExp:thousandSeperate(Math.round(b))})}c=b[1];b=b[3]||1;val1a=Level.xp_for_level(c);val2b=Level.xp_for_level(b);var f=Math.max(val1a,val2b)-
Math.min(val1a,val2b),f=thousandSeperate(f);return _tm("Total exp needed to go from level {startLevel} to {endLevel} : {totalExp}",{startLevel:Math.min(c,b),endLevel:Math.max(c,b),totalExp:f})},id:function(b){if(!Player.has_lower_permissions(players[0].name)&&!Player.is_mod_dev(players[0].name))return!1;var c,f,k,g,m,n,p,t,r,v,u,z,w;u=[];w={};z="";k=/^(item_base|objects_data|object_base|ground_base|npc_base|players|Magic|quests|pets|IMAGE_SHEET|skills|FORGE_FORMULAS|CARPENTRY_FORMULAS|sprite|countries)? ?(.*)/;
f=/^(([^!=><&]{1,})?(!|!=|<=|>=|=|<|>))? ?([^!=><&]{1,})/g;g=/([^.]{1,})/g;b=k.exec(b);t="undefined"!==typeof b[1]&&"undefined"!==typeof window[b[1]]?window[b[1]]:window.item_base;k=b[1]||"item_base";b=b[2].replace(/\+/g,"\\+").replace(/\-/g,"\\-").replace(/\'/g,"\\'").split(/ ?& ?/g);if(!b||!t)return"No items match the given values. (error: no parameters)";for(m in t)w[m]=t[m];for(m in b)if(f.lastIndex=0,(c=f.exec(b[m].trim()))&&c[4])for(n in t=c[2]?c[2].match(g):["name"],r=c[3]&&"="!=c[3]&&"!"!=
c[3]&&"!="!=c[3]&&-1<c[4]?c[3]:"!"==c[3]||"!="==c[3]?"!=":"=",v=c[4],str="!="==r?"!"+v:"="==r?v.replace(/\\/g,""):">="==r?v+"+":"<="==r?v+"-":">"==r?parseInt(v)+1+"+":parseInt(v)-1+"-",u.push(t.toString().replace(/,/g,".")+"="+str),w){c=w[n];for(p in t)"object"==typeof c&&(c=c[t[p]]);"undefined"!==typeof c&&"object"!==typeof c&&null!==c&&-1<v&&-1<c&&("="==r&&c==v||">"==r&&c>v||"<"==r&&c<v||">="==r&&c>=v||"<="==r&&c<=v||"!="==r&&c!=v)||!(-1<v&&-1<c)&&("!="!==r&&RegExp(v,"gi").test(c)||"!="===r&&!1===
RegExp(v,"gi").test(c))||delete w[n]}u=u.toString().replace(/ ,/g,"; ");u=(0<u.length?".":"")+u+": ";b=0;for(m in w)if(b+=1,20<b){z+="(too many results), ";break}else z+=w[m].name+" ("+m+"), ";return 0<z.length?k+u+z.slice(0,-2):k+u+"No items match the given values."},help:function(b){var c={afk:'Use /afk or /afk [message] to set an automatic reply to people who whisper you if you are away from the keyboard. While your status is "AFK" if you type /afk again, the automatic replies will be disabled.',
blacklist:"Use /blacklist to block or remove words from chat.",combats:"Use /combats to see everyones combat level.",cleardata:"Use /cleardata to delete all your settings and cache",clearcache:"Use /clearcache to delete cache, does not delete your settings",cooldowns:"Use /cooldowns to see how much time is left before can start another Cathedral or tower run.",counter:{desc:"A counter that keeps track of kills, combat hits, damages, and skill uses (number of items mined, crafted, etc). Type /counter to show your cumulative counts. Type /help counter [pause/reset/start/stop] for more details.",
pause:"The command /counter pause stops the categories from incrementing until resumed.",reset:"The command /counter reset will permanently erase all counts and increments of the /counter mod.",start:"The command /counter start starts a split and will show in parenthesis by how much each counter has increased since you used the /counter start command.",stop:"The command /counter stop is used to stop a running /counter start split."},cathedral:"Use /cathedral to see how much time is left before can start another cathedral run.",
event:"Use /event to see how much time is left until next scavenger hunt.",nature:"Use /nature to see how much time is left before can start another Nature tower run.",ice:"Use /ice to see how much time is left before can start another Ice tower run.",fire:"Use /fire to see how much time is left before can start another Fire tower run.",daily:"Use /daily to see the number of consecutive days you have on your daily rewards counter.",find:"Use /find [monster] or [material] to get the map or coordinates of what you're looking for.",
friend:"Use /friend [player] to quickly add or remove a player to/from your friends list. Example: /friend dendrek",help:"Use /help to see a list of the mod chat commands. To read a description of a command, type /help [command].",ignore:"Use /ignore [player] to quickly add or remove a player to/from your ignore list. Example: /ignore dumbplayer",join:"Use /join [CH] (where CH is a valid channel name, written with capital letters, such a EN, DE, 18, etc) to join that channel. Example: /join EN",leave:"Use /leave [CH] (where CH is a valid channel name, written with capital letters, such as EN, DE, 18, etc) to leave taht channel. Example: /leave EN",
market:"Use /market to see market history.",maintenance:"Use /maintenance to see how much time is left till the next maintenance restart. Use '/maintenance all' to see it for every world.",m00:"Use /m00 to see ... something happen. You can extend the duration of this command with /m00 # (such as /m00 30 to set the duration to 30 seconds).",online:"Use /online to see a list of players who are currently online.",o:"Use /o [player] to check if that player is online. It's a fast way to confirm a players online-status without scanning the /online list. Example: /o dendrek",
penalty:"Use /penalty to see how many captcha points you have stored. You can save up to 5 points. If you reach -5 points, you'll go to jail.",ping:"Use /ping to see how much of a delay (called latency) there is between you and your computer. Every 1000ms equals a 1 second delay. Use '/ping all' to see it for every world.",played:"Use /played to see how long it has been since you created your current character. This is a measure of time since you started, not of actual time played.",premium:"Use /premium to buy or see how much premium time you have left.",
r:'Use /r to reply to the last person who whispered you. If a player has whispered you recently enough, /r will immediately change to /w "playername". Additionally, use PageUp and PageDown to cycle through previous whisper targets.',savemap:"Use /savemap to save current map into a .PNG file. Caution, might take a while to generate! Not to be used with a mobile device.",spider:"Use /spider to see a random spider swing on your screen.",saveplayer:"Use /saveplayer to save current player into a .PNG file.",
screenshot:"Use /screenshot to take a screenshot.",spectate:"Use /spectate [player] to spectate a player",stats:"Use /stats to see your total adjusted values from your stats and gear",symbol:"Use /symbol [player] to set symbol for a player",world:"Use /world to see which world you are in currently. Use /world x to connect to another world, change x into any available world number.",timer:{desc:"Use /timer to check already created timers. You can also create a countdown (using /timer set), a stopwatch (using /timer start), remove timers (using /timer clear), and even give timers names (using /timer [name] [command]). Type /help timer [set/start/clear/name] for more details.",
set:'The command /timer set #[time type] starts a countdown for "#" seconds. If time type is specified (examples: seconds/secs/sec/s, /minutes/mins/min/m, /hours/hrs/hr/h) the # will be in that time interval. Example: /timer set 30m starts a countdown for 30 minutes. /timer set 1h 20m 15s can also be done.',start:"The command /timer start starts a stopwatch from the current moment that counts up. You can check how much time has passed by typing /timer at any time.",clear:'The command /timer [name] clear cancels all existing timers that have the specified "name" value. If name is not included, /timer clear cancels all existing "default" timers. See /help timer name for more details on naming timers.',
name:'Timers can be named in this way: /timer [name] [command]. The commands are set, start, and clear. The name can be practically anything. Examples: /timer orc overlord set 20m (starts a countdown named "orc overlord"), /timer see how long this takes start (starts a stopwatch named "see how long this takes").'},totalexp:"Use /totalexp to see the total experience you've gathered. Or use /totalexp # to see how much exp would be required to go from level 1 to the level specified. Or use /totalexp # to # to see how much exp is required to go from the lower level to the higher. Example: /totalexp 90 to 95",
totalvalue:"Use /totalvalue to see a total wiki value of all items in your inventory, chest, pet, as well as your coins.",tax:"Use /tax to see your current tax percent. Use /tax [price] to show calculated prices.",version:"Use /version to get current game and mod version",xp:"Use /xp to see if a 2x experience event is currently running, and to see the duration if one is.",wiki:{desc:'Use /wiki to open up the in-game wiki. You can also perform a search using this command. /wiki [option1] [option2] [option3] etc, where each option "fills" in one of the search boxes in the wiki. For more details, type /help wiki options.',
options:'The wiki has dropdown boxes that must be filled in. To do a wiki search using the /wiki command, you must "fill in" each box with an appropriate value. Examples of wiki searches: /wiki item name bronze pants, /wiki mob item superior armor enchant, /wiki npc name magician, /wiki craft item iron bar. The different parts of the search must be included for it to work.'},tag:"Use /tag to display usernames and combat levels. Also can toggle specific settings /tag name, /tag cl, /tag me, /tag tag",
totalskill:"Use /totalskill to see your skills total level"},f=_tm("List of commands")+": ",k="(",g="(",m;for(m in c){var k=k+(m+"|"),f=f+(m+", "),n;for(n in c[m])"desc"==n||0<=n||(g+=n+"|")}f=f.slice(0,-2)+".";k=k.slice(0,-1)+")";g=g.slice(0,-1)+")";c.help+=f;b=RegExp(k+" ?"+g+"?","g").exec(b);f="";f=b&&c[b[1]]&&c[b[1]][b[2]]?c[b[1]][b[2]]:b&&c[b[1]]?c[b[1]].desc||c[b[1]]:c.help;Translate.lang&&"en"!=Translate.lang&&addChatText(_tm("Sorry, currently only avaliable in English"),void 0,COLOR.TEAL);
return f},obj:function(b){if(!Player.has_lower_permissions(players[0].name)&&!Player.is_mod_dev(players[0].name))return!1;var c,f,k,g;c=/(item_base|objects_data|object_base|ground_base|npc_base|players|Magic|quests|pets|IMAGE_SHEET|skills|FORGE_FORMULAS|CARPENTRY_FORMULAS|sprite|countries)? ?\[?(\d{1,})\]? ?(.*)/g.exec(b);k=/([^.]{1,})/g;if(!c)return"No items match the given value. (error: no parameters)";b=c[1]||"item_base";k=c[3]?c[3].match(k):[];f=c[2];if("undefined"===typeof window[b]||"undefined"===
typeof f)return"No items match the given values. (error: base = undefined)";c=k.toString().replace(/,/g,".");c=b+"["+f+"]"+(0<c.length?"."+c:"")+": ";b=window[b][f];for(g in k)"undefined"!==typeof b&&(b=b[k[g]]);if("undefined"===typeof b)return"No items match the given values.";if("object"!==typeof b&&null!==b)c+=b+", ";else for(g in b)c="object"===typeof b[g]?c+(g+" (object), "):c+(g+" ("+b[g]+"), ");return c.slice(0,-2)},afk:function(b){var c="",c="";b=b.trim();c=_tm("[AFK]")+": "+(0<b.length?b:
_tm("I am away from my keyboard."));""===Mods.Chatmd.afkMessage||Mods.Chatmd.afkMessage!=c&&""!==b?(Mods.Chatmd.afkMessage=c,Mods.Chatmd.afkHolder={},c=_tm("You are now [AFK]")+' : "'+b+'"'):(Mods.Chatmd.afkMessage="",c=_tm("You are no longer [AFK]"));Player.update_healthbar();return c},ttval:function(){var b,c;b=0;for(c in players[0].temp.inventory)b+=item_base[players[0].temp.inventory[c].id].params.price;for(c in players[0].pet.chest)b+=item_base[players[0].pet.chest[c]].params.price;for(c in chests[0])b+=
chests[0][c].count*item_base[chests[0][c].id].params.price;b+=players[0].temp.coins;b=thousandSeperate(b);return _tm("The total value of items in your Chest/Inv/Pet + Coins is: {totalValue}",{totalValue:b})},tele:function(b){if(!Player.has_permissions(players[0].name))return!1;var c;b=b.split(" ");c=players[0].i+(parseInt(b[0])||0);b=players[0].j+(parseInt(b[1])||0);Socket.send("message",{data:"/level "+players[0].map+" "+c+" "+b});return!1},showcl:function(){return _tm("Current combat level: {currentLevel}",
{currentLevel:players[0].params.combat_level})},showversion:function(){return _tm("Game version")+": "+release_version+" | "+_tm("Modpack")+": "+Mods.version+" ("+Mods.versionDate+")"}};Mods.Chatmd.chatCommands=function(b){var c={counter:["/counter"],tag:["/tag"],played:["/played",2],whisp:["/r",0],ping:["/ping"],mods:["/mods",0],wiki:["/wiki"],moo:["/m00"],timer:["/timer"],tip:["/tip",0],modch:["/@mods",1],ttlxp:["/totalexp"],id:["/id",1],help:["/help"],obj:["/obj",1],afk:["/afk"],ttval:["/totalvalue",
0],tele:["/tele",1],dailylogin:["/daily"],findcom:["/find",1],showcl:["/cl",0],showversion:["/version",0]},f,k=!1,g;for(g in c)if(RegExp("^"+c[g][0]+"\\b"+(c[g][1]&&1==c[g][1]?" ":"")).test(b)){k=!0;f=g;break}if(!k)return b;k="number"==typeof c[f][1]?c[f][1]:2;if(0<k){var m=b.split(" ");g="";m[0]==c[f][0]&&(m.shift(),g=m.join(" ").trim(),m=[],g.replace(/"([^\\"]*(?:\\.[^\\"]*)*)"|'([^\\']*(?:\\.[^\\']*)*)'|(\S+)/g,function(b,c,f,g){m.push(c||f||g||"")}),m=m.join(" ").trim());if(1==k&&0===g.length)return b;
b=Mods.Chatmd.mods_client_commands[f](m)}else b=Mods.Chatmd.mods_client_commands[f]();return"string"==typeof b?(addChatText(b,void 0,COLOR.TEAL),!1):b?!0:!1};Mods.Chatmd.ScheduleTips=function(){0===Mods.Chatmd.tipsenabled&&Mods.Chatmd.chatCommands("/tip");setTimeout(function(){Mods.Chatmd.ScheduleTips()},6E5)};Mods.Chatmd.Tipstoggle=function(){var b=getElem("settings_tips");switch(Mods.Chatmd.tipsenabled){case 0:b.innerHTML=_tmi("Tips")+" "+_tmi("off",{ns:"interface"});Mods.Chatmd.tipsenabled=1;break;
default:b.innerHTML=_tmi("Tips")+" "+_tmi("on",{ns:"interface"}),Mods.Chatmd.tipsenabled=0}LStorage.set("tipsenabled",JSON.stringify(Mods.Chatmd.tipsenabled))};Mods.Chatmd.Timestamptoggle=function(){var b=getElem("settings_enableallchatts");switch(Mods.Chatmd.enableallchatts){case 0:b.innerHTML=_tmi("Timestamps on all chat lines")+" "+_tmi("on",{ns:"interface"});Mods.Chatmd.enableallchatts=1;break;default:b.innerHTML=_tmi("Timestamps on all chat lines")+" "+_tmi("off",{ns:"interface"}),Mods.Chatmd.enableallchatts=
0}LStorage.set("enableallchatts",JSON.stringify(Mods.Chatmd.enableallchatts))};Mods.Chatmd.filterMarketChat=function(b){for(var c=/(\d+.?\d?[kmbt]? )([^|]{1,})( for )/ig,f,k=!1;f=c.exec(d);){f=f[2];for(var g in item_base)item_base[g].name.toLowerCase()===f.toLowerCase()&&(k=g)}return k?"{item:"+k+"}":b};Mods.Chatmd.game_tips={0:"In defensive fight mode, each point of melee damage you deal will give 2 xp to the defense skill and 1 xp to health.;In accurate fight mode, each point of melee damage you deal will give 2 xp to the accuracy skill and 1 xp to health.;In aggressive fight mode, each point of melee damage you deal will give 2 xp to the strength skill and 1 xp to health.;In cordial fight mode, each point of melee damage you deal will give 2 xp to the to health skill.;In controlled fight mode, combat xp is equally divided between strength, defense and accuracy. Health will always get 1 xp per damage dealt.;Ingame wiki mod is a precious resource to plan your adventure. Access it typing /wiki in the chat line.;You can turn tips off from the Game Options menu.;The Enhanced Map mod adds several details to the game map, including key resource spots, travel points and boss locations.;The Enhanced Market mod adds several helpers for player's market operations, including the ability to resubmit expired offers and compare your equip with the one that is for sale.;Your health slowly regenerates over time: you gain 1 health every minute.;The more health a mob has, the more time it takes to respawn.;Be ready to be hunted down and fight for your life if you go into No Man's Land, the RPG MO PvP area.;Don't sell raw fish you get, cook it!;Better boots can increase your movement speed.;Food heals you. You can get food by killing chickens or by fishing. You may have to cook the food.;The forums have a lot of information about this game. You can access them on https://forums.mo.ee/ .;Are you lost? Click on the minimap to enlarge it or save entire map with /savemap;If you die, you will lose all the items you are carrying but the two most valuable. Beware!;Potion of Preservation is a special potion that must be equipped and it will be consumed on death, allowing you to save a total of 7 items from your inventory.;If you have a pet equipped and you die you keep the pet. If it is not equipped, but it's in your inventory you may lose it.;When you die you do not lose the items you placed in your Pet's inventory.;You can buy an island deed from the farmer in Dorpat.;To see your combat level, mouse over yourself. To see the level of monsters, position the mouse pointer over them.;Public chat is global, meaning everyone online can read it!;Players chat is white, moderators chat is green and developers/admins chat is orange.;To whisper, type /w \"[playersname]\" followed by the message.;Type /online to bring up a list of players currently online.;Type /played to see how much time has passed since your first login.;Type /penalty to view or spend your current penalty points.;Type /wiki to access the ingame wiki database.;Type /xp to check the duration of an ongoing x2 Experience event.;x2 Experience server events are triggered by players using special x2 pots from the MOS market.;Need help? Don't be afraid to ask! RPG MO is full of helpful players! Further help and guides can be found in the game forums.;Higher accuracy will allow you to equip better weapons.;Higher defense will allow you to equip better armor.;Higher health will allow you to equip better jewelry.;Do not ignore Captchas! If you fail or ignore them you will get -5 penalty points and you will go to jail.;If you end up in jail, only a Game Moderator or an Admin can decide to free you.;You can save up to 5 captcha points. Using Captcha points will add XP to a skill of your choice.;You can access the player's market through the chest.;Some pets can be purchased from the pet vendor in Dorpat. Better pets are usually available on the market ;A pet can extend your inventory space. Pets also give stats boosts.;Cross-chatting is bad. If someone is speaking in a chat channel, make sure you answer in the same one.;The best way to make money is through gathering professions (especially mining). There will always be players looking for iron, sand or coal in the player's market!;Through the market you can place \"buy\" or \"sell\" offers, and you can check buy and sell offers from other players.;MOS is a special currency that can be acquired with real money. It allows you to buy special items from the MOS store.;The MOS Store is accessible from the \"Buy items and coins\" link at the bottom right of page.;To use magic you need to buy and equip a magic pouch, fill it with spell scrolls (all available at Dorpat Magician NPC) and engage in combat.;You are allowed to have a max of 5 accounts (alts), but trading items or materials between your own accounts is not allowed.;Please check RPG MO Code of Conduct on https://mo.ee/rules;Please support us on Patreon https://www.patreon.com/rpgmo;Join our official Discord server https://mo.ee/discord".split(";")};
createElem("div","options_game",{innerHTML:"<span class='wide_link pointer' id='settings_tips' onclick='Mods.Chatmd.Tipstoggle();'>"+_tmi("Tips")+" "+_tmi("on",{ns:"interface"})+"</span>"});Player.is_mod_dev(players[0].name)&&createElem("div","options_game",{innerHTML:"<span class='wide_link pointer' id='settings_moddevtoggle' onclick='Mods.Chatmd.ModDevToggle();'>ModDev Color : "+(0==Mods.Chatmd.modDevColorToggle?"Disabled":"Enabled")+"</span>"});Mods.Chatmd.Tipstoggle();Mods.Chatmd.ScheduleTips();
addChatText(_tm("Several new chat commands available. Type {command} to see a list and usage instructions.",{command:"/help"}),void 0,COLOR.TEAL);COLOR.MOD_DEV="#C3B4FF";Mods.Chatmd.translateSpamItems();Mods.Translations.onSetLanguage(Mods.Chatmd.translateSpamItems);Mods.timestamp("chatmd")};
Load.newmap=function(){modOptions.newmap.time=timestamp();Mods.Newmap.drawMinimapLarge=Mods.Newmap.drawMinimapLarge||HUD.drawMinimapLarge;Mods.Newmap.drawMinimap=Mods.Newmap.drawMinimap||HUD.drawMinimap;Mods.Newmap.addPOI=function(b){Mods.Newmap.POI[0].push(b)};Mods.Newmap.removePOI=function(b,c){for(var f=Mods.Newmap.POI[0].length-1;0<=f;f--)if(Mods.Newmap.POI[0][f].mapid==b.map&&Mods.Newmap.POI[0][f].x==b.i&&Mods.Newmap.POI[0][f].y==b.j&&Mods.Newmap.POI[0][f].type==c)return Mods.Newmap.POI[0].splice(f,
1)};createElem("div",wrapper,{id:"mods_newmap_coords",style:"visibility: hidden; z-index: 300; left: 31%; top: 40px; position: absolute; text-align: middle; font-size: 20px; color:rgb(255, 255, 255); text-shadow: rgb(0, 0, 0) 0px 0px 1px; pointer-events: none;"});createElem("div",wrapper,{id:"mods_newmap_popup",style:"visibility: hidden; z-index: 49; position: absolute; color: #FFF; border-radius: 4px; text-align: middle; font-size: 12px; background-color: #666; padding: 4px; pointer-events: none;"});
createElem("div",wrapper,{id:"mods_zone_buttondiv",style:"visibility: hidden; z-index: 49; position: absolute; top: 40px; left: 3px; font-size: 8px;",innerHTML:"<button id='mods_zone_button' class='menu_button' onclick='Mods.Newmap.ShowZone();' data-tm='World Map'>"+_tm("World Map")+"</button>"});Mods.Newmap.zonemapvisible=!1;Mods.Newmap.POI={0:[{mapid:0,name:"Dorpat Town",type:"CITY",x:25,y:14},{mapid:0,name:"Chest",description:"Store your items",type:"STORAGE",x:22,y:17},{mapid:0,name:"Dorpat Outpost",
type:"CITY",x:80,y:38},{mapid:0,name:"Chest",description:"Store your items",type:"STORAGE",x:84,y:38},{mapid:0,name:"Silver Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:71,y:77},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:32,y:5},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:61,y:6},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:47,
y:93},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:13,y:95},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:4,y:53},{mapid:0,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:44,y:53},{mapid:0,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:16,y:8},{mapid:0,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",
icon:"fish",x:91,y:33},{mapid:0,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:5,y:71},{mapid:0,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:81,y:90},{mapid:0,name:"wooden harpoon spot [level 58]",description:"58 fishing",icon:"woodharp",type:"RESOURCE",x:94,y:6},{mapid:0,name:"Sand",description:"1 mining",type:"RESOURCE",icon:"spade",x:73,y:73},{mapid:0,name:"Silver",description:"25 mining",type:"RESOURCE",
icon:"pick",x:69,y:79},{mapid:0,name:"Fir",description:"1 woodcutting",type:"RESOURCE",icon:"wood",x:24,y:27},{mapid:0,name:"Fir",description:"1 woodcutting",type:"RESOURCE",icon:"wood",x:88,y:32},{mapid:0,name:"Cactus",description:"5 woodcutting",type:"RESOURCE",icon:"wood",x:3,y:88},{mapid:0,name:"Willow",description:"20 woodcutting",type:"RESOURCE",icon:"wood",x:87,y:88},{mapid:0,name:"Oak",description:"10 woodcutting",type:"RESOURCE",icon:"wood",x:67,y:23},{mapid:0,name:"Minotaur Maze",description:"Access to Minotaur Cave dungeon",
type:"POI",x:21,y:87},{mapid:0,name:"Dorpat Castle",description:"Access to Dorpat Castle dungeon",type:"POI",x:50,y:59},{mapid:0,name:"Miner's Guild",description:"Requires Mining guild permission and 65 mining.",type:"POI",x:56,y:14},{mapid:0,name:"Skeleton Dungeon",description:"",type:"POI",x:66,y:29},{mapid:0,name:"Transfer to Whiland",description:"Leads to Rakblood, Lost Woods",type:"TRAVEL",x:92,y:15},{mapid:0,name:"Cow",type:"MOB",icon:102,x:41,y:11},{mapid:0,name:"Moth",type:"MOB",icon:280,
x:48,y:17},{mapid:0,name:"Orc Warrior",type:"MOB",icon:4,x:75,y:18},{mapid:0,name:"Thief",type:"MOB",icon:185,x:80,y:9},{mapid:0,name:"Minotaur",type:"MOB",icon:6,x:18,y:90},{mapid:0,name:"Apeman",type:"MOB",icon:119,x:50,y:78},{mapid:0,name:"Dwarf Mage",type:"MOB",icon:7,x:63,y:52},{mapid:0,name:"Gray Wizard",type:"MOB",icon:0,x:15,y:50},{mapid:0,name:"Black Rat",type:"MOB",icon:8,x:80,y:78},{mapid:0,name:"Dragonfly",type:"MOB",icon:120,x:90,y:41},{mapid:0,name:"Orc Mage",type:"MOB",icon:13,x:83,
y:56},{mapid:0,name:"Explorer",type:"MOB",icon:187,x:45,y:60},{mapid:0,name:"Paladin",type:"MOB",icon:25,x:50,y:63},{mapid:0,name:"Ridder",type:"MOB",icon:201,x:43,y:58},{mapid:0,name:"Bronze Golem",type:"MOB",icon:60,x:70,y:69},{mapid:0,name:"Iron Golem",type:"MOB",icon:62,x:65,y:75},{mapid:0,name:"Sand Golem",type:"MOB",icon:162,x:71,y:72},{mapid:0,name:"White Rat",type:"MOB",icon:1,x:28,y:33},{mapid:0,name:"Hen",type:"MOB",icon:101,x:9,y:31},{mapid:0,name:"Green Wizard",type:"MOB",icon:3,x:48,
y:46},{mapid:0,name:"Chicken",type:"MOB",icon:100,x:16,y:34},{mapid:0,name:"Morel Mushroom",type:"MOB",icon:807,x:60,y:91},{mapid:0,name:"Dorpat Mine",description:"",type:"TRAVEL",x:9,y:23},{mapid:0,name:"Transfer to Walco",description:"",type:"TRAVEL",x:94,y:83},{mapid:0,name:"Transfer to Reval",description:"Leads to Cesis, Pernau",type:"TRAVEL",x:6,y:89},{mapid:0,name:"Transfer to Clouds",description:"Leads to Heaven.",type:"TRAVEL",x:43,y:92},{mapid:0,name:"Transfer to Moche",description:"Leads to Reval",
type:"TRAVEL",x:9,y:60},{mapid:0,name:"Redback Spider",type:"MOB",icon:722,x:89,y:81},{mapid:0,name:"Tools Box",description:"Get new tools",type:"RESOURCE",icon:"loot",x:82,y:43},{mapid:0,name:"Road Sign",description:"Information",icon:"info",type:"RESOURCE",x:21,y:28},{mapid:0,name:"Road Sign",description:"Information",icon:"info",type:"RESOURCE",x:20,y:83},{mapid:0,name:"Road Sign",description:"Information",icon:"info",type:"RESOURCE",x:82,y:69},{mapid:0,name:"Road Sign",description:"Information",
icon:"info",type:"RESOURCE",x:80,y:34},{mapid:1,name:"Big Treasure Chest",description:"Use spare keys from search dungeons here.",type:"POI",x:26,y:8},{mapid:1,name:"Campfire",type:"POI",x:90,y:41},{mapid:1,name:"Clay",description:"0 mining",icon:"pick",type:"RESOURCE",x:15,y:27},{mapid:1,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:6,y:16},{mapid:1,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:31,y:18},{mapid:1,name:"Copper",description:"1 mining",icon:"pick",
type:"RESOURCE",x:4,y:9},{mapid:1,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:34,y:18},{mapid:1,name:"Kaolinite Clay",description:"50 mining",icon:"pick",type:"RESOURCE",x:36,y:49},{mapid:1,name:"Kaolinite Clay",description:"50 mining",icon:"pick",type:"RESOURCE",x:30,y:37},{mapid:1,name:"cage spot [level 35]",description:"35 fishing",icon:"cage",type:"RESOURCE",x:17,y:24},{mapid:1,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:30,y:90},{mapid:1,name:"Gold Vein",
description:"45 mining",icon:"steelpick",type:"RESOURCE",x:30,y:86},{mapid:1,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:67,y:14},{mapid:1,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:34,y:21},{mapid:1,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:35,y:22},{mapid:1,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:71,y:15},{mapid:1,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:55,
y:70},{mapid:1,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:33,y:24},{mapid:1,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:32,y:22},{mapid:1,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:68,y:59},{mapid:1,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:9,y:23},{mapid:1,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:66,y:29},{mapid:1,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:40,y:56},
{mapid:1,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:22,y:88},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:22,y:11},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:10,y:83},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:46,y:85},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:34,y:63},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:60,y:67},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:82,y:62},{mapid:1,name:"Transfer to Dungeon II",description:"Leads to Dungeons II-IV",
type:"TRAVEL",x:93,y:90},{mapid:1,name:"Transfer to Dungeon II",type:"TRAVEL",x:87,y:25},{mapid:1,name:"White Rat",type:"MOB",icon:1,x:14,y:21},{mapid:1,name:"Moth",type:"MOB",icon:280,x:10,y:27},{mapid:1,name:"Cave Bat",type:"MOB",icon:196,x:21,y:33},{mapid:1,name:"Cave Worm",type:"MOB",icon:197,x:14,y:52},{mapid:1,name:"Black Rat",type:"MOB",icon:8,x:11,y:66},{mapid:1,name:"Sapphire Dragon",type:"MOB",icon:14,x:25,y:84},{mapid:1,name:"Ghost Dragon",type:"MOB",icon:23,x:9,y:85},{mapid:1,name:"Efreet",
type:"MOB",icon:22,x:91,y:79},{mapid:1,name:"Efreet",type:"MOB",icon:22,x:76,y:93},{mapid:1,name:"Ruby Dragon",type:"MOB",icon:27,x:41,y:87},{mapid:1,name:"Cursed Dragon",type:"MOB",icon:26,x:60,y:90},{mapid:1,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:86,y:91},{mapid:1,name:"King Ruby Dragon",type:"MOB",icon:24,x:91,y:87},{mapid:1,name:"Ridder",type:"MOB",icon:201,x:44,y:56},{mapid:1,name:"Crusader",type:"MOB",icon:200,x:53,y:59},{mapid:1,name:"Dark Knight",type:"MOB",icon:29,x:58,y:64},{mapid:1,
name:"Paladin",type:"MOB",icon:25,x:61,y:61},{mapid:1,name:"Holy Warrior",type:"MOB",icon:30,x:55,y:79},{mapid:1,name:"Scholar",type:"MOB",icon:202,x:62,y:80},{mapid:1,name:"Enchanter",type:"MOB",icon:204,x:79,y:67},{mapid:1,name:"Skeleton",type:"MOB",icon:10,x:74,y:29},{mapid:1,name:"Vampire",type:"MOB",icon:11,x:72,y:16},{mapid:1,name:"Ghost",type:"MOB",icon:9,x:71,y:44},{mapid:1,name:"Spirit",type:"MOB",icon:135,x:74,y:49},{mapid:1,name:"Energy Ghost",type:"MOB",icon:137,x:58,y:46},{mapid:1,name:"Minotaur Skeleton",
type:"MOB",icon:68,x:43,y:34},{mapid:1,name:"Skeleton Knight",type:"MOB",icon:67,x:32,y:56},{mapid:1,name:"Skeleton Lord",type:"MOB",icon:176,x:32,y:67},{mapid:1,name:"Vampire Lord",type:"MOB",icon:28,x:54,y:19},{mapid:1,name:"Hydra",type:"MOB",icon:17,x:75,y:17},{mapid:1,name:"Gnoll Warrior",type:"MOB",icon:16,x:65,y:10},{mapid:1,name:"Skeleton Mage",type:"MOB",icon:177,x:85,y:20},{mapid:1,name:"Gnoll Mage",type:"MOB",icon:199,x:89,y:35},{mapid:1,name:"Barn spider",type:"MOB",icon:721,x:18,y:67},
{mapid:1,name:"Tools Box",description:"Get new tools",type:"RESOURCE",icon:"loot",x:18,y:17},{mapid:1,name:"Tools Box",description:"Get new tools",type:"RESOURCE",icon:"loot",x:6,y:12},{mapid:1,name:"Diseased King",description:"Challenge up to combat skill 60",type:"BOSS",cblevel:345,x:79,y:62},{mapid:2,name:"Narwa Town",type:"CITY",x:68,y:37},{mapid:2,name:"Chest",description:"Store your items",type:"STORAGE",x:63,y:39},{mapid:2,name:"Water Altar",type:"POI",x:61,y:75},{mapid:2,name:"wooden harpoon spot [level 58]",
description:"58 fishing",icon:"woodharp",type:"RESOURCE",x:78,y:14},{mapid:2,name:"wooden harpoon spot [level 58]",description:"58 fishing",icon:"woodharp",type:"RESOURCE",x:73,y:10},{mapid:2,name:"wooden harpoon spot [level 50]",description:"50 fishing",icon:"woodharp",type:"RESOURCE",x:61,y:53},{mapid:2,name:"Transfer to Rakblood",description:"Leads to Whiland",type:"TRAVEL",x:19,y:81},{mapid:2,name:"Transfer to Fellin Island",description:"Requires ticket. Leads to Dragon's Lair",type:"TRAVEL",
x:78,y:38},{mapid:2,name:"Transfer to Blood River",description:"Leads to Hell.",type:"TRAVEL",x:86,y:81},{mapid:2,name:"Sailor",description:"(NPC) Shop",type:"POI",x:74,y:38},{mapid:2,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:92,y:11},{mapid:2,name:"Frozen Spirit",type:"MOB",icon:57,x:82,y:93},{mapid:2,name:"Frozen Spirit",type:"MOB",icon:57,x:72,y:78},{mapid:2,name:"Frozen Spirit",type:"MOB",icon:57,x:95,y:56},{mapid:2,name:"Ice Lizard",type:"MOB",icon:55,x:77,y:82},{mapid:2,
name:"Ice Wyvern",type:"MOB",icon:259,x:91,y:80},{mapid:2,name:"Ice Giant",type:"MOB",icon:54,x:79,y:54},{mapid:2,name:"Frozen Bat",type:"MOB",icon:53,x:82,y:58},{mapid:2,name:"Frozen Bat",type:"MOB",icon:53,x:84,y:18},{mapid:2,name:"Ice Golem",type:"MOB",icon:56,x:90,y:49},{mapid:2,name:"Ice Troglodyte",type:"MOB",icon:52,x:85,y:34},{mapid:2,name:"Wind Protector",type:"MOB",icon:58,x:93,y:17},{mapid:2,name:"Snow Troll Defender",type:"MOB",icon:71,x:51,y:53},{mapid:2,name:"Snow Troll Knight",type:"MOB",
icon:69,x:62,y:64},{mapid:2,name:"King Elemental Dragon",type:"MOB",icon:76,x:52,y:89},{mapid:2,name:"King Elemental Dragon",type:"MOB",icon:76,x:32,y:86},{mapid:2,name:"Wind Elemental",type:"MOB",icon:51,x:18,y:57},{mapid:2,name:"Wind Elemental",type:"MOB",icon:51,x:25,y:90},{mapid:2,name:"Wind Elemental",type:"MOB",icon:51,x:10,y:72},{mapid:2,name:"Wind Elemental",type:"MOB",icon:51,x:9,y:44},{mapid:2,name:"Wind Elemental",type:"MOB",icon:51,x:32,y:29},{mapid:2,name:"Adult Elemental Dragon",type:"MOB",
icon:75,x:32,y:82},{mapid:2,name:"Baby Elemental Dragon",type:"MOB",icon:74,x:23,y:74},{mapid:2,name:"Snow Troll Assassin",type:"MOB",icon:70,x:18,y:47},{mapid:2,name:"Snow Gungan Priest",type:"MOB",icon:72,x:44,y:34},{mapid:2,name:"Snow Gungan Priest",type:"MOB",icon:72,x:66,y:25},{mapid:2,name:"Bear",type:"MOB",icon:104,x:8,y:18},{mapid:2,name:"Polar Bear",type:"MOB",icon:189,x:18,y:14},{mapid:2,name:"Snow Gungan Lord",type:"MOB",icon:73,x:48,y:16},{mapid:2,name:"Horsenettle Bush",description:"75 farming",
type:"RESOURCE",icon:"bush",x:52,y:46},{mapid:2,name:"Horsenettle Bush",description:"75 farming",type:"RESOURCE",icon:"bush",x:43,y:55},{mapid:2,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:43,y:38},{mapid:2,name:"Transfer to No Man's Land",description:"PVP Area",type:"TRAVEL",x:66,y:8},{mapid:3,name:"Whiland Town",type:"CITY",x:28,y:93},{mapid:3,name:"Chest",description:"Store your items",type:"STORAGE",x:30,y:90},{mapid:3,name:"Earth Altar",type:"POI",
x:42,y:39},{mapid:3,name:"Wandering Farmer",description:"(NPC) Shop",type:"POI",x:10,y:29},{mapid:3,name:"Transfer to Dorpat",type:"TRAVEL",x:4,y:5},{mapid:3,name:"Transfer to Rakblood",description:"Leads to Narwa",type:"TRAVEL",x:71,y:46},{mapid:3,name:"Transfer to Lost Woods",type:"TRAVEL",x:8,y:90},{mapid:3,name:"Fir",description:"1 woodcutting",type:"RESOURCE",icon:"wood",x:27,y:85},{mapid:3,name:"Oak",description:"10 woodcutting",type:"RESOURCE",icon:"wood",x:19,y:85},{mapid:3,name:"Oak",description:"10 woodcutting",
type:"RESOURCE",icon:"wood",x:6,y:12},{mapid:3,name:"Deer",type:"MOB",icon:103,x:10,y:13},{mapid:3,name:"Boletus",type:"MOB",icon:34,x:12,y:7},{mapid:3,name:"Bear",type:"MOB",icon:104,x:19,y:78},{mapid:3,name:"Bear",type:"MOB",icon:104,x:62,y:11},{mapid:3,name:"Silver Mushroom",type:"MOB",icon:35,x:75,y:42},{mapid:3,name:"Silver Mushroom",type:"MOB",icon:35,x:51,y:10},{mapid:3,name:"Blue Magic Mushroom",type:"MOB",icon:33,x:37,y:81},{mapid:3,name:"Glowing Mushroom",type:"MOB",icon:38,x:42,y:87},{mapid:3,
name:"Glowing Mushroom",type:"MOB",icon:38,x:78,y:15},{mapid:3,name:"Russula",type:"MOB",icon:31,x:39,y:77},{mapid:3,name:"Grizzly Bear",type:"MOB",icon:188,x:58,y:69},{mapid:3,name:"Golden Mushroom",type:"MOB",icon:36,x:67,y:76},{mapid:3,name:"Large Fire Mushroom",type:"MOB",icon:41,x:80,y:66},{mapid:3,name:"Dark Mushroom",type:"MOB",icon:32,x:84,y:70},{mapid:3,name:"Dark Mushroom",type:"MOB",icon:32,x:29,y:11},{mapid:3,name:"Fire Mushroom",type:"MOB",icon:40,x:80,y:30},{mapid:3,name:"Moldy Mushroom",
type:"MOB",icon:37,x:55,y:60},{mapid:3,name:"Poisoned Mushroom",type:"MOB",icon:39,x:75,y:31},{mapid:3,name:"Blueberry Bush",description:"1 farming",type:"RESOURCE",icon:"bush",x:63,y:67},{mapid:3,name:"Blueberry Bush",description:"1 farming",type:"RESOURCE",icon:"bush",x:57,y:91},{mapid:3,name:"fishing rod spot [level 30]",description:"30 fishing",type:"RESOURCE",icon:"fish",x:46,y:51},{mapid:3,name:"fishing rod spot [level 30]",description:"30 fishing",type:"RESOURCE",icon:"fish",x:40,y:54},{mapid:3,
name:"iron fishing rod spot [level 65]",description:"65 fishing",type:"RESOURCE",icon:"fish",x:46,y:56},{mapid:3,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:44,y:62},{mapid:3,name:"fishing net spot [level 23]",description:"23 fishing",type:"RESOURCE",icon:"net",x:33,y:51},{mapid:4,name:"Reval Town",type:"CITY",x:16,y:24},{mapid:4,name:"Chest",description:"Store your items",type:"STORAGE",x:13,y:33},{mapid:4,name:"Orc Overlord",type:"BOSS",cblevel:450,x:71,
y:87},{mapid:4,name:"Snake Maze",type:"POI",x:59,y:43},{mapid:4,name:"Flash Altar",type:"POI",x:62,y:65},{mapid:4,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:75,y:28},{mapid:4,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:70,y:26},{mapid:4,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:81,y:22},{mapid:4,name:"wooden harpoon spot [level 58]",description:"58 fishing",icon:"woodharp",
type:"RESOURCE",x:96,y:12},{mapid:4,name:"Jewelry Guild",description:"Requires Jewelry Guild permission and 60 jewelry.",type:"POI",x:48,y:56},{mapid:4,name:"Sand",description:"1 mining",icon:"spade",type:"RESOURCE",x:8,y:34},{mapid:4,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:66,y:38},{mapid:4,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:15,y:80},{mapid:4,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:45,y:56},{mapid:4,
name:"Silver",description:"25 mining",icon:"pick",type:"RESOURCE",x:42,y:55},{mapid:4,name:"Silver",description:"25 mining",icon:"pick",type:"RESOURCE",x:65,y:28},{mapid:4,name:"Silver Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:67,y:29},{mapid:4,name:"Clay",description:"1 mining",icon:"pick",type:"RESOURCE",x:46,y:59},{mapid:4,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:93,y:68},{mapid:4,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",
x:90,y:67},{mapid:4,name:"Kaolinite Clay",description:"50 mining",icon:"pick",type:"RESOURCE",x:41,y:61},{mapid:4,name:"Cactus",description:"5 woodcutting",type:"RESOURCE",icon:"wood",x:10,y:12},{mapid:4,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:93,y:7},{mapid:4,name:"Transfer to Cesis",description:"Leads to Ancient Dungeon",type:"TRAVEL",x:40,y:91},{mapid:4,name:"Transfer to Pernau",description:"",type:"TRAVEL",x:83,y:87},{mapid:4,name:"Lion",type:"MOB",icon:190,x:56,y:82},{mapid:4,
name:"Chaos Vortex",type:"MOB",icon:174,x:91,y:81},{mapid:4,name:"Desert Runner",type:"MOB",icon:44,x:33,y:12},{mapid:4,name:"Cyclops Knight",type:"MOB",icon:43,x:51,y:30},{mapid:4,name:"Orc King",type:"MOB",icon:46,x:87,y:68},{mapid:4,name:"Kobalos",type:"MOB",icon:304,x:89,y:23},{mapid:4,name:"Sand Golem",type:"MOB",icon:162,x:83,y:84},{mapid:4,name:"King Cobra",type:"MOB",icon:48,x:62,y:36},{mapid:4,name:"Fire Viper",type:"MOB",icon:49,x:60,y:49},{mapid:4,name:"Fire Imp",type:"MOB",icon:47,x:34,
y:36},{mapid:4,name:"Fire Imp",type:"MOB",icon:47,x:65,y:72},{mapid:4,name:"Fire Ant",type:"MOB",icon:50,x:13,y:82},{mapid:4,name:"Desert Orc",type:"MOB",icon:45,x:83,y:46},{mapid:4,name:"Black Mamba",type:"BOSS",cblevel:825,x:64,y:44},{mapid:4,name:"Hen of the Woods Mushroom",type:"MOB",icon:805,x:81,y:21},{mapid:4,name:"Maple",description:"35 woodcutting",icon:"wood",type:"RESOURCE",x:43,y:84},{mapid:4,name:"Maple",description:"35 woodcutting",icon:"wood",type:"RESOURCE",x:70,y:18},{mapid:4,name:"Willow",
description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:37,y:93},{mapid:4,name:"Transfer to Moche",description:"Leads to Dorpat",type:"TRAVEL",x:47,y:9},{mapid:4,name:"Road Sign",description:"Information",icon:"info",type:"RESOURCE",x:86,y:12},{mapid:4,name:"Road Sign",description:"Information",icon:"info",type:"RESOURCE",x:42,y:13},{mapid:4,name:"Giant Sand Worm",description:"Challenge up to combat skill 50",type:"BOSS",cblevel:290,x:93,y:81},{mapid:5,name:"Rakblood Town",type:"CITY",x:34,y:68},
{mapid:5,name:"Chest",description:"Store your items",type:"STORAGE",x:38,y:65},{mapid:5,name:"Coal Vein",type:"RESOURCE",icon:"steelpick",description:"40 mining",x:56,y:20},{mapid:5,name:"Coal Vein",type:"RESOURCE",icon:"steelpick",description:"40 mining",x:49,y:17},{mapid:5,name:"Fishing Master",type:"POI",x:47,y:76},{mapid:5,name:"Transfer to Whiland",description:"Leads to Dorpat",type:"TRAVEL",x:38,y:21},{mapid:5,name:"Transfer to Narwa",description:"Leads to Fellin Island, Blood River",type:"TRAVEL",
x:88,y:91},{mapid:5,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:46,y:79},{mapid:5,name:"fishing rod spot [level 30]",description:"30 fishing",type:"RESOURCE",icon:"fish",x:38,y:89},{mapid:5,name:"poseidon trident spot [level 106]",description:"106 fishing",type:"RESOURCE",icon:"fish",x:77,y:73},{mapid:5,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:21,y:83},{mapid:5,name:"White Gold Vein",description:"55 mining",
icon:"steelpick",type:"RESOURCE",x:17,y:25},{mapid:5,name:"White Gold Vein",description:"55 mining",icon:"steelpick",type:"RESOURCE",x:8,y:21},{mapid:5,name:"White Gold Vein",description:"55 mining",icon:"steelpick",type:"RESOURCE",x:29,y:21},{mapid:5,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:62,y:87},{mapid:5,name:"Assassin",type:"MOB",icon:186,x:25,y:79},{mapid:5,name:"Explorer",type:"MOB",icon:187,x:23,y:66},{mapid:5,name:"Dark Orc",type:"MOB",icon:66,x:34,y:83},
{mapid:5,name:"Bronze Golem",type:"MOB",icon:60,x:14,y:42},{mapid:5,name:"Azure Golem",type:"MOB",icon:59,x:17,y:12},{mapid:5,name:"Iron Golem",type:"MOB",icon:62,x:55,y:25},{mapid:5,name:"Coal Golem",type:"MOB",icon:61,x:72,y:20},{mapid:5,name:"Steel Golem",type:"MOB",icon:63,x:65,y:45},{mapid:5,name:"Thief",type:"MOB",icon:185,x:37,y:44},{mapid:5,name:"Rock Spirit",type:"MOB",icon:64,x:45,y:85},{mapid:5,name:"Mutated Hydra",type:"MOB",icon:65,x:51,y:88},{mapid:5,name:"Giant Troll",type:"MOB",icon:303,
x:60,y:79},{mapid:5,name:"Emerald Dragon",type:"MOB",icon:126,x:63,y:71},{mapid:5,name:"Porcini Mushroom",type:"MOB",icon:808,x:73,y:34},{mapid:5,name:"Porcini Mushroom",type:"MOB",icon:808,x:32,y:18},{mapid:5,name:"Bleeding Tooth Mushroom",type:"MOB",icon:810,x:82,y:59},{mapid:5,name:"Bleeding Tooth Mushroom",type:"MOB",icon:810,x:45,y:95},{mapid:5,name:"Drowned Beast",description:"35 mining",icon:"spade",type:"RESOURCE",x:48,y:81},{mapid:5,name:"Drowned Beast",description:"35 mining",icon:"spade",
type:"RESOURCE",x:54,y:73},{mapid:6,name:"Blood River Town",type:"CITY",x:35,y:86},{mapid:6,name:"Chest",description:"Store your items",type:"STORAGE",x:40,y:81},{mapid:6,name:"Fire Altar",type:"POI",x:78,y:42},{mapid:6,name:"Platinum",description:"75 mining",icon:"pick",type:"RESOURCE",x:42,y:41},{mapid:6,name:"Platinum Vein",description:"75 mining",icon:"steelpick",type:"RESOURCE",x:40,y:53},{mapid:6,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:63,y:33},{mapid:6,name:"Azurite Vein",
description:"60 mining",icon:"steelpick",type:"RESOURCE",x:64,y:27},{mapid:6,name:"Azurite Vein",description:"60 mining",icon:"steelpick",type:"RESOURCE",x:85,y:49},{mapid:6,name:"Transfer to Narwa",description:"Leads to Fellin Island, Rakblood",type:"TRAVEL",x:29,y:42},{mapid:6,name:"Transfer to Hell",description:"",type:"TRAVEL",x:59,y:21},{mapid:6,name:"Transfer to Star of Knowledge",description:"",type:"TRAVEL",x:90,y:80},{mapid:6,name:"Transfer to Void",description:"",type:"TRAVEL",x:84,y:26},
{mapid:6,name:"Blood Lizard",type:"MOB",icon:90,x:61,y:25},{mapid:6,name:"Flame Phoenix",type:"MOB",icon:87,x:45,y:46},{mapid:6,name:"Efreet",type:"MOB",icon:22,x:61,y:37},{mapid:6,name:"Efreet",type:"MOB",icon:22,x:52,y:60},{mapid:6,name:"Efreet",type:"MOB",icon:22,x:30,y:29},{mapid:6,name:"Cursed Dragon",type:"MOB",icon:26,x:55,y:74},{mapid:6,name:"Fire Imp",type:"MOB",icon:47,x:65,y:88},{mapid:6,name:"Fire Imp",type:"MOB",icon:47,x:23,y:53},{mapid:6,name:"Ruby Dragon",type:"MOB",icon:27,x:75,y:83},
{mapid:6,name:"Ruby Dragon",type:"MOB",icon:27,x:39,y:14},{mapid:6,name:"Ruby Dragon",type:"MOB",icon:27,x:32,y:67},{mapid:6,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:82,y:30},{mapid:6,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:73,y:15},{mapid:6,name:"King Ruby Dragon",type:"MOB",icon:24,x:90,y:60},{mapid:6,name:"King Ruby Dragon",type:"MOB",icon:24,x:28,y:81},{mapid:6,name:"Fire Centipede",type:"MOB",icon:159,x:87,y:88},{mapid:6,name:"Flame Wyvern",type:"MOB",icon:181,x:75,y:65},{mapid:6,
name:"Fire Behemoth",type:"MOB",icon:88,x:69,y:48},{mapid:6,name:"Archdevil",type:"MOB",icon:19,x:19,y:16},{mapid:6,name:"Archdevil",type:"MOB",icon:19,x:17,y:36},{mapid:6,name:"Fire Viper",type:"MOB",icon:49,x:18,y:87},{mapid:7,name:"Hell Town",type:"CITY",x:31,y:22},{mapid:7,name:"Chest",description:"Store your items",type:"STORAGE",x:32,y:26},{mapid:7,name:"Diablo",type:"BOSS",cblevel:800,x:11,y:79},{mapid:7,name:"Transfer to Purgatory",description:"",type:"TRAVEL",x:11,y:84},{mapid:7,name:"Platinum",
description:"75 mining",icon:"pick",type:"RESOURCE",x:48,y:38},{mapid:7,name:"King Ruby Dragon",type:"MOB",icon:24,x:8,y:69},{mapid:7,name:"King Ruby Dragon",type:"MOB",icon:24,x:27,y:53},{mapid:7,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:80,y:29},{mapid:7,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:89,y:15},{mapid:7,name:"Ruby Dragon",type:"MOB",icon:27,x:40,y:12},{mapid:7,name:"Ruby Dragon",type:"MOB",icon:27,x:16,y:76},{mapid:7,name:"Ghost Dragon",type:"MOB",icon:23,x:31,y:59},{mapid:7,
name:"Flame Phoenix",type:"MOB",icon:87,x:11,y:48},{mapid:7,name:"Flame Phoenix",type:"MOB",icon:87,x:85,y:87},{mapid:7,name:"Fire Spirit",type:"MOB",icon:191,x:81,y:82},{mapid:7,name:"Fire Behemoth",type:"MOB",icon:88,x:13,y:15},{mapid:7,name:"Fire Behemoth",type:"MOB",icon:88,x:81,y:63},{mapid:7,name:"Fire Dragon",type:"MOB",icon:253,x:71,y:90},{mapid:7,name:"Fire Dragon",type:"MOB",icon:253,x:51,y:34},{mapid:7,name:"Cursed Dragon",type:"MOB",icon:26,x:59,y:34},{mapid:7,name:"Hell Angel",type:"MOB",
icon:91,x:47,y:89},{mapid:7,name:"Blood Lizard",type:"MOB",icon:90,x:26,y:90},{mapid:7,name:"Blood Lizard",type:"MOB",icon:90,x:59,y:67},{mapid:7,name:"Blood Lizard",type:"MOB",icon:90,x:43,y:58},{mapid:7,name:"Blood Lizard",type:"MOB",icon:90,x:34,y:54},{mapid:7,name:"Large Fire Mushroom",type:"MOB",icon:41,x:44,y:8},{mapid:7,name:"Large Fire Mushroom",type:"MOB",icon:41,x:89,y:12},{mapid:7,name:"Large Fire Mushroom",type:"MOB",icon:41,x:55,y:6},{mapid:7,name:"Fire Mushroom",type:"MOB",icon:40,x:87,
y:25},{mapid:7,name:"Fire Mushroom",type:"MOB",icon:40,x:85,y:10},{mapid:7,name:"Fire Mushroom",type:"MOB",icon:40,x:57,y:8},{mapid:7,name:"Flame Wyvern",type:"MOB",icon:181,x:86,y:31},{mapid:7,name:"Flame Wyvern",type:"MOB",icon:181,x:57,y:11},{mapid:7,name:"Archdevil",type:"MOB",icon:19,x:59,y:23},{mapid:7,name:"Flaming Giant",type:"MOB",icon:89,x:70,y:45},{mapid:7,name:"Ruby Dragon",type:"MOB",icon:27,x:85,y:45},{mapid:7,name:"Efreet",type:"MOB",icon:22,x:31,y:32},{mapid:7,name:"Efreet",type:"MOB",
icon:22,x:21,y:49},{mapid:7,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:34,y:65},{mapid:7,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:62,y:48},{mapid:7,name:"Fire Stone",description:"80 mining",icon:"pick",type:"RESOURCE",x:89,y:93},{mapid:7,name:"Transfer to Blood River",description:"",type:"TRAVEL",x:40,y:57},{mapid:8,name:"Clouds Town",type:"CITY",x:60,y:72},{mapid:8,name:"Chest",description:"Store your items",type:"STORAGE",x:64,y:75},{mapid:8,
name:"Acid Dragon Lord",type:"BOSS",cblevel:3987,x:46,y:37},{mapid:8,name:"Air Altar",type:"POI",x:13,y:68},{mapid:8,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:52,y:18},{mapid:8,name:"Observer",type:"MOB",icon:114,x:29,y:17},{mapid:8,name:"Observer",type:"MOB",icon:114,x:24,y:32},{mapid:8,name:"Archangel",type:"MOB",icon:18,x:23,y:44},{mapid:8,name:"Blood Battlemage",type:"MOB",icon:116,x:35,y:49},{mapid:8,name:"Griffin",type:"MOB",icon:107,x:38,y:30},{mapid:8,name:"Baby Griffin",
type:"MOB",icon:106,x:40,y:16},{mapid:8,name:"Royal Griffin",type:"MOB",icon:110,x:9,y:91},{mapid:8,name:"Baby Griffin",type:"MOB",icon:106,x:22,y:81},{mapid:8,name:"Griffin",type:"MOB",icon:107,x:35,y:90},{mapid:8,name:"Naga",type:"MOB",icon:109,x:32,y:68},{mapid:8,name:"Ettin",type:"MOB",icon:115,x:70,y:46},{mapid:8,name:"Chaos Vortex",type:"MOB",icon:174,x:84,y:39},{mapid:8,name:"Chaos Vortex",type:"MOB",icon:174,x:93,y:67},{mapid:8,name:"King Observer",type:"MOB",icon:113,x:83,y:29},{mapid:8,
name:"King Observer",type:"MOB",icon:113,x:86,y:46},{mapid:8,name:"Royal Griffin",type:"MOB",icon:110,x:89,y:21},{mapid:8,name:"Royal Griffin",type:"MOB",icon:110,x:53,y:15},{mapid:8,name:"Wind Protector",type:"MOB",icon:58,x:84,y:11},{mapid:8,name:"King Observer",type:"MOB",icon:113,x:70,y:30},{mapid:8,name:"Archangel",type:"MOB",icon:18,x:65,y:15},{mapid:8,name:"Archangel",type:"MOB",icon:18,x:11,y:40},{mapid:8,name:"Naga",type:"MOB",icon:109,x:57,y:30},{mapid:8,name:"Royal Griffin",type:"MOB",
icon:110,x:54,y:44},{mapid:8,name:"Zeus",icon:99,type:"MOB",x:71,y:54},{mapid:8,name:"Zeus",icon:99,type:"MOB",x:77,y:43},{mapid:8,name:"Zeus",icon:99,type:"MOB",x:76,y:36},{mapid:8,name:"Zeus",icon:99,type:"MOB",x:94,y:33},{mapid:8,name:"King Sapphire Dragon",icon:112,type:"MOB",x:63,y:78},{mapid:8,name:"Adult Sapphire Dragon",icon:111,type:"MOB",x:52,y:87},{mapid:8,name:"King Black Dragon",icon:108,type:"MOB",x:57,y:61},{mapid:8,name:"King Ruby Dragon",icon:24,type:"MOB",x:60,y:68},{mapid:8,name:"Ruby Dragon",
icon:27,type:"MOB",x:69,y:70},{mapid:8,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:13,y:19},{mapid:8,name:"Transfer to Void",description:"",type:"TRAVEL",x:52,y:75},{mapid:8,name:"Transfer to Heaven",description:"",type:"TRAVEL",x:83,y:83},{mapid:9,name:"Heaven Town",type:"CITY",x:59,y:18},{mapid:9,name:"Chest",description:"Store your items",type:"STORAGE",x:56,y:13},{mapid:9,name:"Demon Portal",type:"BOSS",cblevel:1500,x:38,y:9},{mapid:9,name:"Nephilim Warrior",type:"BOSS",cblevel:3E3,
x:26,y:89},{mapid:9,name:"Transfer to Purgatory",description:"",type:"TRAVEL",x:29,y:92},{mapid:9,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:78,y:20},{mapid:9,name:"Zeus",icon:99,type:"MOB",x:89,y:40},{mapid:9,name:"Flame Phoenix",icon:87,type:"MOB",x:73,y:41},{mapid:9,name:"Unicorn",icon:245,type:"MOB",x:69,y:59},{mapid:9,name:"Thunder Bird",icon:258,type:"MOB",x:8,y:70},{mapid:9,name:"Grendalf The Grey",icon:98,type:"MOB",x:58,y:45},{mapid:9,name:"Grendalf The Grey",
icon:98,type:"MOB",x:81,y:15},{mapid:9,name:"Thunder Angel",icon:269,type:"MOB",x:54,y:62},{mapid:9,name:"Confused Merlin",icon:95,type:"MOB",x:53,y:74},{mapid:9,name:"Dwarf Battlemage",icon:94,type:"MOB",x:29,y:66},{mapid:9,name:"Dwarf Battlemage",icon:94,type:"MOB",x:88,y:29},{mapid:9,name:"Merlin",icon:96,type:"MOB",x:85,y:33},{mapid:9,name:"King Black Dragon",icon:108,type:"MOB",x:25,y:79},{mapid:9,name:"Young Grendalf",icon:97,type:"MOB",x:40,y:31},{mapid:9,name:"Young Grendalf",icon:97,type:"MOB",
x:75,y:85},{mapid:9,name:"Battlemage",icon:93,type:"MOB",x:16,y:50},{mapid:9,name:"Battlemage",icon:93,type:"MOB",x:66,y:82},{mapid:9,name:"Adult Sapphire Dragon",icon:111,type:"MOB",x:20,y:24},{mapid:9,name:"Adult Sapphire Dragon",icon:111,type:"MOB",x:81,y:51},{mapid:9,name:"King Sapphire Dragon",icon:112,type:"MOB",x:39,y:44},{mapid:9,name:"King Sapphire Dragon",icon:112,type:"MOB",x:23,y:11},{mapid:9,name:"King Sapphire Dragon",icon:112,type:"MOB",x:85,y:68},{mapid:9,name:"King Gilded Dragon",
icon:244,type:"MOB",x:84,y:84},{mapid:9,name:"Death Angel",icon:105,type:"MOB",x:39,y:13},{mapid:9,name:"Transfer to Clouds",description:"",type:"TRAVEL",x:15,y:21},{mapid:10,name:"Cesis Town",type:"CITY",x:58,y:64},{mapid:10,name:"Chest",description:"Store your items",type:"STORAGE",x:61,y:61},{mapid:10,name:"Ancient Hydra",type:"BOSS",cblevel:1E3,x:60,y:89},{mapid:10,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:46,y:32},{mapid:10,name:"Maple",description:"35 woodcutting",
icon:"wood",type:"RESOURCE",x:71,y:32},{mapid:10,name:"Blue Palm",description:"55 woodcutting",icon:"wood2",type:"RESOURCE",x:10,y:38},{mapid:10,name:"Magic Oak",description:"65 woodcutting",icon:"wood2",type:"RESOURCE",x:77,y:28},{mapid:10,name:"Transfer to Reval",description:"Leads to Dorpat, Pernau",type:"TRAVEL",x:48,y:17},{mapid:10,name:"Transfer to Ancient Dungeon",description:"",type:"TRAVEL",x:20,y:92},{mapid:10,name:"King Emerald Dragon",type:"MOB",icon:128,x:52,y:35},{mapid:10,name:"King Emerald Dragon",
type:"MOB",icon:128,x:57,y:80},{mapid:10,name:"Grass Killer",type:"MOB",icon:195,x:31,y:13},{mapid:10,name:"Grass Killer",type:"MOB",icon:195,x:17,y:69},{mapid:10,name:"Grass Killer",type:"MOB",icon:195,x:42,y:61},{mapid:10,name:"Barbarian Shaman",type:"MOB",icon:132,x:31,y:33},{mapid:10,name:"Barbarian Shaman",type:"MOB",icon:132,x:76,y:21},{mapid:10,name:"Emerald Dragon",type:"MOB",icon:126,x:21,y:48},{mapid:10,name:"Emerald Dragon",type:"MOB",icon:126,x:35,y:64},{mapid:10,name:"Barbarian Berserker",
type:"MOB",icon:133,x:26,y:75},{mapid:10,name:"Barbarian Berserker",type:"MOB",icon:133,x:84,y:85},{mapid:10,name:"Emerald Plant",type:"MOB",icon:194,x:17,y:83},{mapid:10,name:"Adult Emerald Dragon",type:"MOB",icon:127,x:9,y:31},{mapid:10,name:"Adult Emerald Dragon",type:"MOB",icon:127,x:39,y:82},{mapid:10,name:"Grass Snake",type:"MOB",icon:130,x:43,y:46},{mapid:10,name:"Grass Snake",type:"MOB",icon:130,x:77,y:15},{mapid:10,name:"Grass Snake",type:"MOB",icon:130,x:78,y:39},{mapid:10,name:"Baby Emerald Dragon",
type:"MOB",icon:125,x:36,y:21},{mapid:10,name:"Baby Emerald Dragon",type:"MOB",icon:125,x:48,y:27},{mapid:10,name:"Baby Emerald Dragon",type:"MOB",icon:125,x:56,y:23},{mapid:10,name:"Naga",type:"MOB",icon:109,x:67,y:17},{mapid:10,name:"Naga",type:"MOB",icon:109,x:87,y:18},{mapid:10,name:"Barbarian Ghost",type:"MOB",icon:131,x:19,y:34},{mapid:10,name:"Barbarian Ghost",type:"MOB",icon:131,x:82,y:51},{mapid:10,name:"Poisonous Behemoth",type:"MOB",icon:193,x:12,y:18},{mapid:10,name:"Poisonous Behemoth",
type:"MOB",icon:193,x:75,y:75},{mapid:10,name:"Moss Wyvern",type:"MOB",icon:129,x:64,y:84},{mapid:10,name:"Green Jumping Spider",type:"MOB",icon:723,x:28,y:54},{mapid:10,name:"fishing rod spot [level 30]",description:"30 fishing",type:"RESOURCE",icon:"fish",x:51,y:65},{mapid:10,name:"wooden harpoon spot [level 58]",description:"58 fishing",icon:"woodharp",type:"RESOURCE",x:46,y:70},{mapid:10,name:"wooden harpoon spot [level 58]",description:"58 fishing",icon:"woodharp",type:"RESOURCE",x:63,y:9},{mapid:10,
name:"fishing net spot [level 40]",description:"40 fishing",type:"RESOURCE",icon:"net",x:65,y:47},{mapid:11,name:"Walco Town",type:"CITY",x:20,y:27},{mapid:11,name:"Chest",description:"Store your items",type:"STORAGE",x:24,y:29},{mapid:11,name:"Decayed Mummy",type:"BOSS",cblevel:942,x:83,y:13},{mapid:11,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:29,y:44},{mapid:11,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:58,y:33},{mapid:11,name:"Spirit Log",
description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:37,y:21},{mapid:11,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:35,y:70},{mapid:11,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:24,y:79},{mapid:11,name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",x:50,y:75},{mapid:11,name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",x:20,y:66},{mapid:11,name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",
x:51,y:42},{mapid:11,name:"Transfer to Dorpat",description:"",type:"TRAVEL",x:9,y:84},{mapid:11,name:"Illusion Gate",description:"Teleports you to Devil's Triangle",type:"TRAVEL",x:86,y:85},{mapid:11,name:"Shadow Ghost",type:"MOB",icon:134,x:16,y:79},{mapid:11,name:"Shadow Ghost",type:"MOB",icon:134,x:38,y:82},{mapid:11,name:"Ghost",type:"MOB",icon:9,x:23,y:68},{mapid:11,name:"Poltergeist",type:"MOB",icon:136,x:20,y:39},{mapid:11,name:"Poltergeist",type:"MOB",icon:136,x:50,y:82},{mapid:11,name:"Energy Ghost",
type:"MOB",icon:137,x:32,y:20},{mapid:11,name:"Skeleton Assassin",type:"MOB",icon:138,x:30,y:35},{mapid:11,name:"Skeleton Assassin",type:"MOB",icon:138,x:82,y:82},{mapid:11,name:"Ghost Dragon",type:"MOB",icon:23,x:67,y:53},{mapid:11,name:"Vampire",type:"MOB",icon:11,x:55,y:45},{mapid:11,name:"Vampire Lord",type:"MOB",icon:28,x:46,y:74},{mapid:11,name:"Spirit",type:"MOB",icon:135,x:23,y:55},{mapid:11,name:"Spirit",type:"MOB",icon:135,x:38,y:82},{mapid:11,name:"Skeleton",type:"MOB",icon:10,x:76,y:39},
{mapid:11,name:"Skeleton Knight",type:"MOB",icon:67,x:79,y:70},{mapid:11,name:"Skeleton Knight",type:"MOB",icon:67,x:73,y:78},{mapid:12,name:"Cannibal Plant",description:"",type:"BOSS",cblevel:2100,x:77,y:56},{mapid:12,name:"Cathedral Door",description:"Enter Cathedral",type:"TRAVEL",x:84,y:56},{mapid:12,name:"Giant Tarantula",description:"",type:"BOSS",cblevel:10005,x:91,y:50},{mapid:13,name:"Campfire",description:"(There is no chest in Pernau)",type:"POI",x:90,y:13},{mapid:13,name:"Pharaoh",type:"BOSS",
cblevel:1300,x:12,y:45},{mapid:13,name:"Transfer to Reval",description:"",type:"TRAVEL",x:85,y:80},{mapid:13,name:"Transfer to Pernau Desert",description:"",type:"TRAVEL",x:40,y:57},{mapid:13,name:"Transfer to Pernau Desert",description:"",type:"TRAVEL",x:11,y:23},{mapid:13,name:"Transfer to Pernau Pyramid",description:"",type:"TRAVEL",x:37,y:42},{mapid:13,name:"Transfer to Lion's Den",description:"Leads to Pharaoh",type:"TRAVEL",x:55,y:10},{mapid:13,name:"Transfer to Lion's Den",description:"",type:"TRAVEL",
x:6,y:32},{mapid:13,name:"Transfer to Pharaoh",description:"",type:"TRAVEL",x:7,y:12},{mapid:13,name:"Shopkeeper",type:"POI",x:15,y:8},{mapid:13,name:"wooden harpoon spot [level 58]",description:"58 fishing",type:"RESOURCE",icon:"woodharp",x:90,y:10},{mapid:13,name:"Mummy",type:"MOB",icon:163,x:83,y:88},{mapid:13,name:"Mummy",type:"MOB",icon:163,x:53,y:71},{mapid:13,name:"White Wall",type:"MOB",icon:179,x:88,y:92},{mapid:13,name:"White Wall",type:"MOB",icon:179,x:88,y:69},{mapid:13,name:"White Wall",
type:"MOB",icon:179,x:91,y:55},{mapid:13,name:"White Wall",type:"MOB",icon:179,x:80,y:55},{mapid:13,name:"Rotting Mummy",type:"MOB",icon:164,x:87,y:74},{mapid:13,name:"Rotting Mummy",type:"MOB",icon:164,x:66,y:81},{mapid:13,name:"Rotting Mummy",type:"MOB",icon:164,x:76,y:71},{mapid:13,name:"Skeleton Lord",type:"MOB",icon:176,x:92,y:74},{mapid:13,name:"Skeleton Lord",type:"MOB",icon:176,x:82,y:58},{mapid:13,name:"Skeleton Lord",type:"MOB",icon:176,x:59,y:91},{mapid:13,name:"Skeleton Lord",type:"MOB",
icon:176,x:33,y:64},{mapid:13,name:"Skeleton Mage",type:"MOB",icon:177,x:91,y:64},{mapid:13,name:"Skeleton Mage",type:"MOB",icon:177,x:79,y:66},{mapid:13,name:"Phantom Skull",type:"MOB",icon:170,x:80,y:62},{mapid:13,name:"Ice Mummy",type:"MOB",icon:165,x:76,y:81},{mapid:13,name:"Ice Mummy",type:"MOB",icon:165,x:58,y:85},{mapid:13,name:"Ice Mummy",type:"MOB",icon:165,x:41,y:71},{mapid:13,name:"Dark Elf Mage",type:"MOB",icon:161,x:58,y:89},{mapid:13,name:"Skeleton King",type:"MOB",icon:175,x:60,y:91},
{mapid:13,name:"Skeleton King",type:"MOB",icon:175,x:24,y:65},{mapid:13,name:"Emerald Mummy",type:"MOB",icon:166,x:62,y:62},{mapid:13,name:"Emerald Mummy",type:"MOB",icon:166,x:43,y:59},{mapid:13,name:"Sand Golem",type:"MOB",icon:162,x:45,y:85},{mapid:13,name:"White Hard Wall",type:"MOB",icon:180,x:39,y:67},{mapid:13,name:"White Hard Wall",type:"MOB",icon:180,x:36,y:64},{mapid:13,name:"White Hard Wall",type:"MOB",icon:180,x:40,y:61},{mapid:13,name:"White Hard Wall",type:"MOB",icon:180,x:46,y:54},
{mapid:13,name:"Flame Phoenix",type:"MOB",icon:87,x:27,y:69},{mapid:13,name:"Sand Centipede",type:"MOB",icon:157,x:32,y:36},{mapid:13,name:"Rock Centipede",type:"MOB",icon:158,x:39,y:19},{mapid:13,name:"Fire Centipede",type:"MOB",icon:159,x:55,y:33},{mapid:13,name:"Gilded Mummy",type:"MOB",icon:167,x:61,y:40},{mapid:13,name:"Gilded Mummy",type:"MOB",icon:167,x:59,y:19},{mapid:13,name:"Skeletal Dragon",type:"MOB",icon:160,x:66,y:45},{mapid:13,name:"Diamond Mummy",type:"MOB",icon:169,x:79,y:21},{mapid:13,
name:"Deathstalker Scorpion",type:"MOB",icon:171,x:75,y:43},{mapid:13,name:"Deathstalker Scorpion",type:"MOB",icon:171,x:89,y:45},{mapid:13,name:"Emperor Scorpion",type:"MOB",icon:172,x:82,y:41},{mapid:13,name:"War Elephant",type:"MOB",icon:173,x:85,y:25},{mapid:13,name:"Amethyst Mummy",type:"MOB",icon:168,x:66,y:13},{mapid:13,name:"Lion",type:"MOB",icon:190,x:16,y:15},{mapid:13,name:"Earth Dragon",type:"MOB",icon:251,x:11,y:34},{mapid:13,name:"Fire Dragon",type:"MOB",icon:253,x:19,y:45},{mapid:13,
name:"Void Dragon",type:"MOB",icon:254,x:7,y:43},{mapid:13,name:"Giant House Spider",type:"MOB",icon:724,x:59,y:38},{mapid:13,name:"Giant House Spider",type:"MOB",icon:724,x:39,y:11},{mapid:13,name:"Giant Tarantula",description:"",type:"BOSS",cblevel:10005,x:69,y:26},{mapid:14,name:"Fishing Guild",description:"Requires Fishing Guild permission and 80 fishing.",type:"POI",x:78,y:29},{mapid:14,name:"Chest",description:"Store your items",type:"STORAGE",x:70,y:31},{mapid:14,name:"Transfer to Dragon's Lair",
description:"",type:"TRAVEL",x:41,y:48},{mapid:14,name:"Transfer to Narwa",description:"",type:"TRAVEL",x:10,y:26},{mapid:14,name:"Oak",description:"10 woodcutting",type:"RESOURCE",icon:"wood",x:58,y:80},{mapid:14,name:"Oak",description:"10 woodcutting",type:"RESOURCE",icon:"wood",x:59,y:35},{mapid:14,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:53,y:83},{mapid:14,name:"Gilded Dragon",type:"MOB",icon:248,x:45,y:51},{mapid:14,name:"Naga",type:"MOB",icon:109,x:28,y:70},{mapid:14,
name:"Destroying Angel Mushroom",type:"MOB",icon:811,x:27,y:59},{mapid:14,name:"Poisonous Behemoth",type:"MOB",icon:193,x:36,y:77},{mapid:14,name:"Barbarian Berserker",type:"MOB",icon:133,x:69,y:74},{mapid:14,name:"Barbarian Shaman",type:"MOB",icon:132,x:58,y:63},{mapid:14,name:"Skeletal Dragon",type:"MOB",icon:160,x:72,y:49},{mapid:14,name:"Barbarian Ghost",type:"MOB",icon:131,x:68,y:34},{mapid:14,name:"Grass Snake",type:"MOB",icon:130,x:51,y:27},{mapid:14,name:"Behemoth",type:"MOB",icon:20,x:31,
y:35},{mapid:14,name:"Dragonfly",type:"MOB",icon:120,x:36,y:18},{mapid:14,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:82,y:35},{mapid:14,name:"fishing net spot [level 5]",description:"5 fishing",type:"RESOURCE",icon:"net",x:88,y:36},{mapid:14,name:"fishing net spot [level 23]",description:"23 fishing",type:"RESOURCE",icon:"net",x:87,y:25},{mapid:14,name:"cage spot [level 35]",description:"35 fishing",icon:"cage",type:"RESOURCE",x:81,y:32},{mapid:14,name:"cage spot [level 35]",
description:"35 fishing",icon:"cage",type:"RESOURCE",x:15,y:52},{mapid:14,name:"wooden harpoon spot [level 50]",description:"50 fishing",icon:"woodharp",type:"RESOURCE",x:84,y:30},{mapid:14,name:"wooden harpoon spot [level 58]",description:"58 fishing",type:"RESOURCE",icon:"woodharp",x:84,y:26},{mapid:14,name:"wooden harpoon spot [level 58]",description:"58 fishing",type:"RESOURCE",icon:"woodharp",x:14,y:33},{mapid:14,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",
x:87,y:81},{mapid:14,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:13,y:71},{mapid:14,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:86,y:28},{mapid:14,name:"iron fishing rod spot [level 65]",description:"65 fishing",type:"RESOURCE",icon:"ironrod",x:85,y:33},{mapid:14,name:"steel harpoon spot [level 75]",description:"75 fishing",type:"RESOURCE",icon:"steelharp",x:15,y:69},{mapid:14,name:"Raspberry Bush",
description:"25 farming",type:"RESOURCE",icon:"bush",x:26,y:34},{mapid:14,name:"Raspberry Bush",description:"25 farming",type:"RESOURCE",icon:"bush",x:33,y:42},{mapid:14,name:"Transfer to Lost Relic",description:"Requires Poseidon's Blessing",type:"TRAVEL",x:58,y:88},{mapid:15,name:"Dragon's Lair Outpost",description:"",type:"CITY",x:47,y:42},{mapid:15,name:"Chest",description:"Store your items",type:"STORAGE",x:49,y:47},{mapid:15,name:"Chaotic Dragon",description:"",type:"BOSS",cblevel:2100,x:71,
y:21},{mapid:15,name:"Fire Stone",description:"80 mining",icon:"pick",type:"RESOURCE",x:77,y:69},{mapid:15,name:"Ruby Dragon",type:"MOB",icon:27,x:49,y:34},{mapid:15,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:48,y:24},{mapid:15,name:"King Ruby Dragon",type:"MOB",icon:24,x:54,y:16},{mapid:15,name:"Fire Dragon",type:"MOB",icon:253,x:68,y:17},{mapid:15,name:"Ghost Dragon",type:"MOB",icon:23,x:61,y:43},{mapid:15,name:"Skeletal Dragon",type:"MOB",icon:160,x:72,y:39},{mapid:15,name:"Void Dragon",type:"MOB",
icon:254,x:77,y:57},{mapid:15,name:"Emerald Dragon",type:"MOB",icon:126,x:40,y:40},{mapid:15,name:"Adult Emerald Dragon",type:"MOB",icon:127,x:32,y:39},{mapid:15,name:"King Emerald Dragon",type:"MOB",icon:128,x:16,y:42},{mapid:15,name:"Adult Black Dragon",type:"MOB",icon:249,x:50,y:57},{mapid:15,name:"King Black Dragon",type:"MOB",icon:108,x:48,y:74},{mapid:15,name:"Metal Dragon",type:"MOB",icon:252,x:62,y:69},{mapid:15,name:"Metal Dragon",type:"MOB",icon:252,x:74,y:72},{mapid:15,name:"Earth Dragon",
type:"MOB",icon:251,x:12,y:77},{mapid:15,name:"Gilded Dragon",type:"MOB",icon:248,x:39,y:55},{mapid:15,name:"Adult Gilded Dragon",type:"MOB",icon:250,x:31,y:65},{mapid:15,name:"King Gilded Dragon",type:"MOB",icon:244,x:24,y:62},{mapid:15,name:"Transfer to Fellin Island",description:"",type:"TRAVEL",x:44,y:45},{mapid:16,name:"Chest",description:"Store your items",type:"STORAGE",x:15,y:18},{mapid:16,name:"Fir",description:"1 woodcutting",type:"RESOURCE",icon:"wood",x:10,y:18},{mapid:16,name:"Silver",
description:"25 mining",icon:"pick",type:"RESOURCE",x:38,y:21},{mapid:16,name:"Silver",description:"25 mining",icon:"pick",type:"RESOURCE",x:15,y:45},{mapid:16,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:24,y:43},{mapid:16,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:58,y:7},{mapid:16,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:46,y:32},{mapid:16,name:"Platinum",description:"75 mining",icon:"pick",type:"RESOURCE",x:16,y:80},{mapid:16,
name:"Platinum",description:"75 mining",icon:"pick",type:"RESOURCE",x:82,y:41},{mapid:16,name:"Redhodium",description:"90 mining",icon:"steelpick",type:"RESOURCE",x:62,y:74},{mapid:16,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:54,y:22},{mapid:16,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:7,y:48},{mapid:16,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:44,y:9},{mapid:16,name:"steel harpoon spot [level 63]",
description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:6,y:45},{mapid:16,name:"poseidon trident spot [level 106]",description:"106 fishing",type:"RESOURCE",icon:"trident",x:40,y:55},{mapid:16,name:"poseidon trident spot [level 106]",description:"106 fishing",type:"RESOURCE",icon:"trident",x:86,y:19},{mapid:16,name:"Abelsonite",description:"135 mining",icon:"pick",type:"RESOURCE",x:68,y:72},{mapid:16,name:"Novice Knight",type:"MOB",icon:271,x:11,y:40},{mapid:16,name:"Novice Knight",type:"MOB",
icon:271,x:36,y:14},{mapid:16,name:"Novice Knight",type:"MOB",icon:271,x:9,y:65},{mapid:16,name:"Knight",type:"MOB",icon:272,x:23,y:27},{mapid:16,name:"Knight",type:"MOB",icon:272,x:29,y:35},{mapid:16,name:"Knight",type:"MOB",icon:272,x:47,y:35},{mapid:16,name:"Knight",type:"MOB",icon:272,x:73,y:19},{mapid:16,name:"Baron",type:"MOB",icon:273,x:57,y:22},{mapid:16,name:"Baron",type:"MOB",icon:273,x:35,y:37},{mapid:16,name:"Earl",type:"MOB",icon:274,x:32,y:56},{mapid:16,name:"Marquis",type:"MOB",icon:275,
x:7,y:83},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:25,y:88},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:89,y:40},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:79,y:30},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:25,y:88},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:45,y:81},{mapid:16,name:"Marquis",type:"MOB",icon:275,x:57,y:85},{mapid:16,name:"Prince",type:"MOB",icon:276,x:81,y:50},{mapid:16,name:"Prince",type:"MOB",icon:276,x:68,y:41},{mapid:16,name:"Prince",type:"MOB",icon:276,x:35,
y:70},{mapid:16,name:"Prince",type:"MOB",icon:276,x:70,y:92},{mapid:16,name:"Prince",type:"MOB",icon:276,x:87,y:74},{mapid:16,name:"King",type:"MOB",icon:277,x:63,y:55},{mapid:16,name:"King",type:"MOB",icon:277,x:74,y:78},{mapid:16,name:"World Tree",type:"BOSS",cblevel:3775,x:87,y:91},{mapid:16,name:"Emerald God",type:"BOSS",cblevel:3105,x:11,y:89},{mapid:16,name:"Ogre King",type:"BOSS",cblevel:1602,x:87,y:8},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:49,y:19},{mapid:16,
name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:19,y:48},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:17,y:67},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:31,y:64},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:52,y:39},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:79,y:17},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:55,y:44},{mapid:16,name:"No man's dungeon",
description:"PvP area",type:"TRAVEL",x:44,y:58},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:27,y:77},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:79,y:64},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:37,y:83},{mapid:16,name:"No man's dungeon",description:"PvP area",type:"TRAVEL",x:61,y:92},{mapid:16,name:"Legendary Breeding Master",description:"(NPC) Shop",type:"POI",x:70,y:24},{mapid:16,name:"Legendary Breeding Master",
description:"(NPC) Shop",type:"POI",x:70,y:33},{mapid:16,name:"Sequoia Tree",description:"120 woodcutting",icon:"wood2",type:"RESOURCE",x:68,y:14},{mapid:16,name:"PVP Shopkeeper",description:"(NPC) Shop",type:"POI",x:94,y:68},{mapid:16,name:"Campfire",type:"POI",x:6,y:29},{mapid:16,name:"No Man's Land Outpost",description:"Chest",type:"CITY",x:15,y:23},{mapid:16,name:"Destruction Altar",type:"POI",x:82,y:87},{mapid:17,name:"Ancient Dungeon Outpost",description:"Chest",type:"CITY",x:40,y:87},{mapid:17,
name:"Chest",description:"Store your items",type:"STORAGE",x:44,y:91},{mapid:17,name:"Ancient Magician",description:"(NPC) Shop",type:"POI",x:46,y:86},{mapid:17,name:"Ancient Furniture Master",description:"(NPC) Shop",type:"POI",x:48,y:90},{mapid:17,name:"Cannibal Plant",description:"",type:"BOSS",cblevel:2100,x:41,y:49},{mapid:17,name:"Pyrohydra",description:"",type:"MOB",icon:283,x:13,y:78},{mapid:17,name:"Diamond Plant",description:"",type:"MOB",icon:285,x:27,y:63},{mapid:17,name:"Diamond Plant",
description:"",type:"MOB",icon:285,x:48,y:48},{mapid:17,name:"Emerald Plant",description:"",type:"MOB",icon:194,x:45,y:48},{mapid:17,name:"Grass Killer",description:"",type:"MOB",icon:195,x:29,y:85},{mapid:17,name:"Moss Wyvern",type:"MOB",icon:129,x:78,y:34},{mapid:17,name:"Earth Dragon",description:"",type:"MOB",icon:251,x:55,y:47},{mapid:17,name:"Earth Dragon",description:"",type:"MOB",icon:251,x:56,y:73},{mapid:17,name:"Observer Overseer",description:"",type:"MOB",icon:288,x:48,y:32},{mapid:17,
name:"Hydra Dragon",description:"",type:"MOB",icon:286,x:19,y:26},{mapid:17,name:"Earthstorm",description:"",type:"MOB",icon:284,x:13,y:42},{mapid:17,name:"Unicorn",description:"",type:"MOB",icon:245,x:73,y:19},{mapid:17,name:"Queen Lizard",description:"",type:"MOB",icon:282,x:77,y:56},{mapid:17,name:"Blood Spirit",description:"",type:"MOB",icon:281,x:69,y:36},{mapid:17,name:"Blood Spirit",description:"",type:"MOB",icon:281,x:70,y:81},{mapid:17,name:"Transfer to Cesis",description:"",type:"TRAVEL",
x:79,y:87},{mapid:17,name:"poseidon trident spot [level 95]",description:"95 fishing",type:"RESOURCE",icon:"trident",x:34,y:87},{mapid:17,name:"fishing net spot [level 70]",description:"70 fishing",type:"RESOURCE",icon:"net",x:35,y:83},{mapid:17,name:"wooden harpoon spot [level 50]",description:"50 fishing",icon:"woodharp",type:"RESOURCE",x:36,y:88},{mapid:17,name:"Legendary Breeding Master",description:"(NPC) Shop",type:"POI",x:25,y:30},{mapid:18,name:"Cave Crawler",description:"",type:"BOSS",cblevel:434,
x:50,y:35},{mapid:18,name:"Giant Cyclops",description:"",type:"BOSS",cblevel:450,x:36,y:76},{mapid:18,name:"Venus Flytrap",description:"",type:"BOSS",cblevel:545,x:79,y:80},{mapid:18,name:"Grizzly Bear",description:"",type:"MOB",icon:188,x:83,y:19},{mapid:18,name:"Poisoned Mushroom",description:"",type:"MOB",icon:39,x:78,y:40},{mapid:18,name:"Poisoned Mushroom",description:"",type:"MOB",icon:39,x:48,y:84},{mapid:18,name:"Golden Mushroom",description:"",type:"MOB",icon:36,x:70,y:36},{mapid:18,name:"Golden Mushroom",
description:"",type:"MOB",icon:36,x:84,y:24},{mapid:18,name:"Golden Mushroom",description:"",type:"MOB",icon:36,x:15,y:66},{mapid:18,name:"Moldy Mushroom",description:"",type:"MOB",icon:37,x:72,y:24},{mapid:18,name:"Moldy Mushroom",description:"",type:"MOB",icon:37,x:32,y:19},{mapid:18,name:"Moldy Mushroom",description:"",type:"MOB",icon:37,x:40,y:34},{mapid:18,name:"Orange Mushroom",description:"",type:"MOB",icon:435,x:75,y:42},{mapid:18,name:"Orange Mushroom",description:"",type:"MOB",icon:435,
x:19,y:16},{mapid:18,name:"Orange Mushroom",description:"",type:"MOB",icon:435,x:19,y:47},{mapid:18,name:"Glowing Mushroom",description:"",type:"MOB",icon:38,x:65,y:21},{mapid:18,name:"Glowing Mushroom",description:"",type:"MOB",icon:38,x:62,y:65},{mapid:18,name:"Glowing Mushroom",description:"",type:"MOB",icon:38,x:55,y:18},{mapid:18,name:"Archdevil",description:"",type:"MOB",icon:19,x:47,y:37},{mapid:18,name:"Archdevil",description:"",type:"MOB",icon:19,x:17,y:82},{mapid:18,name:"Behemoth",description:"",
type:"MOB",icon:20,x:35,y:83},{mapid:18,name:"Ettin King",description:"",type:"MOB",icon:21,x:73,y:80},{mapid:18,name:"Transfer to Whiland",description:"",type:"TRAVEL",x:86,y:14},{mapid:18,name:"cage spot [level 48]",description:"48 fishing",icon:"cage",type:"RESOURCE",x:83,y:43},{mapid:18,name:"fishing net spot [level 40]",description:"40 fishing",type:"RESOURCE",icon:"net",x:79,y:43},{mapid:18,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:26,y:63},{mapid:20,name:"Brocaliande Forest Town",
type:"CITY",x:54,y:77},{mapid:20,name:"Chest",description:"Store your items",type:"STORAGE",x:50,y:77},{mapid:20,name:"Illusion Gate",description:"Teleports you to Devil's Triangle",type:"TRAVEL",x:11,y:91},{mapid:20,name:"Cathedral Door",description:"Enter Cathedral",type:"TRAVEL",x:86,y:13},{mapid:20,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:23,y:11},{mapid:20,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:24,y:17},{mapid:20,name:"Silver Vein",
description:"25 mining",icon:"steelpick",type:"RESOURCE",x:61,y:12},{mapid:20,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:10,y:37},{mapid:20,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:40,y:93},{mapid:20,name:"Ancient Golem",type:"MOB",icon:325,x:14,y:63},{mapid:20,name:"Ancient Golem",type:"MOB",icon:325,x:70,y:30},{mapid:20,name:"Draman",type:"MOB",icon:318,x:30,y:56},{mapid:20,name:"Draman",type:"MOB",icon:318,x:20,
y:72},{mapid:20,name:"Earth Elemental",type:"MOB",icon:314,x:18,y:17},{mapid:20,name:"Ent",type:"MOB",icon:323,x:14,y:51},{mapid:20,name:"Ent",type:"MOB",icon:323,x:26,y:34},{mapid:20,name:"Ent",type:"MOB",icon:323,x:31,y:16},{mapid:20,name:"Gor-gin",type:"MOB",icon:320,x:14,y:90},{mapid:20,name:"Gor-gin",type:"MOB",icon:320,x:42,y:13},{mapid:20,name:"Gravekeeper",type:"MOB",icon:328,x:87,y:34},{mapid:20,name:"Ice Elemental",type:"MOB",icon:316,x:67,y:56},{mapid:20,name:"Ice Elemental",type:"MOB",
icon:316,x:64,y:44},{mapid:20,name:"Iphar",type:"MOB",icon:322,x:91,y:65},{mapid:20,name:"Iphar",type:"MOB",icon:322,x:76,y:69},{mapid:20,name:"Necromancer",type:"MOB",icon:327,x:14,y:27},{mapid:20,name:"Raaz",type:"MOB",icon:319,x:28,y:45},{mapid:20,name:"Rock Golem",type:"MOB",icon:317,x:41,y:58},{mapid:20,name:"Summoned Skull",type:"MOB",icon:324,x:85,y:79},{mapid:20,name:"Summoned Skull",type:"MOB",icon:324,x:90,y:81},{mapid:20,name:"Summoned Skull",type:"MOB",icon:324,x:71,y:77},{mapid:20,name:"Undead Paladin",
type:"MOB",icon:329,x:82,y:34},{mapid:20,name:"Undead Paladin",type:"MOB",icon:329,x:50,y:33},{mapid:20,name:"Verme",type:"MOB",icon:321,x:62,y:89},{mapid:20,name:"Verme",type:"MOB",icon:321,x:76,y:92},{mapid:20,name:"Verme",type:"MOB",icon:321,x:71,y:84},{mapid:20,name:"Water Elemental",type:"MOB",icon:315,x:69,y:13},{mapid:20,name:"Transfer to Wittensten",description:"Teleports you to Wittensten",type:"TRAVEL",x:93,y:77},{mapid:20,name:"Void Tree",description:"85 woodcutting",icon:"wood2",type:"RESOURCE",
x:37,y:24},{mapid:20,name:"Void Tree",description:"85 woodcutting",icon:"wood2",type:"RESOURCE",x:26,y:27},{mapid:20,name:"Gooseberry Bush",description:"50 farming",type:"RESOURCE",icon:"bush",x:93,y:63},{mapid:20,name:"Gooseberry Bush",description:"50 farming",type:"RESOURCE",icon:"bush",x:77,y:62},{mapid:20,name:"Gooseberry Bush",description:"50 farming",type:"RESOURCE",icon:"bush",x:84,y:52},{mapid:20,name:"fishing net spot [level 70]",description:"70 fishing",type:"RESOURCE",icon:"net",x:42,y:89},
{mapid:20,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:40,y:93},{mapid:20,name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",x:84,y:39},{mapid:21,name:"Traitor",description:"(NPC) tele to Walco's Illusion Gate",type:"POI",icon:313,x:55,y:58},{mapid:21,name:"Blizzard Altar",type:"POI",x:77,y:76},{mapid:21,name:"Azurite Vein",description:"60 mining",icon:"steelpick",type:"RESOURCE",x:39,y:33},{mapid:21,name:"Azurite Vein",description:"60 mining",
icon:"steelpick",type:"RESOURCE",x:61,y:88},{mapid:21,name:"Clay",description:"0 mining",icon:"pick",type:"RESOURCE",x:44,y:85},{mapid:21,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:28,y:54},{mapid:21,name:"Dragonstone",description:"110 mining",icon:"pick",type:"RESOURCE",x:38,y:72},{mapid:21,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:41,y:88},{mapid:21,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:34,y:55},{mapid:21,name:"Iron",description:"25 mining",
icon:"pick",type:"RESOURCE",x:33,y:72},{mapid:21,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:64,y:55},{mapid:21,name:"Gold Vein",description:"45 mining",icon:"pick",type:"RESOURCE",x:20,y:13},{mapid:21,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:66,y:58},{mapid:21,name:"Platinum Vein",description:"75 mining",icon:"steelpick",type:"RESOURCE",x:89,y:22},{mapid:21,name:"Silver Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",
x:70,y:51},{mapid:21,name:"Alligator",type:"MOB",icon:326,x:79,y:15},{mapid:21,name:"Alligator",type:"MOB",icon:326,x:50,y:71},{mapid:21,name:"Ancient Golem",type:"MOB",icon:325,x:64,y:27},{mapid:21,name:"Ancient Golem",type:"MOB",icon:325,x:71,y:92},{mapid:21,name:"Ancient Golem",type:"MOB",icon:325,x:15,y:50},{mapid:21,name:"Draman",type:"MOB",icon:318,x:29,y:87},{mapid:21,name:"Draman",type:"MOB",icon:318,x:23,y:33},{mapid:21,name:"Earth Elemental",type:"MOB",icon:314,x:50,y:60},{mapid:21,name:"Earth Elemental",
type:"MOB",icon:314,x:62,y:72},{mapid:21,name:"Earth Elemental",type:"MOB",icon:314,x:8,y:30},{mapid:21,name:"Earth Elemental",type:"MOB",icon:314,x:51,y:24},{mapid:21,name:"Gor-gin",type:"MOB",icon:320,x:81,y:35},{mapid:21,name:"Gravekeeper",type:"MOB",icon:328,x:88,y:86},{mapid:21,name:"Gravekeeper",type:"MOB",icon:328,x:68,y:43},{mapid:21,name:"Ice Elemental",type:"MOB",icon:316,x:51,y:54},{mapid:21,name:"Ice Elemental",type:"MOB",icon:316,x:77,y:71},{mapid:21,name:"Ice Elemental",type:"MOB",icon:316,
x:50,y:41},{mapid:21,name:"Ice Elemental",type:"MOB",icon:316,x:17,y:65},{mapid:21,name:"Iphar",type:"MOB",icon:322,x:87,y:46},{mapid:21,name:"Iphar",type:"MOB",icon:322,x:34,y:18},{mapid:21,name:"Necromancer",type:"MOB",icon:327,x:46,y:83},{mapid:21,name:"Necromancer",type:"MOB",icon:327,x:48,y:6},{mapid:21,name:"Necromancer",type:"MOB",icon:327,x:31,y:53},{mapid:21,name:"Raaz",type:"MOB",icon:319,x:84,y:30},{mapid:21,name:"Raaz",type:"MOB",icon:319,x:24,y:38},{mapid:21,name:"Rock Golem",type:"MOB",
icon:317,x:22,y:15},{mapid:21,name:"Rock Golem",type:"MOB",icon:317,x:40,y:64},{mapid:21,name:"Rock Golem",type:"MOB",icon:317,x:71,y:53},{mapid:21,name:"Summoned Skull",type:"MOB",icon:324,x:37,y:39},{mapid:21,name:"Summoned Skull",type:"MOB",icon:324,x:58,y:87},{mapid:21,name:"Summoned Skull",type:"MOB",icon:324,x:92,y:25},{mapid:21,name:"Undead Paladin",type:"MOB",icon:329,x:69,y:39},{mapid:21,name:"Undead Paladin",type:"MOB",icon:329,x:85,y:84},{mapid:21,name:"Verme",type:"MOB",icon:321,x:81,
y:46},{mapid:21,name:"Verme",type:"MOB",icon:321,x:37,y:21},{mapid:21,name:"Water Elemental",type:"MOB",icon:315,x:12,y:84},{mapid:21,name:"Water Elemental",type:"MOB",icon:315,x:64,y:10},{mapid:21,name:"Water Elemental",type:"MOB",icon:315,x:87,y:62},{mapid:21,name:"Redhodium",description:"90 mining",icon:"pick",type:"RESOURCE",x:88,y:80},{mapid:21,name:"Dragon's Blood Tree",description:"105 woodcutting",icon:"wood2",type:"RESOURCE",x:89,y:85},{mapid:22,name:"Harpy 1",type:"MOB",icon:343,x:5,y:9},
{mapid:22,name:"Harpy 2",type:"MOB",icon:344,x:5,y:18},{mapid:22,name:"Harpy 3",type:"MOB",icon:345,x:5,y:27},{mapid:22,name:"Harpy 4",type:"MOB",icon:346,x:5,y:36},{mapid:22,name:"[Elite] Lion Turtle",type:"MOB",icon:347,x:5,y:45},{mapid:22,name:"Harpy 5",type:"MOB",icon:348,x:5,y:54},{mapid:22,name:"Harpy 6",type:"MOB",icon:349,x:5,y:63},{mapid:22,name:"Harpy 7",type:"MOB",icon:350,x:5,y:72},{mapid:22,name:"Harpy 8",type:"MOB",icon:351,x:5,y:81},{mapid:22,name:"[Boss] Air Priest",type:"MOB",icon:333,
x:5,y:92},{mapid:22,name:"Dragonbat 1",type:"MOB",icon:352,x:14,y:9},{mapid:22,name:"Dragonbat 2",type:"MOB",icon:353,x:14,y:18},{mapid:22,name:"Dragonbat 3",type:"MOB",icon:354,x:14,y:27},{mapid:22,name:"Dragonbat 4",type:"MOB",icon:355,x:14,y:36},{mapid:22,name:"[Elite] Capricorn",type:"MOB",icon:356,x:14,y:45},{mapid:22,name:"Dragonbat 5",type:"MOB",icon:357,x:14,y:54},{mapid:22,name:"Dragonbat 6",type:"MOB",icon:358,x:14,y:63},{mapid:22,name:"Dragonbat 7",type:"MOB",icon:359,x:14,y:72},{mapid:22,
name:"Dragonbat 8",type:"MOB",icon:432,x:14,y:81},{mapid:22,name:"[Boss] Earth Priestess",type:"MOB",icon:334,x:14,y:92},{mapid:22,name:"Ogre 1",type:"MOB",icon:360,x:24,y:9},{mapid:22,name:"Ogre 2",type:"MOB",icon:361,x:24,y:18},{mapid:22,name:"Ogre 3",type:"MOB",icon:362,x:24,y:27},{mapid:22,name:"Ogre 4",type:"MOB",icon:363,x:24,y:36},{mapid:22,name:"[Elite] Giant",type:"MOB",icon:364,x:24,y:45},{mapid:22,name:"Ogre 5",type:"MOB",icon:365,x:24,y:54},{mapid:22,name:"Ogre 6",type:"MOB",icon:366,
x:24,y:63},{mapid:22,name:"Ogre 7",type:"MOB",icon:367,x:24,y:72},{mapid:22,name:"Ogre 8",type:"MOB",icon:368,x:24,y:81},{mapid:22,name:"[Boss] Water Priest",type:"MOB",icon:335,x:24,y:92},{mapid:22,name:"Water Elf 1",type:"MOB",icon:369,x:33,y:9},{mapid:22,name:"Water Elf 2",type:"MOB",icon:370,x:33,y:18},{mapid:22,name:"Water Elf 3",type:"MOB",icon:371,x:33,y:27},{mapid:22,name:"Water Elf 4",type:"MOB",icon:372,x:33,y:36},{mapid:22,name:"[Elite] Spider Queen",type:"MOB",icon:373,x:33,y:45},{mapid:22,
name:"Water Elf 5",type:"MOB",icon:374,x:33,y:54},{mapid:22,name:"Water Elf 6",type:"MOB",icon:375,x:33,y:63},{mapid:22,name:"Water Elf 7",type:"MOB",icon:376,x:33,y:72},{mapid:22,name:"Water Elf 8",type:"MOB",icon:377,x:33,y:81},{mapid:22,name:"[Boss] Fire Priestess",type:"MOB",icon:336,x:33,y:92},{mapid:22,name:"Survivor",description:"(NPC)",type:"POI",x:44,y:11},{mapid:22,name:"Wisp 1",type:"MOB",icon:378,x:42,y:7},{mapid:22,name:"Wisp 2",type:"MOB",icon:379,x:42,y:18},{mapid:22,name:"Wisp 3",
type:"MOB",icon:380,x:42,y:27},{mapid:22,name:"Wisp 4",type:"MOB",icon:381,x:42,y:36},{mapid:22,name:"[Elite] Poseidon",type:"MOB",icon:382,x:42,y:45},{mapid:22,name:"Wisp 5",type:"MOB",icon:383,x:42,y:54},{mapid:22,name:"Wisp 6",type:"MOB",icon:384,x:42,y:63},{mapid:22,name:"Wisp 7",type:"MOB",icon:385,x:42,y:72},{mapid:22,name:"Wisp 8",type:"MOB",icon:386,x:42,y:81},{mapid:22,name:"[Boss] Cathedral Guardian",type:"MOB",icon:337,x:42,y:92},{mapid:22,name:"Swamp Monkey 1",type:"MOB",icon:387,x:51,
y:9},{mapid:22,name:"Swamp Monkey 2",type:"MOB",icon:388,x:51,y:18},{mapid:22,name:"Swamp Monkey 3",type:"MOB",icon:389,x:51,y:27},{mapid:22,name:"Swamp Monkey 4",type:"MOB",icon:390,x:51,y:36},{mapid:22,name:"[Elite] Headless Knight",type:"MOB",icon:391,x:51,y:45},{mapid:22,name:"Swamp Monkey 5",type:"MOB",icon:392,x:51,y:54},{mapid:22,name:"Swamp Monkey 6",type:"MOB",icon:393,x:51,y:63},{mapid:22,name:"Swamp Monkey 7",type:"MOB",icon:394,x:51,y:72},{mapid:22,name:"Swamp Monkey 8",type:"MOB",icon:395,
x:51,y:81},{mapid:22,name:"[Boss] God's Eye",type:"MOB",icon:338,x:51,y:92},{mapid:22,name:"Basilisk 1",type:"MOB",icon:396,x:61,y:9},{mapid:22,name:"Basilisk 2",type:"MOB",icon:397,x:61,y:18},{mapid:22,name:"Basilisk 3",type:"MOB",icon:398,x:61,y:27},{mapid:22,name:"Basilisk 4",type:"MOB",icon:399,x:61,y:36},{mapid:22,name:"[Elite] Wood Elf",type:"MOB",icon:400,x:61,y:45},{mapid:22,name:"Basilisk 5",type:"MOB",icon:401,x:61,y:54},{mapid:22,name:"Basilisk 6",type:"MOB",icon:402,x:61,y:63},{mapid:22,
name:"Basilisk 7",type:"MOB",icon:403,x:61,y:72},{mapid:22,name:"Basilisk 8",type:"MOB",icon:404,x:61,y:81},{mapid:22,name:"[Boss] Zombie Lord",type:"MOB",icon:339,x:61,y:92},{mapid:22,name:"Crusader 1",type:"MOB",icon:405,x:70,y:9},{mapid:22,name:"Crusader 2",type:"MOB",icon:406,x:70,y:18},{mapid:22,name:"Crusader 3",type:"MOB",icon:407,x:70,y:27},{mapid:22,name:"Crusader 4",type:"MOB",icon:408,x:70,y:36},{mapid:22,name:"[Elite] Ice Golem",type:"MOB",icon:409,x:70,y:45},{mapid:22,name:"Crusader 5",
type:"MOB",icon:410,x:70,y:54},{mapid:22,name:"Crusader 6",type:"MOB",icon:411,x:70,y:63},{mapid:22,name:"Crusader 7",type:"MOB",icon:412,x:70,y:72},{mapid:22,name:"Crusader 8",type:"MOB",icon:413,x:70,y:81},{mapid:22,name:"[Boss] Holy Knight",type:"MOB",icon:340,x:70,y:92},{mapid:22,name:"Defender 1",type:"MOB",icon:414,x:79,y:9},{mapid:22,name:"Defender 2",type:"MOB",icon:415,x:79,y:18},{mapid:22,name:"Defender 3",type:"MOB",icon:416,x:79,y:27},{mapid:22,name:"Defender 4",type:"MOB",icon:417,x:79,
y:36},{mapid:22,name:"[Elite] Lava Golem",type:"MOB",icon:418,x:79,y:45},{mapid:22,name:"Defender 5",type:"MOB",icon:419,x:79,y:54},{mapid:22,name:"Defender 6",type:"MOB",icon:420,x:79,y:63},{mapid:22,name:"Defender 7",type:"MOB",icon:421,x:79,y:72},{mapid:22,name:"Defender 8",type:"MOB",icon:422,x:79,y:81},{mapid:22,name:"[Boss] Saint Richard",type:"MOB",icon:341,x:79,y:92},{mapid:22,name:"Gladiator 1",type:"MOB",icon:423,x:88,y:9},{mapid:22,name:"Gladiator 2",type:"MOB",icon:424,x:88,y:18},{mapid:22,
name:"Gladiator 3",type:"MOB",icon:425,x:88,y:27},{mapid:22,name:"Gladiator 4",type:"MOB",icon:426,x:88,y:36},{mapid:22,name:"[Elite] Demon Unicorn",type:"MOB",icon:427,x:88,y:45},{mapid:22,name:"Gladiator 5",type:"MOB",icon:428,x:88,y:54},{mapid:22,name:"Gladiator 6",type:"MOB",icon:429,x:88,y:63},{mapid:22,name:"Gladiator 7",type:"MOB",icon:430,x:88,y:72},{mapid:22,name:"Gladiator 8",type:"MOB",icon:431,x:88,y:81},{mapid:22,name:"[Boss] High Priest",type:"MOB",icon:342,x:88,y:92},{mapid:22,name:"Gate",
type:"MOB",icon:434,x:94,y:96},{mapid:23,name:"Chest",description:"Store your items",type:"STORAGE",x:25,y:25},{mapid:23,name:"Chest",description:"Store your items",type:"STORAGE",x:36,y:66},{mapid:23,name:"Chest",description:"Store your items",type:"STORAGE",x:59,y:21},{mapid:23,name:"Chest",description:"Store your items",type:"STORAGE",x:70,y:58},{mapid:23,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:66,y:50},{mapid:23,name:"Iron Vein",description:"25 mining",icon:"steelpick",
type:"RESOURCE",x:74,y:47},{mapid:23,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:67,y:55},{mapid:23,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:74,y:52},{mapid:23,name:"Fire Stone",description:"80 mining",icon:"pick",type:"RESOURCE",x:85,y:42},{mapid:23,name:"Fire Stone",description:"80 mining",icon:"pick",type:"RESOURCE",x:85,y:48},{mapid:23,name:"Fire Stone Vein",description:"80 mining",icon:"pick",type:"RESOURCE",x:70,y:47},{mapid:23,name:"Fire Stone Vein",
description:"80 mining",icon:"pick",type:"RESOURCE",x:76,y:44},{mapid:23,name:"Dragonstone Vein",description:"110 mining",icon:"pick",type:"RESOURCE",x:71,y:49},{mapid:23,name:"Dragonstone Vein",description:"110 mining",icon:"pick",type:"RESOURCE",x:81,y:50},{mapid:23,name:"Dragonstone",description:"110 mining",icon:"pick",type:"RESOURCE",x:71,y:42},{mapid:23,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:82,y:39},{mapid:23,name:"Azurite Vein",description:"60 mining",icon:"steelpick",
type:"RESOURCE",x:79,y:45},{mapid:23,name:"Azurite Vein",description:"60 mining",icon:"steelpick",type:"RESOURCE",x:68,y:45},{mapid:23,name:"Transfer",description:"Return to last town",type:"TRAVEL",x:50,y:20},{mapid:23,name:"Transfer",description:"Return to last town",type:"TRAVEL",x:75,y:57},{mapid:23,name:"Transfer",description:"Return to last town",type:"TRAVEL",x:23,y:29},{mapid:23,name:"fishing rod spot [level 1]",description:"1 fishing",type:"RESOURCE",icon:"fish",x:20,y:16},{mapid:23,name:"fishing net spot [level 5]",
description:"5 fishing",type:"RESOURCE",icon:"net",x:10,y:33},{mapid:23,name:"fishing rod spot [level 30]",description:"30 fishing",type:"RESOURCE",icon:"fish",x:20,y:10},{mapid:23,name:"cage spot [level 35]",description:"35 fishing",icon:"cage",type:"RESOURCE",x:11,y:26},{mapid:23,name:"fishing net spot [level 40]",description:"40 fishing",type:"RESOURCE",icon:"net",x:16,y:12},{mapid:23,name:"cage spot [level 48]",description:"48 fishing",icon:"cage",type:"RESOURCE",x:14,y:20},{mapid:23,name:"wooden harpoon spot [level 58]",
description:"58 fishing",type:"RESOURCE",icon:"woodharp",x:9,y:24},{mapid:23,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:6,y:23},{mapid:23,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:7,y:33},{mapid:23,name:"iron fishing rod spot [level 65]",description:"65 fishing",type:"RESOURCE",icon:"ironrod",x:13,y:12},{mapid:23,name:"fishing net spot [level 70]",description:"70 fishing",type:"RESOURCE",icon:"net",
x:18,y:9},{mapid:23,name:"steel harpoon spot [level 75]",description:"75 fishing",type:"RESOURCE",icon:"steelharp",x:8,y:21},{mapid:23,name:"poseidon trident spot [level 95]",description:"95 fishing",type:"RESOURCE",icon:"trident",x:14,y:44},{mapid:23,name:"poseidon trident spot [level 106]",description:"106 fishing",type:"RESOURCE",icon:"trident",x:13,y:39},{mapid:23,name:"poseidon trident spot [level 106]",description:"106 fishing",type:"RESOURCE",icon:"trident",x:17,y:39},{mapid:23,name:"Gold Vein",
description:"45 mining",icon:"steelpick",type:"RESOURCE",x:21,y:69},{mapid:23,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:41,y:72},{mapid:23,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:40,y:59},{mapid:23,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:37,y:76},{mapid:23,name:"White Gold",description:"55 mining",icon:"pick",type:"RESOURCE",x:28,y:78},{mapid:23,name:"White Gold Vein",description:"55 mining",icon:"steelpick",
type:"RESOURCE",x:48,y:66},{mapid:23,name:"Platinum",description:"75 mining",icon:"pick",type:"RESOURCE",x:24,y:65},{mapid:23,name:"Platinum Vein",description:"75 mining",icon:"steelpick",type:"RESOURCE",x:19,y:74},{mapid:23,name:"Redhodium Vein",description:"90 mining",icon:"steelpick",type:"RESOURCE",x:30,y:83},{mapid:23,name:"Redhodium Vein",description:"90 mining",icon:"steelpick",type:"RESOURCE",x:46,y:64},{mapid:23,name:"Silver Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",
x:24,y:80},{mapid:23,name:"Silver Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:35,y:58},{mapid:23,name:"Silver Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:41,y:80},{mapid:23,name:"Transfer",description:"Return to last town",type:"TRAVEL",x:31,y:74},{mapid:23,name:"Pluto Guild Chest",description:"Chest",type:"CITY",x:39,y:66},{mapid:23,name:"Fir",description:"1 woodcutting",type:"RESOURCE",icon:"wood",x:54,y:18},{mapid:23,name:"Cactus",description:"5 woodcutting",
type:"RESOURCE",icon:"wood",x:56,y:25},{mapid:23,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:23,y:24},{mapid:23,name:"Maple",description:"35 woodcutting",icon:"wood",type:"RESOURCE",x:59,y:14},{mapid:23,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:67,y:18},{mapid:23,name:"Blue Palm",description:"55 woodcutting",icon:"wood2",type:"RESOURCE",x:63,y:23},{mapid:23,name:"Magic Oak",description:"65 woodcutting",icon:"wood2",type:"RESOURCE",x:50,
y:25},{mapid:23,name:"Void Tree",description:"85 woodcutting",icon:"wood2",type:"RESOURCE",x:63,y:11},{mapid:23,name:"Dragon's Blood Tree",description:"105 woodcutting",icon:"wood2",type:"RESOURCE",x:73,y:16},{mapid:23,name:"Fletching Table",description:"Fletch Arrows Here",type:"POI",x:58,y:17},{mapid:23,name:"Campfire",type:"POI",x:19,y:28},{mapid:24,name:"Chest",description:"Store your items",type:"STORAGE",x:18,y:14},{mapid:24,name:"Tombstone",description:"Respawn Location",type:"POI",x:11,y:14},
{mapid:24,name:"Transfer to Dorpat",type:"TRAVEL",x:18,y:10},{mapid:24,name:"Every Man's Land",description:"Chest",type:"CITY",x:18,y:15},{mapid:24,name:"Cannibal Plant",type:"BOSS",cblevel:2100,x:71,y:76},{mapid:24,name:"Nephilim Warrior",type:"BOSS",cblevel:3E3,x:78,y:76},{mapid:24,name:"Ancient Hydra",type:"BOSS",cblevel:1E3,x:85,y:76},{mapid:24,name:"Cow",type:"MOB",icon:102,x:33,y:32},{mapid:24,name:"Cow King",type:"MOB",icon:437,x:39,y:77},{mapid:25,name:"Moche",description:"Chest",type:"CITY",
x:48,y:63},{mapid:25,name:"Chest",description:"Store your items",type:"STORAGE",x:53,y:60},{mapid:25,name:"Campfire",type:"POI",x:58,y:41},{mapid:25,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:67,y:32},{mapid:25,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:70,y:24},{mapid:25,name:"Hen",type:"MOB",icon:101,x:59,y:64},{mapid:25,name:"Hen",type:"MOB",icon:101,x:44,y:39},{mapid:25,name:"Cow",type:"MOB",icon:102,x:72,y:82},{mapid:25,name:"Gray Wizard",type:"MOB",
icon:0,x:60,y:37},{mapid:25,name:"Minotaur",type:"MOB",icon:6,x:78,y:10},{mapid:25,name:"Orc Warrior",type:"MOB",icon:4,x:62,y:12},{mapid:25,name:"Sapphire Dragon",type:"MOB",icon:14,x:47,y:10},{mapid:25,name:"Skeleton",type:"MOB",icon:10,x:25,y:12},{mapid:25,name:"Campfire",type:"POI",x:15,y:21},{mapid:25,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:20,y:31},{mapid:25,name:"Ghost",type:"MOB",icon:9,x:13,y:41},{mapid:25,name:"Baby Silver Dragon",type:"MOB",icon:726,x:14,y:7},
{mapid:25,name:"Campfire",type:"POI",x:18,y:49},{mapid:25,name:"Orc Warrior",type:"MOB",icon:4,x:22,y:49},{mapid:25,name:"White Rat",type:"MOB",icon:1,x:32,y:63},{mapid:25,name:"Chicken",type:"MOB",icon:100,x:38,y:44},{mapid:25,name:"Shaggy Mane Mushroom",type:"MOB",icon:806,x:30,y:11},{mapid:25,name:"Shaggy Mane Mushroom",type:"MOB",icon:806,x:20,y:24},{mapid:25,name:"Sand",description:"1 mining",icon:"spade",type:"RESOURCE",x:20,y:62},{mapid:25,name:"Sand",description:"1 mining",icon:"spade",type:"RESOURCE",
x:25,y:92},{mapid:25,name:"Sand",description:"1 mining",icon:"spade",type:"RESOURCE",x:52,y:91},{mapid:25,name:"Desert Runner",type:"MOB",icon:44,x:11,y:71},{mapid:25,name:"Fire Imp",type:"MOB",icon:47,x:19,y:91},{mapid:25,name:"Transfer to Reval",description:"Leads to Cesis, Pernau",type:"TRAVEL",x:46,y:90},{mapid:25,name:"Orc Mage",type:"MOB",icon:13,x:57,y:85},{mapid:25,name:"Orc Mage",type:"MOB",icon:13,x:85,y:33},{mapid:25,name:"Silver",description:"25 mining",icon:"pick",type:"RESOURCE",x:83,
y:94},{mapid:25,name:"Green WIzaard",type:"MOB",icon:3,x:93,y:77},{mapid:25,name:"Transfer to Dorpat",description:"Teleports you to Dorpat",type:"TRAVEL",x:93,y:42},{mapid:25,name:"Transfer to Moche II",description:"Teleports you to Moche II",type:"TRAVEL",x:10,y:47},{mapid:25,name:"Woodcutter's Guild",description:"Requires Woodcutting guild permission and 80 woodcutting.",type:"POI",x:84,y:27},{mapid:25,name:"Cactus",description:"5 woodcutting",type:"RESOURCE",icon:"wood",x:58,y:92},{mapid:25,name:"Willow",
description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:87,y:31},{mapid:25,name:"Maple",description:"35 woodcutting",icon:"wood",type:"RESOURCE",x:85,y:24},{mapid:25,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:84,y:30},{mapid:25,name:"Blue Palm",description:"55 woodcutting",icon:"wood2",type:"RESOURCE",x:86,y:26},{mapid:25,name:"Kaolinite Clay",description:"50 mining",icon:"pick",type:"RESOURCE",x:87,y:94},{mapid:26,name:"Transfer to Brocaliande Forest",description:"Teleports you to Brocaliande Forest",
type:"TRAVEL",x:10,y:87},{mapid:26,name:"Chest",description:"Store your items",type:"STORAGE",x:66,y:51},{mapid:26,name:"Summoned Skull",type:"MOB",icon:324,x:22,y:76},{mapid:26,name:"Sequoia fishing rod spot [level 122]",description:"122 fishing",type:"RESOURCE",icon:"fish",x:42,y:36},{mapid:26,name:"Sequoia fishing rod spot [level 130]",description:"130 fishing",type:"RESOURCE",icon:"fish",x:18,y:58},{mapid:26,name:"Sequoia Tree",description:"120 woodcutting",icon:"wood2",type:"RESOURCE",x:7,y:18},
{mapid:26,name:"Edoylerite",description:"120 mining",icon:"pick",type:"RESOURCE",x:12,y:25},{mapid:26,name:"Void Dragon",type:"MOB",icon:254,x:20,y:21},{mapid:26,name:"Metal Dragon",type:"MOB",icon:252,x:13,y:58},{mapid:26,name:"Fire Dragon",type:"MOB",icon:253,x:12,y:37},{mapid:26,name:"Undead Paladin",type:"MOB",icon:329,x:51,y:27},{mapid:26,name:"Rock Golem",type:"MOB",icon:317,x:77,y:15},{mapid:26,name:"Ent",type:"MOB",icon:323,x:89,y:44},{mapid:26,name:"Ancient Golem",type:"MOB",icon:325,x:87,
y:61},{mapid:26,name:"Ancient Golem",type:"MOB",icon:325,x:41,y:75},{mapid:26,name:"Gravekeeper",type:"MOB",icon:328,x:64,y:85},{mapid:26,name:"Wittensten Outpost",type:"CITY",x:67,y:51},{mapid:26,name:"Campfire",type:"POI",x:74,y:51},{mapid:26,name:"Bold Jumper",type:"MOB",icon:725,x:84,y:33},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:22,y:11},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:10,y:83},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:46,y:85},{mapid:27,name:"Transfer to Dungeon I",
type:"TRAVEL",x:34,y:63},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:60,y:67},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:82,y:62},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:93,y:90},{mapid:27,name:"Transfer to Dungeon I",type:"TRAVEL",x:87,y:25},{mapid:27,name:"Green Amanita Mushroom",type:"MOB",icon:812,x:42,y:39},{mapid:27,name:"Green Amanita Mushroom",type:"MOB",icon:812,x:61,y:32},{mapid:27,name:"Ghost Dragon",type:"MOB",icon:23,x:15,y:82},{mapid:27,name:"King Sapphire Dragon",
type:"MOB",icon:112,x:14,y:62},{mapid:27,name:"Adult Gilded Dragon",type:"MOB",icon:250,x:18,y:46},{mapid:27,name:"King Gilded Dragon",type:"MOB",icon:244,x:17,y:35},{mapid:27,name:"Campfire",type:"POI",x:7,y:37},{mapid:27,name:"Campfire",type:"POI",x:10,y:11},{mapid:27,name:"Campfire",type:"POI",x:31,y:34},{mapid:27,name:"Campfire",type:"POI",x:63,y:71},{mapid:27,name:"Black Rat",type:"MOB",icon:8,x:8,y:19},{mapid:27,name:"Cave Worm",type:"MOB",icon:197,x:18,y:16},{mapid:27,name:"Tin",description:"1 mining",
icon:"pick",type:"RESOURCE",x:22,y:18},{mapid:27,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:87,y:31},{mapid:27,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:55,y:43},{mapid:27,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:12,y:7},{mapid:27,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:61,y:14},{mapid:27,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:5,y:83},{mapid:27,name:"Iron",description:"25 mining",
icon:"pick",type:"RESOURCE",x:77,y:78},{mapid:27,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:81,y:59},{mapid:27,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:79,y:22},{mapid:27,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:5,y:88},{mapid:27,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:85,y:72},{mapid:27,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:73,y:61},{mapid:27,
name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:73,y:17},{mapid:27,name:"Campfire",type:"POI",x:7,y:37},{mapid:27,name:"Ettin King",type:"MOB",icon:21,x:37,y:87},{mapid:27,name:"Efreet",type:"MOB",icon:22,x:50,y:86},{mapid:27,name:"Skeleton Assassin",type:"MOB",icon:138,x:36,y:68},{mapid:27,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:25,y:68},{mapid:27,name:"Skeleton Lord",type:"MOB",icon:176,x:29,y:55},{mapid:27,name:"Skeleton King",type:"MOB",icon:175,
x:32,y:51},{mapid:27,name:"Dracula's Messenger",type:"MOB",icon:444,x:26,y:42},{mapid:27,name:"Dracula's Messenger",type:"MOB",icon:444,x:43,y:19},{mapid:27,name:"Dracula",type:"MOB",icon:443,x:30,y:26},{mapid:27,name:"Tin",description:"1 mining",icon:"pick",type:"RESOURCE",x:28,y:20},{mapid:27,name:"Copper",description:"1 mining",icon:"pick",type:"RESOURCE",x:36,y:19},{mapid:27,name:"Hell Demon",type:"MOB",icon:446,x:43,y:41},{mapid:27,name:"Hell Demon",type:"MOB",icon:446,x:87,y:63},{mapid:27,name:"Hell Demon",
type:"MOB",icon:446,x:58,y:46},{mapid:27,name:"Enchanter",type:"MOB",icon:204,x:45,y:51},{mapid:27,name:"Orc Overlord",type:"BOSS",cblevel:470,x:42,y:58},{mapid:27,name:"Paladin",type:"MOB",icon:25,x:55,y:58},{mapid:27,name:"Paladin",type:"MOB",icon:25,x:68,y:73},{mapid:27,name:"Dark Knight",type:"MOB",icon:29,x:55,y:68},{mapid:27,name:"King Ruby Dragon",type:"MOB",icon:24,x:59,y:86},{mapid:27,name:"King Ruby Dragon",type:"MOB",icon:24,x:82,y:83},{mapid:27,name:"Adult Ruby Dragon",type:"MOB",icon:184,
x:69,y:95},{mapid:27,name:"Adult Ruby Dragon",type:"MOB",icon:184,x:89,y:89},{mapid:27,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:92,y:94},{mapid:27,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:58,y:91},{mapid:27,name:"Gold",description:"45 mining",icon:"pick",type:"RESOURCE",x:87,y:75},{mapid:27,name:"Undead Demon",type:"MOB",icon:445,x:80,y:57},{mapid:27,name:"Undead Demon",type:"MOB",icon:445,x:74,y:44},{mapid:27,name:"Undead Demon",type:"MOB",
icon:445,x:68,y:27},{mapid:27,name:"Undead Demon",type:"MOB",icon:445,x:56,y:8},{mapid:27,name:"Undead Demon",type:"MOB",icon:445,x:53,y:35},{mapid:27,name:"Energy Ghost",type:"MOB",icon:137,x:89,y:41},{mapid:27,name:"Vampire",type:"MOB",icon:11,x:89,y:20},{mapid:27,name:"Vampire Lord",type:"MOB",icon:28,x:73,y:10},{mapid:27,name:"Demon Overlord",type:"BOSS",cblevel:470,x:83,y:71},{mapid:27,name:"Transfer to Dungeon III",description:"Leads to Dungeon IV",type:"TRAVEL",x:79,y:83},{mapid:28,name:"Transfer to Dungeon II",
description:"Leads to Dungeon III-I",type:"TRAVEL",x:79,y:83},{mapid:28,name:"Transfer to Dungeon IV",type:"TRAVEL",x:44,y:29},{mapid:28,name:"Transfer to Dungeon IV",type:"TRAVEL",x:17,y:81},{mapid:28,name:"Transfer to Dungeon IV",type:"TRAVEL",x:51,y:58},{mapid:28,name:"King Trumpet Mushroom",type:"MOB",icon:813,x:63,y:26},{mapid:28,name:"King Trumpet Mushroom",type:"MOB",icon:813,x:81,y:27},{mapid:28,name:"King Trumpet Mushroom",type:"MOB",icon:813,x:30,y:87},{mapid:28,name:"Mutated Knight",type:"MOB",
icon:448,x:75,y:90},{mapid:28,name:"Mutated Knight",type:"MOB",icon:448,x:69,y:71},{mapid:28,name:"Mutated Knight",type:"MOB",icon:448,x:57,y:84},{mapid:28,name:"Mutated Baron",type:"MOB",icon:449,x:82,y:51},{mapid:28,name:"Mutated Baron",type:"MOB",icon:449,x:71,y:45},{mapid:28,name:"Mutated Earl",type:"MOB",icon:450,x:65,y:42},{mapid:28,name:"Mutated Earl",type:"MOB",icon:450,x:63,y:26},{mapid:28,name:"Mutated Earl",type:"MOB",icon:450,x:85,y:27},{mapid:28,name:"Mutated Earl",type:"MOB",icon:450,
x:60,y:21},{mapid:28,name:"Mutated Earl",type:"MOB",icon:450,x:65,y:31},{mapid:28,name:"Royal Cyclops",type:"MOB",icon:451,x:50,y:21},{mapid:28,name:"Royal Cyclops",type:"MOB",icon:451,x:27,y:26},{mapid:28,name:"Royal Cyclops",type:"MOB",icon:451,x:27,y:13},{mapid:28,name:"Royal Cyclops",type:"MOB",icon:451,x:17,y:31},{mapid:28,name:"Cyclops Battlemage",type:"MOB",icon:452,x:12,y:28},{mapid:28,name:"Cyclops Battlemage",type:"MOB",icon:452,x:18,y:14},{mapid:28,name:"Cyclops Battlemage",type:"MOB",
icon:452,x:15,y:41},{mapid:28,name:"Cyclops Battlemage",type:"MOB",icon:452,x:9,y:59},{mapid:28,name:"Hell Angel",type:"MOB",icon:91,x:8,y:69},{mapid:28,name:"Hell Angel",type:"MOB",icon:91,x:18,y:76},{mapid:28,name:"Hell Angel",type:"MOB",icon:91,x:21,y:81},{mapid:28,name:"Hell Angel",type:"MOB",icon:91,x:31,y:91},{mapid:28,name:"Soul Eater",type:"MOB",icon:460,x:19,y:54},{mapid:28,name:"Soul Eater",type:"MOB",icon:460,x:26,y:61},{mapid:28,name:"Soul Eater",type:"MOB",icon:460,x:17,y:60},{mapid:28,
name:"Death Energy",type:"MOB",icon:462,x:39,y:75},{mapid:28,name:"Death Energy",type:"MOB",icon:462,x:41,y:81},{mapid:28,name:"Death Energy",type:"MOB",icon:462,x:50,y:79},{mapid:28,name:"Death Shadow",type:"MOB",icon:461,x:61,y:62},{mapid:28,name:"Death Shadow",type:"MOB",icon:461,x:69,y:59},{mapid:28,name:"Death Shadow",type:"MOB",icon:461,x:66,y:52},{mapid:28,name:"Cyclops Ghost",type:"MOB",icon:459,x:47,y:42},{mapid:28,name:"Cyclops Ghost",type:"MOB",icon:459,x:38,y:38},{mapid:28,name:"Cyclops Ghost",
type:"MOB",icon:459,x:47,y:30},{mapid:28,name:"Blood Eagle",type:"BOSS",cblevel:1E4,x:43,y:58},{mapid:28,name:"Campfire",type:"POI",x:65,y:83},{mapid:28,name:"Campfire",type:"POI",x:73,y:26},{mapid:28,name:"Campfire",type:"POI",x:31,y:20},{mapid:28,name:"Campfire",type:"POI",x:15,y:70},{mapid:28,name:"Campfire",type:"POI",x:38,y:49},{mapid:28,name:"Campfire",type:"POI",x:35,y:68},{mapid:28,name:"Campfire",type:"POI",x:53,y:67},{mapid:28,name:"Campfire",type:"POI",x:54,y:48},{mapid:28,name:"Iron",
description:"25 mining",icon:"pick",type:"RESOURCE",x:72,y:77},{mapid:28,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:86,y:57},{mapid:28,name:"Iron",description:"25 mining",icon:"pick",type:"RESOURCE",x:71,y:20},{mapid:28,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:71,y:87},{mapid:28,name:"Iron Vein",description:"25 mining",icon:"steelpick",type:"RESOURCE",x:82,y:42},{mapid:28,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:56,
y:17},{mapid:28,name:"Coal",description:"40 mining",icon:"pick",type:"RESOURCE",x:35,y:15},{mapid:28,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:63,y:76},{mapid:28,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:30,y:17},{mapid:28,name:"Coal Vein",description:"40 mining",icon:"steelpick",type:"RESOURCE",x:11,y:31},{mapid:28,name:"Dragonstone",description:"110 mining",icon:"pick",type:"RESOURCE",x:84,y:75},{mapid:28,name:"Dragonstone",description:"110 mining",
icon:"pick",type:"RESOURCE",x:8,y:85},{mapid:28,name:"Dragonstone Vein",description:"110 mining",icon:"steelpick",type:"RESOURCE",x:81,y:77},{mapid:28,name:"Dragonstone Vein",description:"110 mining",icon:"steelpick",type:"RESOURCE",x:12,y:91},{mapid:28,name:"Chest",description:"Store your items",type:"STORAGE",x:34,y:49},{mapid:29,name:"Chest",description:"Store your items",type:"STORAGE",x:87,y:64},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:78,y:88},{mapid:29,name:"Burning Cyclops Lord",
type:"MOB",icon:454,x:90,y:93},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:85,y:84},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:68,y:90},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:58,y:84},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:46,y:84},{mapid:29,name:"Burning Cyclops Lord",type:"MOB",icon:454,x:44,y:94},{mapid:29,name:"Burning Cyclops",type:"MOB",icon:453,x:76,y:78},{mapid:29,name:"Burning Cyclops",type:"MOB",icon:453,x:79,y:64},
{mapid:29,name:"Burning Cyclops",type:"MOB",icon:453,x:68,y:71},{mapid:29,name:"Burning Cyclops",type:"MOB",icon:453,x:62,y:80},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:38,y:82},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:28,y:85},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:24,y:88},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:17,y:89},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:79,y:48},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,
x:77,y:37},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:87,y:38},{mapid:29,name:"Demonic Minotaur",type:"MOB",icon:455,x:87,y:29},{mapid:29,name:"Cyclops Battlemage",type:"MOB",icon:452,x:80,y:25},{mapid:29,name:"Cyclops Battlemage",type:"MOB",icon:452,x:79,y:15},{mapid:29,name:"Cyclops Battlemage",type:"MOB",icon:452,x:86,y:9},{mapid:29,name:"Cyclops Battlemage",type:"MOB",icon:452,x:77,y:7},{mapid:29,name:"Cyclops Battlemage",type:"MOB",icon:452,x:67,y:26},{mapid:29,name:"Holy Minotaur",
type:"MOB",icon:465,x:62,y:26},{mapid:29,name:"Holy Minotaur",type:"MOB",icon:465,x:65,y:15},{mapid:29,name:"Holy Minotaur",type:"MOB",icon:465,x:49,y:29},{mapid:29,name:"Holy Minotaur",type:"MOB",icon:465,x:49,y:19},{mapid:29,name:"Holy Minotaur",type:"MOB",icon:465,x:57,y:18},{mapid:29,name:"Holy Minotaur",type:"MOB",icon:465,x:44,y:8},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:37,y:32},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:25,y:40},{mapid:29,name:"Blood Minotaur",type:"MOB",
icon:464,x:28,y:30},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:18,y:35},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:25,y:28},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:21,y:20},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:24,y:8},{mapid:29,name:"Blood Minotaur",type:"MOB",icon:464,x:31,y:17},{mapid:29,name:"Ice Minotaur",type:"MOB",icon:466,x:24,y:45},{mapid:29,name:"Ice Minotaur",type:"MOB",icon:466,x:21,y:55},{mapid:29,name:"Ice Minotaur",type:"MOB",icon:466,
x:10,y:42},{mapid:29,name:"Death Observer",type:"MOB",icon:825,x:10,y:55},{mapid:29,name:"Dragon Hunter",type:"MOB",icon:463,x:20,y:71},{mapid:29,name:"Dragon Hunter",type:"MOB",icon:463,x:8,y:71},{mapid:29,name:"Dragon Hunter",type:"MOB",icon:463,x:9,y:83},{mapid:29,name:"Death Keeper",type:"MOB",icon:824,x:59,y:45},{mapid:29,name:"Death Guardian",type:"MOB",icon:823,x:47,y:57},{mapid:29,name:"Death Guardian",type:"MOB",icon:456,x:55,y:60},{mapid:29,name:"Death Warden",type:"MOB",icon:823,x:59,y:53},
{mapid:29,name:"Titan Minotaur",type:"BOSS",cblevel:10015,x:42,y:58},{mapid:29,name:"Abelsonite",description:"135 mining",icon:"pick",type:"RESOURCE",x:8,y:79},{mapid:29,name:"Campfire",type:"POI",x:35,y:87},{mapid:29,name:"Campfire",type:"POI",x:88,y:68},{mapid:29,name:"Campfire",type:"POI",x:89,y:26},{mapid:29,name:"Campfire",type:"POI",x:31,y:34},{mapid:29,name:"Campfire",type:"POI",x:12,y:78},{mapid:29,name:"Transfer to Dungeon III",type:"TRAVEL",x:44,y:29},{mapid:29,name:"Transfer to Dungeon III",
type:"TRAVEL",x:17,y:81},{mapid:29,name:"Transfer to Dungeon III",description:"Leads to Boss Blood Eagle",type:"TRAVEL",x:51,y:58},{mapid:30,name:"Ice Baby Griffin",type:"MOB",icon:476,x:16,y:24},{mapid:30,name:"Ice Baby Griffin",type:"MOB",icon:476,x:19,y:20},{mapid:30,name:"Ice Baby Griffin",type:"MOB",icon:476,x:17,y:41},{mapid:30,name:"Faith Baby Griffin",type:"MOB",icon:475,x:28,y:47},{mapid:30,name:"Faith Baby Griffin",type:"MOB",icon:475,x:59,y:19},{mapid:30,name:"Faith Baby Griffin",type:"MOB",
icon:475,x:13,y:67},{mapid:30,name:"Ice Griffin",type:"MOB",icon:478,x:49,y:56},{mapid:30,name:"Ice Griffin",type:"MOB",icon:478,x:49,y:83},{mapid:30,name:"Faith Griffin",type:"MOB",icon:477,x:63,y:41},{mapid:30,name:"Emerald Turtle",type:"MOB",icon:473,x:85,y:18},{mapid:30,name:"Sapphire Turtle",type:"MOB",icon:472,x:81,y:42},{mapid:30,name:"Ruby Turtle",type:"MOB",icon:474,x:78,y:75},{mapid:30,name:"Ruby Turtle",type:"MOB",icon:474,x:93,y:83},{mapid:30,name:"Emerald Worm",type:"MOB",icon:480,x:54,
y:91},{mapid:30,name:"Sand Worm",type:"MOB",icon:479,x:66,y:86},{mapid:30,name:"Amanita Mushroom",type:"MOB",icon:809,x:14,y:27},{mapid:30,name:"Amanita Mushroom",type:"MOB",icon:809,x:58,y:16},{mapid:30,name:"Campfire",type:"POI",x:86,y:32},{mapid:30,name:"Campfire",type:"POI",x:86,y:79},{mapid:30,name:"Campfire",type:"POI",x:45,y:92},{mapid:30,name:"Campfire",type:"POI",x:62,y:70},{mapid:30,name:"Campfire",type:"POI",x:59,y:9},{mapid:30,name:"Campfire",type:"POI",x:9,y:19},{mapid:30,name:"Campfire",
type:"POI",x:18,y:81},{mapid:30,name:"Sand",description:"1 mining",icon:"spade",type:"RESOURCE",x:79,y:85},{mapid:30,name:"Oak",description:"10 woodcutting",type:"RESOURCE",icon:"wood",x:81,y:64},{mapid:30,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:41,y:41},{mapid:30,name:"Transfer to Reval",type:"TRAVEL",x:85,y:95},{mapid:30,name:"Transfer to Moche I",type:"TRAVEL",x:91,y:55},{mapid:30,name:"Fletching Table",description:"Fletch Arrows Here",type:"POI",x:23,y:89},{mapid:30,
name:"Angry Giant Tortoise",type:"BOSS",cblevel:545,x:47,y:31},{mapid:30,name:"Giant Fire Elemental",description:"Challenge up to combat skill 80",type:"BOSS",cblevel:657,x:7,y:45},{mapid:31,name:"Chest",description:"Store your items",type:"STORAGE",x:40,y:18},{mapid:31,name:"Black Trumpet Mushroom",type:"MOB",icon:815,x:50,y:25},{mapid:31,name:"Black Trumpet Mushroom",type:"MOB",icon:815,x:16,y:10},{mapid:31,name:"Shadow Dragon",type:"MOB",icon:485,x:13,y:85},{mapid:31,name:"Shadow Dragon",type:"MOB",
icon:485,x:19,y:73},{mapid:31,name:"Undead Dragon",type:"MOB",icon:486,x:14,y:58},{mapid:31,name:"Undead Dragon",type:"MOB",icon:486,x:27,y:58},{mapid:31,name:"Undead Dragon",type:"MOB",icon:486,x:19,y:47},{mapid:31,name:"Underworld Lord",type:"MOB",icon:487,x:13,y:38},{mapid:31,name:"Underworld Lord",type:"MOB",icon:487,x:30,y:40},{mapid:31,name:"Soul Trapper",type:"MOB",icon:488,x:39,y:31},{mapid:31,name:"Soul Trapper",type:"MOB",icon:488,x:14,y:28},{mapid:31,name:"Ancient Wyvern",type:"MOB",icon:489,
x:16,y:13},{mapid:31,name:"Ancient Wyvern",type:"MOB",icon:489,x:28,y:17},{mapid:31,name:"Ancient Wyvern",type:"MOB",icon:489,x:55,y:20},{mapid:31,name:"Fire Elemental",type:"MOB",icon:482,x:72,y:20},{mapid:31,name:"Fire Elemental",type:"MOB",icon:482,x:89,y:20},{mapid:31,name:"Fire Elemental",type:"MOB",icon:482,x:83,y:32},{mapid:31,name:"Efreet Sultan",type:"MOB",icon:481,x:83,y:49},{mapid:31,name:"Efreet Sultan",type:"MOB",icon:481,x:94,y:44},{mapid:31,name:"Fire Overlord",type:"MOB",icon:483,
x:90,y:66},{mapid:31,name:"Fire Overlord",type:"MOB",icon:483,x:87,y:83},{mapid:31,name:"Flame Observer",type:"MOB",icon:484,x:70,y:28},{mapid:31,name:"Flame Observer",type:"MOB",icon:484,x:54,y:38},{mapid:31,name:"Flame Observer",type:"MOB",icon:484,x:30,y:73},{mapid:31,name:"Raguel The Archangel",type:"BOSS",cblevel:2090,x:27,y:88},{mapid:31,name:"Campfire",type:"POI",x:81,y:12},{mapid:31,name:"Campfire",type:"POI",x:93,y:57},{mapid:31,name:"Campfire",type:"POI",x:14,y:65},{mapid:31,name:"Campfire",
type:"POI",x:46,y:18},{mapid:31,name:"Campfire",type:"POI",x:36,y:54},{mapid:31,name:"Void Outpost",type:"CITY",x:41,y:20},{mapid:31,name:"Transfer to Blood River",type:"TRAVEL",x:78,y:82},{mapid:31,name:"Transfer to Clouds",type:"TRAVEL",x:8,y:67},{mapid:31,name:"Tower Of Nature Door",description:"Enter Nature Tower",type:"TRAVEL",x:40,y:84},{mapid:31,name:"Tower Of Ice Door",description:"Enter Ice Tower",type:"TRAVEL",x:49,y:95},{mapid:31,name:"Tower Of Fire Door",description:"Enter Fire Tower",
type:"TRAVEL",x:60,y:97},{mapid:35,name:"Transfer to Star of Knowledge",type:"TRAVEL",x:85,y:18},{mapid:35,name:"Transfer to Witches II",type:"TRAVEL",x:14,y:59},{mapid:35,name:"Transfer to Witches II",type:"TRAVEL",x:36,y:81},{mapid:35,name:"Transfer to Witches II",type:"TRAVEL",x:46,y:54},{mapid:35,name:"Transfer to Witches II",type:"TRAVEL",x:82,y:58},{mapid:35,name:"Transfer to Witches II",type:"TRAVEL",x:55,y:24},{mapid:35,name:"Campfire",type:"POI",x:88,y:15},{mapid:35,name:"Campfire",type:"POI",
x:10,y:12},{mapid:35,name:"Campfire",type:"POI",x:16,y:53},{mapid:35,name:"Campfire",type:"POI",x:15,y:80},{mapid:35,name:"Campfire",type:"POI",x:56,y:47},{mapid:35,name:"Campfire",type:"POI",x:42,y:62},{mapid:35,name:"Campfire",type:"POI",x:65,y:80},{mapid:35,name:"Campfire",type:"POI",x:87,y:93},{mapid:35,name:"Campfire",type:"POI",x:15,y:80},{mapid:35,name:"Campfire",type:"POI",x:31,y:36},{mapid:35,name:"Campfire",type:"POI",x:80,y:42},{mapid:35,name:"Fletching Table",description:"Fletch Arrows Here",
type:"POI",x:40,y:78},{mapid:35,name:"Cactus",description:"5 woodcutting",type:"RESOURCE",icon:"wood",x:43,y:75},{mapid:35,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:41,y:82},{mapid:35,name:"Maple",description:"35 woodcutting",icon:"wood",type:"RESOURCE",x:37,y:84},{mapid:35,name:"Spirit Log",description:"45 woodcutting",icon:"wood2",type:"RESOURCE",x:50,y:80},{mapid:35,name:"Blue Palm",description:"55 woodcutting",icon:"wood2",type:"RESOURCE",x:45,y:72},{mapid:35,name:"Magic Oak",
description:"65 woodcutting",icon:"wood2",type:"RESOURCE",x:43,y:83},{mapid:35,name:"Ice Mummy",type:"MOB",icon:165,x:53,y:62},{mapid:35,name:"Ice Giant",type:"MOB",icon:54,x:59,y:76},{mapid:35,name:"Ice Lizard",type:"MOB",icon:55,x:74,y:89},{mapid:35,name:"Wind Protector",type:"MOB",icon:58,x:34,y:41},{mapid:35,name:"Snow Troll Assassin",type:"MOB",icon:70,x:23,y:29},{mapid:35,name:"Snow Gungan Lord",type:"MOB",icon:73,x:13,y:17},{mapid:35,name:"steel harpoon spot [level 63]",description:"63 fishing",
type:"RESOURCE",icon:"steelharp",x:15,y:56},{mapid:35,name:"Frozen Spirit",type:"MOB",icon:57,x:19,y:47},{mapid:35,name:"Night Hag",type:"MOB",icon:705,x:79,y:38},{mapid:35,name:"Thunder Angel",type:"MOB",icon:269,x:71,y:62},{mapid:35,name:"steel harpoon spot [level 63]",description:"63 fishing",type:"RESOURCE",icon:"steelharp",x:82,y:42},{mapid:35,name:"Ancient Hydra",type:"BOSS",cblevel:1E3,x:46,y:31},{mapid:35,name:"Soul Trapper",type:"MOB",icon:488,x:48,y:25},{mapid:35,name:"Emerald Plant",type:"MOB",
icon:194,x:79,y:19},{mapid:35,name:"Poisonous Behemoth",type:"MOB",icon:193,x:64,y:33},{mapid:35,name:"Ice Elemental",type:"MOB",icon:316,x:47,y:48},{mapid:35,name:"Alligator",type:"MOB",icon:326,x:34,y:65},{mapid:35,name:"Barbarian Ghost",type:"MOB",icon:131,x:20,y:82},{mapid:35,name:"poseidon trident spot [level 95]",description:"95 fishing",type:"RESOURCE",icon:"trident",x:65,y:40},{mapid:36,name:"Chest",description:"Store your items",type:"STORAGE",x:48,y:37},{mapid:36,name:"Transfer to Witches I",
type:"TRAVEL",x:14,y:59},{mapid:36,name:"Transfer to Witches I",type:"TRAVEL",x:36,y:81},{mapid:36,name:"Transfer to Witches I",type:"TRAVEL",x:46,y:54},{mapid:36,name:"Transfer to Witches I",type:"TRAVEL",x:82,y:58},{mapid:36,name:"Transfer to Witches I",type:"TRAVEL",x:55,y:24},{mapid:36,name:"Void Tree",description:"85 woodcutting",icon:"wood2",type:"RESOURCE",x:86,y:73},{mapid:36,name:"Dragon's Blood Tree",description:"105 woodcutting",icon:"wood2",type:"RESOURCE",x:17,y:28},{mapid:36,name:"Omega Werewolf",
type:"MOB",icon:706,x:39,y:61},{mapid:36,name:"Omega Werewolf",type:"MOB",icon:706,x:43,y:78},{mapid:36,name:"Diablo",type:"BOSS",cblevel:800,x:20,y:35},{mapid:36,name:"Undead Dragon",type:"MOB",icon:486,x:25,y:27},{mapid:36,name:"Blood Spirit",description:"",type:"MOB",icon:281,x:43,y:78},{mapid:36,name:"Water Hag",type:"MOB",icon:703,x:64,y:28},{mapid:36,name:"Beta Werewolf",type:"MOB",icon:707,x:76,y:41},{mapid:36,name:"Soul Eater",type:"MOB",icon:460,x:80,y:62},{mapid:36,name:"Fire Overlord",
type:"MOB",icon:483,x:58,y:86},{mapid:36,name:"Fire Hag",type:"MOB",icon:704,x:18,y:89},{mapid:36,name:"Ent",type:"MOB",icon:323,x:9,y:75},{mapid:36,name:"Ent",type:"MOB",icon:323,x:24,y:64},{mapid:36,name:"Zeus",type:"MOB",icon:99,x:15,y:53},{mapid:37,name:"Chest",description:"Store your items",type:"STORAGE",x:42,y:57},{mapid:37,name:"Blood River",type:"TRAVEL",x:91,y:66},{mapid:37,name:"Star Of Knowledge Town",type:"CITY",x:42,y:57},{mapid:37,name:"Town Entrance",type:"TRAVEL",x:80,y:66},{mapid:37,
name:"Town Exit",type:"TRAVEL",x:45,y:53},{mapid:37,name:"Town Exit",type:"TRAVEL",x:29,y:60},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:90,y:75},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:91,y:87},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:47,y:93},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:40,y:93},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:9,y:71},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:9,y:56},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:16,y:17},{mapid:37,name:"Illusion Gate",
type:"TRAVEL",x:25,y:9},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:83,y:13},{mapid:37,name:"Illusion Gate",type:"TRAVEL",x:89,y:21},{mapid:37,name:"Water Hag",type:"MOB",icon:703,x:43,y:13},{mapid:37,name:"Water Hag",type:"MOB",icon:703,x:31,y:10},{mapid:37,name:"Fire Hag",type:"MOB",icon:704,x:88,y:60},{mapid:37,name:"Omega Werewolf",type:"MOB",icon:706,x:88,y:41},{mapid:37,name:"Cursed Skeleton",type:"MOB",icon:696,x:93,y:13},{mapid:37,name:"Beta Werewolf",type:"MOB",icon:707,x:70,y:13},{mapid:37,
name:"Beta Werewolf",type:"MOB",icon:707,x:59,y:9},{mapid:37,name:"Shadow Skeleton",type:"MOB",icon:695,x:11,y:23},{mapid:37,name:"Vengeful Skeleton",type:"MOB",icon:695,x:8,y:74},{mapid:37,name:"Dragon Hunter Skeleton",type:"MOB",icon:698,x:57,y:92},{mapid:37,name:"Mutated Skeleton",type:"MOB",icon:699,x:11,y:14},{mapid:37,name:"Shadow Ghoul",type:"MOB",icon:700,x:11,y:39},{mapid:37,name:"Cursed Ghoul",type:"MOB",icon:701,x:21,y:94},{mapid:37,name:"Royal Ghoul",type:"MOB",icon:702,x:85,y:89},{mapid:37,
name:"Parasol Mushroom",type:"MOB",icon:814,x:15,y:26},{mapid:37,name:"Parasol Mushroom",type:"MOB",icon:814,x:78,y:78},{mapid:37,name:"Willow",description:"20 woodcutting",icon:"wood",type:"RESOURCE",x:25,y:24},{mapid:38,name:"Chest",description:"Store your items",type:"STORAGE",x:32,y:18},{mapid:38,name:"Chest",description:"Store your items",type:"STORAGE",x:84,y:45},{mapid:38,name:"Chest",description:"Store your items",type:"STORAGE",x:67,y:94},{mapid:38,name:"Chest",description:"Store your items",
type:"STORAGE",x:14,y:86},{mapid:38,name:"Chest",description:"Store your items",type:"STORAGE",x:19,y:42},{mapid:38,name:"Fire Brain",type:"MOB",icon:734,x:80,y:53},{mapid:38,name:"Air Brain",type:"MOB",icon:733,x:66,y:83},{mapid:38,name:"Flash Brain",type:"MOB",icon:732,x:20,y:85},{mapid:38,name:"Earth Brain",type:"MOB",icon:731,x:21,y:48},{mapid:38,name:"Water Brain",type:"MOB",icon:730,x:43,y:25},{mapid:38,name:"Core",type:"MOB",icon:729,x:40,y:55},{mapid:38,name:"Core",type:"MOB",icon:729,x:55,
y:52},{mapid:38,name:"Water Altar",type:"POI",x:28,y:11},{mapid:38,name:"Earth Altar",type:"POI",x:13,y:38},{mapid:38,name:"Flash Altar",type:"POI",x:12,y:94},{mapid:38,name:"Air Altar",type:"POI",x:76,y:85},{mapid:38,name:"Fire Altar",type:"POI",x:93,y:49},{mapid:38,name:"Poisoned Altar",type:"POI",x:47,y:55},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:49,y:19},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:19,y:48},{mapid:39,name:"No man's land",
description:"PvP area",type:"TRAVEL",x:17,y:67},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:31,y:64},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:52,y:39},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:79,y:17},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:55,y:44},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:44,y:58},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",
x:27,y:77},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:79,y:64},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:37,y:83},{mapid:39,name:"No man's land",description:"PvP area",type:"TRAVEL",x:61,y:92},{mapid:39,name:"World Tree",type:"BOSS",cblevel:3775,x:91,y:12},{mapid:39,name:"Blood Crystal",description:"75 mining",icon:"steelpick",type:"RESOURCE",x:46,y:54},{mapid:39,name:"Silver Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:38,
y:78},{mapid:39,name:"Silver Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:74,y:47},{mapid:39,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:33,y:73},{mapid:39,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:58,y:48},{mapid:39,name:"Gold Vein",description:"45 mining",icon:"steelpick",type:"RESOURCE",x:69,y:54},{mapid:39,name:"Azurite",description:"60 mining",icon:"pick",type:"RESOURCE",x:21,y:9},{mapid:39,name:"Azurite",description:"60 mining",
icon:"pick",type:"RESOURCE",x:8,y:19},{mapid:39,name:"Azurite Vein",description:"60 mining",icon:"pick",type:"RESOURCE",x:39,y:40},{mapid:39,name:"Platinum Vein",description:"75 mining",icon:"steelpick",type:"RESOURCE",x:70,y:20},{mapid:39,name:"Campfire",type:"POI",x:14,y:16},{mapid:39,name:"Fire Stone",description:"80 mining",icon:"pick",type:"RESOURCE",x:77,y:26},{mapid:39,name:"Fire Stone Vein",description:"80 mining",icon:"pick",type:"RESOURCE",x:40,y:96},{mapid:39,name:"Dragonstone Vein",description:"110 mining",
icon:"pick",type:"RESOURCE",x:45,y:64},{mapid:39,name:"Dragonstone",description:"110 mining",icon:"pick",type:"RESOURCE",x:54,y:88},{mapid:39,name:"Redhodium Vein",description:"90 mining",icon:"steelpick",type:"RESOURCE",x:77,y:83},{mapid:39,name:"Edoylerite",description:"120 mining",icon:"pick",type:"RESOURCE",x:72,y:73},{mapid:39,name:"Edoylerite Vein",description:"120 mining",icon:"pick",type:"RESOURCE",x:81,y:85},{mapid:39,name:"Abelsonite Vein",description:"135 mining",icon:"pick",type:"RESOURCE",
x:93,y:92},{mapid:39,name:"Prince",type:"MOB",icon:276,x:93,y:88},{mapid:39,name:"Prince",type:"MOB",icon:276,x:87,y:57},{mapid:39,name:"Prince",type:"MOB",icon:276,x:33,y:89},{mapid:39,name:"Marquis",type:"MOB",icon:275,x:92,y:73},{mapid:39,name:"Marquis",type:"MOB",icon:275,x:85,y:33},{mapid:39,name:"Marquis",type:"MOB",icon:275,x:53,y:59},{mapid:39,name:"Marquis",type:"MOB",icon:275,x:8,y:86},{mapid:39,name:"King",type:"MOB",icon:277,x:67,y:76},{mapid:39,name:"King",type:"MOB",icon:277,x:71,y:39},
{mapid:39,name:"Knight",type:"MOB",icon:272,x:71,y:39},{mapid:39,name:"Knight",type:"MOB",icon:272,x:19,y:63},{mapid:39,name:"Knight",type:"MOB",icon:272,x:27,y:37},{mapid:39,name:"Knight",type:"MOB",icon:272,x:11,y:42},{mapid:39,name:"Knight",type:"MOB",icon:272,x:48,y:35},{mapid:39,name:"Earl",type:"MOB",icon:274,x:85,y:11},{mapid:39,name:"Earl",type:"MOB",icon:274,x:7,y:67},{mapid:39,name:"Baron",type:"MOB",icon:273,x:60,y:18},{mapid:39,name:"Baron",type:"MOB",icon:273,x:63,y:7},{mapid:39,name:"Baron",
type:"MOB",icon:273,x:12,y:55},{mapid:39,name:"Novice Knight",type:"MOB",icon:271,x:31,y:56},{mapid:39,name:"Novice Knight",type:"MOB",icon:271,x:41,y:29},{mapid:39,name:"Novice Knight",type:"MOB",icon:271,x:35,y:11},{mapid:41,name:"Drowned Beast",description:"35 mining",icon:"spade",type:"RESOURCE",x:32,y:84},{mapid:41,name:"Drowned Beast",description:"35 mining",icon:"spade",type:"RESOURCE",x:60,y:61},{mapid:41,name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",x:74,y:89},{mapid:41,
name:"Bones",description:"15 mining",icon:"spade",type:"RESOURCE",x:32,y:66},{mapid:41,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",icon:"bush",x:17,y:78},{mapid:41,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",icon:"bush",x:18,y:52},{mapid:41,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",icon:"bush",x:92,y:42},{mapid:41,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",icon:"bush",x:64,y:14},{mapid:41,name:"Kombu Seaweed",description:"20 farming",
type:"RESOURCE",icon:"bush",x:64,y:47},{mapid:41,name:"Pyropia Plant",description:"65 farming",type:"RESOURCE",icon:"bush",x:46,y:57},{mapid:41,name:"Pyropia Plant",description:"65 farming",type:"RESOURCE",icon:"bush",x:74,y:27},{mapid:41,name:"Pyropia Plant",description:"65 farming",type:"RESOURCE",icon:"bush",x:88,y:20},{mapid:41,name:"Palmaria Plant",description:"95 farming",type:"RESOURCE",icon:"bush",x:6,y:12},{mapid:41,name:"Palmaria Plant",description:"95 farming",type:"RESOURCE",icon:"bush",
x:26,y:12},{mapid:41,name:"Hydrilla",type:"MOB",icon:789,x:45,y:89},{mapid:41,name:"Hydrilla",type:"MOB",icon:789,x:61,y:92},{mapid:41,name:"Hydrilla",type:"MOB",icon:789,x:78,y:87},{mapid:41,name:"Hydrilla",type:"MOB",icon:789,x:69,y:50},{mapid:41,name:"Hydrilla",type:"MOB",icon:789,x:33,y:28},{mapid:41,name:"Capricorn",type:"MOB",icon:791,x:88,y:88},{mapid:41,name:"Capricorn",type:"MOB",icon:791,x:56,y:40},{mapid:41,name:"Capricorn",type:"MOB",icon:791,x:11,y:88},{mapid:41,name:"Water Milfoil",
type:"MOB",icon:790,x:84,y:74},{mapid:41,name:"Water Milfoil",type:"MOB",icon:790,x:32,y:86},{mapid:41,name:"Water Milfoil",type:"MOB",icon:790,x:85,y:42},{mapid:41,name:"Iridescent Milfoil",type:"MOB",icon:796,x:77,y:57},{mapid:41,name:"Iridescent Milfoil",type:"MOB",icon:796,x:84,y:26},{mapid:41,name:"Iridescent Milfoil",type:"MOB",icon:796,x:28,y:18},{mapid:41,name:"Lion Turtle",type:"MOB",icon:792,x:21,y:88},{mapid:41,name:"Lion Turtle",type:"MOB",icon:792,x:66,y:67},{mapid:41,name:"Lion Turtle",
type:"MOB",icon:792,x:8,y:47},{mapid:41,name:"Crystal Dragon",type:"MOB",icon:795,x:61,y:27},{mapid:41,name:"Crystal Dragon",type:"MOB",icon:795,x:11,y:30},{mapid:41,name:"Saint Dragon",type:"MOB",icon:794,x:40,y:57},{mapid:41,name:"Saint Dragon",type:"MOB",icon:794,x:76,y:12},{mapid:41,name:"Saint Dragon",type:"MOB",icon:794,x:16,y:11},{mapid:41,name:"Lost Spirit",type:"MOB",icon:797,x:23,y:60},{mapid:41,name:"Lost Spirit",type:"MOB",icon:797,x:57,y:13},{mapid:41,name:"Bloodworm",type:"MOB",icon:793,
x:31,y:71},{mapid:41,name:"Bloodworm",type:"MOB",icon:793,x:66,y:73},{mapid:41,name:"Bloodworm",type:"MOB",icon:793,x:22,y:41},{mapid:41,name:"Bloodworm",type:"MOB",icon:793,x:44,y:79},{mapid:41,name:"Chest",description:"Store your items",type:"STORAGE",x:52,y:85},{mapid:41,name:"Transfer to Fellin Island",description:"",type:"TRAVEL",x:70,y:93},{mapid:41,name:"Transfer to Atlantis",description:"",type:"TRAVEL",x:79,y:19},{mapid:42,name:"Leviathan",type:"MOB",icon:799,x:36,y:60},{mapid:42,name:"Leviathan",
type:"MOB",icon:799,x:5,y:44},{mapid:42,name:"Alpha Skinwalker",type:"MOB",icon:800,x:88,y:57},{mapid:42,name:"Alpha Skinwalker",type:"MOB",icon:800,x:47,y:52},{mapid:42,name:"Alpha Vampire",type:"MOB",icon:801,x:11,y:9},{mapid:42,name:"Alpha Vampire",type:"MOB",icon:801,x:87,y:10},{mapid:42,name:"Alpha Shapeshifter",type:"MOB",icon:802,x:14,y:87},{mapid:42,name:"Alpha Shapeshifter",type:"MOB",icon:802,x:74,y:94},{mapid:42,name:"Alpha Shapeshifter",type:"MOB",icon:802,x:44,y:87},{mapid:42,name:"Chest",
description:"Store your items",type:"STORAGE",x:3,y:57},{mapid:42,name:"Campfire",type:"POI",x:6,y:58},{mapid:42,name:"Campfire",type:"POI",x:3,y:94},{mapid:42,name:"Campfire",type:"POI",x:50,y:88},{mapid:42,name:"Campfire",type:"POI",x:73,y:31},{mapid:42,name:"Campfire",type:"POI",x:45,y:33},{mapid:42,name:"Transfer to Hell",description:"",type:"TRAVEL",x:68,y:27},{mapid:42,name:"Transfer to Heaven",description:"",type:"TRAVEL",x:46,y:94},{mapid:43,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",
icon:"bush",x:51,y:35},{mapid:43,name:"Kombu Seaweed",description:"20 farming",type:"RESOURCE",icon:"bush",x:95,y:18},{mapid:43,name:"Pyropia Plant",description:"65 farming",type:"RESOURCE",icon:"bush",x:45,y:47},{mapid:43,name:"Pyropia Plant",description:"65 farming",type:"RESOURCE",icon:"bush",x:9,y:21},{mapid:43,name:"Palmaria Plant",description:"95 farming",type:"RESOURCE",icon:"bush",x:20,y:86},{mapid:43,name:"Palmaria Plant",description:"95 farming",type:"RESOURCE",icon:"bush",x:91,y:65},{mapid:43,
name:"Obsidian Dragon",type:"MOB",icon:123,x:36,y:60},{mapid:43,name:"Obsidian Dragon",type:"MOB",icon:123,x:47,y:52},{mapid:43,name:"Obsidian Dragon",type:"MOB",icon:123,x:58,y:43},{mapid:43,name:"Medusa",type:"MOB",icon:122,x:40,y:32},{mapid:43,name:"Medusa",type:"MOB",icon:122,x:68,y:52},{mapid:43,name:"Medusa",type:"MOB",icon:122,x:60,y:63},{mapid:43,name:"Tomb Guardian",type:"MOB",icon:78,x:76,y:66},{mapid:43,name:"Tomb Guardian",type:"MOB",icon:78,x:67,y:89},{mapid:43,name:"Tomb Guardian",type:"MOB",
icon:78,x:81,y:83},{mapid:43,name:"Tomb Guardian",type:"MOB",icon:78,x:77,y:23},{mapid:43,name:"Atlantis Guardian",type:"MOB",icon:118,x:49,y:88},{mapid:43,name:"Atlantis Guardian",type:"MOB",icon:118,x:89,y:76},{mapid:43,name:"Atlantis Guardian",type:"MOB",icon:118,x:47,y:4},{mapid:43,name:"Atlantis Guardian",type:"MOB",icon:118,x:9,y:92},{mapid:43,name:"Atlantis Golem",type:"MOB",icon:92,x:89,y:76},{mapid:43,name:"Atlantis Golem",type:"MOB",icon:92,x:87,y:28},{mapid:43,name:"Atlantis Golem",type:"MOB",
icon:92,x:12,y:24},{mapid:43,name:"Atlantis Golem",type:"MOB",icon:92,x:30,y:83},{mapid:43,name:"Atlantis Golem",type:"MOB",icon:92,x:9,y:9},{mapid:43,name:"Electric Mushroom",type:"MOB",icon:816,x:27,y:14},{mapid:43,name:"Electric Mushroom",type:"MOB",icon:816,x:14,y:85},{mapid:43,name:"Electric Mushroom",type:"MOB",icon:816,x:63,y:15},{mapid:43,name:"Lord of Atlantis",type:"MOB",icon:80,x:6,y:41},{mapid:43,name:"Campfire",type:"POI",x:60,y:20},{mapid:43,name:"Chest",description:"Store your items",
type:"STORAGE",x:63,y:22},{mapid:43,name:"Transfer to Lost Relic",description:"",type:"TRAVEL",x:86,y:8}]};Mods.Newmap.POIfind=[];Mods.Newmap.POIfindMap=0;HUD.drawMinimap=function(){if(!minimap){getElem("mods_zone_buttondiv").style.visibility="hidden";Mods.Newmap.drawMinimap(!0);ctx.hud.fillStyle="rgba(255, 255, 255, 0.3)";ctx.hud.fillRect(5,14,76,4);ctx.hud.fillRect(81,14,4,76);ctx.hud.fillRect(5,90,80,4);ctx.hud.fillRect(5,18,4,72);ctx.globalAlpha=0;var b=[],c=[],f=timestamp(),k;for(k in players)"undefined"!=
typeof players[k]&&players[k].b_t==BASE_TYPE.PLAYER&&(players[k].me||95E3<players[k].ttl-f)&&(players[k].me?b.push({color:"#55FF55",i:players[k].i,j:players[k].j}):99==current_map&&"undefined"!=typeof players[0].temp.team&&players[k].temp.team==players[0].temp.team?c.push({color:"#11a8ea",i:players[k].i,j:players[k].j}):99==current_map&&"undefined"!=typeof players[0].temp.team&&players[k].temp.team!=players[0].temp.team?b.push({color:"red",i:players[k].i,j:players[k].j}):Contacts.are_friends(players[k].name)?
c.push({color:"yellow",i:players[k].i,j:players[k].j}):Contacts.is_ignored(players[k].name)?b.push({color:"#FFFFFF",i:players[k].i,j:players[k].j}):b.push({color:"#00BFFF",i:players[k].i,j:players[k].j}));for(k in c)b.push(c[k]);if("undefined"!==typeof Mods.Newmap&&"undefined"!==typeof Mods.Newmap.POIfind)if(Mods.Newmap.POIfindMap==current_map)for(k in Mods.Newmap.POIfind)b.push(Mods.Newmap.POIfind[k]);else Mods.Newmap.POIfind=[];for(k in b){col=b[k].color;d=translateTileToCoordinates(b[k].i+13,b[k].j-
9);a=3*map_increase;a=(Math.round((d.x-dest_x)/8)/1.01+.5|0)-a;d=14+Math.round((d.y-dest_y)/8);var g=!1,m=0,c=[{x:0,y:0},{x:-6,y:-3},{x:-6,y:3}],f=[{x:-1,y:0},{x:-5,y:-1},{x:-5,y:1}];2>a&&(m=Math.atan2(d-53.5,a-44.5),g=!0,d=44.5*(d-53.5)/(44.5-a)+53.5,a=0);16>d&&(g||(m=Math.atan2(d-53.5,a-44.5),g=!0),a=39.5*(a-44.5)/(53.5-d)+44.5,d=14);78<a&&(g||(m=Math.atan2(d-53.5,a-44.5),g=!0),d=-34.5*(d-53.5)/(44.5-a)+53.5,a=79);92<d&&(g||(m=Math.atan2(d-53.5,a-44.5),g=!0),a=-39.5*(a-44.5)/(53.5-d)+44.5,d=93);
if(g){var g=[{x:0,y:0},{x:0,y:0},{x:0,y:0}],n=[{x:0,y:0},{x:0,y:0},{x:0,y:0}],p=Math.cos(m),m=Math.sin(m),t;for(t in g)g[t].x=a+p*c[t].x-m*c[t].y,g[t].y=d+m*c[t].x+p*c[t].y,n[t].x=a+p*f[t].x-m*f[t].y,n[t].y=d+m*f[t].x+p*f[t].y;ctx.hud.closePath();ctx.hud.fillStyle="#000000";ctx.hud.beginPath();ctx.hud.moveTo(g[0].x+5,g[0].y+0);ctx.hud.lineTo(g[1].x+5,g[1].y+0);ctx.hud.lineTo(g[2].x+5,g[2].y+0);ctx.hud.fill();ctx.hud.closePath();ctx.hud.fillStyle=col;ctx.hud.beginPath();ctx.hud.moveTo(n[0].x+5,n[0].y+
0);ctx.hud.lineTo(n[1].x+5,n[1].y+0);ctx.hud.lineTo(n[2].x+5,n[2].y+0);ctx.hud.fill();ctx.hud.closePath()}else ctx.hud.fillStyle="#000000",ctx.hud.fillRect(a-2+5,d-2+0,4,4),ctx.hud.fillStyle=col,ctx.hud.fillRect(a-1+5,d-1+0,2,2)}"object"==typeof IMAGE_SHEET["guild_buildings.png"].sprite.imgs["minimap.png"]&&ctx.hud.drawImage(IMAGE_SHEET["guild_buildings.png"].sprite.imgs["minimap.png"],0,0)}};HUD.drawMinimapLarge=function(){Mods.Newmap.drawMinimapLarge();if(minimap){getElem("mods_zone_buttondiv").style.visibility=
"";Mods.Newmap.zonemapvisible=!1;var b=Mods.Newmap.FilterObj(Mods.Newmap.POI[0],{mapid:current_map});Mods.Newmap.HotSpots=[];var c,f,k;for(k in b){var g=Mods.Newmap.translateMapCoords(b[k].x+6,b[k].y-3),m=Math.round(g.x)/1.01+.5|0,g=14+Math.round(g.y);c=null;switch(b[k].type){case "CITY":f="#55FF55";b[k].icon="city";break;case "BOSS":f="red";b[k].icon="boss";break;case "MOB":f="transparent";c=npc_base[b[k].icon].img;var n=npc_base[b[k].icon];b[k].cblevel=npc_base[b[k].icon].params.combat_level;b[k].description=
n.temp.total_accuracy+"A, "+n.temp.total_strength+"S, "+n.temp.total_defense+"D, "+n.params.health+"Hp";break;case "POI":f="yellow";b[k].icon="poi";break;case "TRAVEL":f="#00FFFF";b[k].icon="travel";break;case "LOOT":f="white";b[k].icon="loot";break;case "RESOURCE":f="#F5A9E1";break;case "STORAGE":b[k].icon="chest";default:f="yellow"}switch(b[k].icon){case "spade":c=item_base[286].img;break;case "pick":c=item_base[23].img;break;case "steelpick":c=item_base[400].img;break;case "wood":c=item_base[22].img;
break;case "wood2":c=item_base[152].img;break;case "fish":c=item_base[7].img;break;case "ironrod":c=item_base[1036].img;break;case "net":c=item_base[124].img;break;case "cage":c=item_base[127].img;break;case "woodharp":c=item_base[125].img;break;case "trident":c=item_base[1397].img;break;case "steelharp":c=item_base[126].img;break;case "city":c={sheet:IMAGE_SHEET.MISC,x:2,y:7};break;case "boss":c=item_base[544].img;break;case "poi":c=item_base[1132].img;break;case "travel":c={sheet:IMAGE_SHEET.SICOS,
x:0,y:5};break;case "loot":c={sheet:IMAGE_SHEET.MISC,x:4,y:0};break;case "bush":c={sheet:IMAGE_SHEET.TOOLS,x:3,y:7};break;case "info":c={sheet:IMAGE_SHEET.ACTIONS,x:1,y:4};break;case "chest":c={sheet:IMAGE_SHEET.ACTIONS,x:0,y:7}}"transparent"!=f&&(ctx.hud.beginPath(),ctx.hud.arc(m,g,6,0,2*Math.PI,!1),ctx.hud.fillStyle=f,ctx.hud.fill(),ctx.hud.lineWidth=1,ctx.hud.strokeStyle="#000000",ctx.hud.stroke());var p=n=32;if(c){var t,r,v;"string"==typeof c.hash?(c.x=0,c.y=0,n=getBodyImgNoHalo(c.hash),t={img:[n],
tile_width:64,tile_height:54},t.url=n.toDataURL(),v=r=0,n=64,p=54):(t=IMAGE_SHEET[c.sheet],r=c.x,v=c.y,n=t.tile_width,p=t.tile_height);var u="transparent"==f?16:12;f=n/32*u;u*=p/32;ctx.hud.drawImage(t.img[0],r*t.tile_width,v*t.tile_height,n,p,m-f/2,g-u/2,f,u)}Mods.Newmap.HotSpots.push({x:m,y:g,desc:(c?"<div style='width:"+n+"px;height:"+p+'px;float:left;background:url("'+t.url+'") no-repeat scroll '+-c.x*t.tile_width+"px "+-c.y*t.tile_height+"px transparent;display: inline-block;margin: 0px;padding: 0px;'>&nbsp;</div>":
"")+b[k].type+": <b>"+_tn(b[k].name)+(b[k].cblevel?" ("+b[k].cblevel+")":"")+"</b><br/>"+(b[k].description?b[k].description:"")})}Mods.Newmap.BlinkPos("#55FF55");if(-1!=["Dungeon quest","No Man's Land","Cathedral","Every Man's Land","No Man's Dungeon"].indexOf(map_names[players[0].map]))for(var z in players)players[z].b_t!=BASE_TYPE.PLAYER||players[z].me||(g=Mods.Newmap.translateMapCoords(players[z].i+6,players[z].j-3),m=Math.round(g.x)/1.01+.5|0,g=14+Math.round(g.y),b=players[z].name,ctx.hud.font=
"9px Arial",ctx.hud.textAlign="center",ctx.hud.fillStyle="#000",ctx.hud.fillText(b,m-1,g-1),ctx.hud.fillStyle="yellow",ctx.hud.fillText(b,m,g));getElem("hud").addEventListener("mousemove",Mods.Newmap.MapCoords,!1)}};Mods.Newmap.ShowZone=function(){var b=new Image;window.world_map=b;b.onload=function(){b.style.width=last_updated.set_canvas_size_new_width+"px";b.style.height=last_updated.set_canvas_size_new_height+"px";b.style.zIndex=999999;b.style.position="absolute";wrapper.appendChild(b);b.onclick=
function(){wrapper.removeChild(b);window.world_map=void 0}};b.src=cdn_s3+"world_map_2021_march.png"};Mods.Newmap.BlinkPosTimeout=null;Mods.Newmap.BlinkPos=function(b,c,f){if(minimap&&!Mods.Newmap.zonemapvisible){var k=Mods.Newmap.translateMapCoords(players[0].i+6,players[0].j-3),g=Math.round(k.x)/1.01+.5|0,k=14+Math.round(k.y);if(!c&&!f)c=g,f=k,clearTimeout(Mods.Newmap.BlinkPosTimeout);else if(c!=g||f!=k)c=g,f=k,refreshHUD();ctx.hud.fillStyle=b;ctx.hud.fillRect(c-2,f-2,4,4);Mods.Newmap.BlinkPosTimeout=
setTimeout(function(){Mods.Newmap.BlinkPos("red"==b?"#55FF55":"red",c,f)},1E3)}};Mods.Newmap.translateMapCoords=function(b,c){return{x:c*half_tile_width_round+b*half_tile_width_round+dest_x,y:b*half_tile_height_round-c*half_tile_height_round+dest_y}};Mods.Newmap.FilterObj=function(b,c){return b.filter(function(b){return Object.keys(c).every(function(k){return b[k]==c[k]})})};Mods.Newmap.MouseTranslate=function(b,c){var f=width/wrapper.style.width.replace("px",""),k=height/wrapper.style.height.replace("px",
"");b=1.15*(b-(body_offset_x||0))*f-dest_x;c=(c-(body_offset_y||0))*k-dest_y;var k=2*b/tile_width,g=2*c/(1.18*tile_height),f=Math.round((k+g)/2)-1,k=Math.round((k-g)/2);return{i:f,j:k}};Mods.Newmap.MapCoords=function(b){var c=getElem("mods_newmap_coords"),f=getElem("mods_newmap_popup");b.clientX=b.clientX||b.pageX||b.touches&&b.touches[0].pageX;b.clientY=b.clientY||b.pageY||b.touches&&b.touches[0].pageY;var k=translateMousePositionToScreenPosition(b.clientX,b.clientY),g=Mods.Newmap.MouseTranslate(b.clientX,
b.clientY),m=Math.round(g.i)-9,g=Math.round(g.j)+7;-1<m&&-1<g&&101>m&&101>g&&(c.innerHTML=m+"/"+g);var m=!1,n;for(n in Mods.Newmap.HotSpots)if(5>Math.abs(k.x-Mods.Newmap.HotSpots[n].x)&&5>Math.abs(k.y-Mods.Newmap.HotSpots[n].y)){f.style.top=b.clientY-40-(body_offset_y||0)+"px";f.style.left=b.clientX+10-(body_offset_x||0)+"px";f.innerHTML=Mods.Newmap.HotSpots[n].desc;m=!0;break}c.style.visibility="";f.style.visibility=m?"":"hidden";if(!minimap||Mods.Newmap.zonemapvisible)getElem("hud").removeEventListener("mousemove",
Mods.Newmap.MapCoords,!1),c.style.visibility="hidden",f.style.visibility="hidden"};Mods.timestamp("newmap")};
Load.newmarket=function(){modOptions.newmarket.time=timestamp();Handlebars.registerHelper("market_offers_active",function(){return"undefined"!==typeof players[0].temp.active_offers?players[0].temp.active_offers:"0"});Handlebars.registerHelper("market_new_offers_warning",function(b){if("undefined"!==typeof players[0].temp.active_offers)return players[0].temp.active_offers===players[0].params.market_offers?b.fn(this):b.inverse(this)});Handlebars.registerHelper("select_states",function(b,f){if(f==Mods.Newmarket.states[b])return"selected='selected'"});
Mods.Newmarket.market_announce_template=function(){"undefined"==typeof CompiledTemplate.market_announce_template&&(CompiledTemplate.market_announce_template=Handlebars.compile("<div style='border: 1px solid #666; padding: 5px; margin-bottom: 5px; background-color: #111;'><span style='color: #FF0; font-weight: bold; padding-top: 3px; line-height: 20px;'>{{_tm 'Announces'}}: <span id='announce_queued_amount' style='color: #FFF;'>0</span></span><button class='market_select pointer scrolling_allowed' onclick='Mods.Newmarket.transaction_announce(&apos;announce&apos;)' style='font-size: 0.7em; float: right; margin-bottom: 8px;'>{{_tm 'Announce'}}!</button><button class='market_select pointer scrolling_allowed' onclick='Mods.Newmarket.transaction_announce(&apos;remove&apos;)' style='font-size: 0.7em; float: right;'>{{_t 'Cancel'}}</button><button class='market_select pointer scrolling_allowed' onclick='Mods.Newmarket.transaction_announce(&apos;select&apos;)' style='font-size: 0.7em; float: right;'>{{_tm 'Select All'}}</button><button id='announce_expand' class='market_select pointer scrolling_allowed' onclick='Mods.Newmarket.transaction_announce(&apos;expand&apos;)' style='font-size: 0.7em; float: right;'>{{_tm 'Expand'}}</button><table id='announce_queued_list' class='table scrolling_allowed hidden' style='text-align: center; min-width: 100%; max-width: 100%'><tbody><tr><th style='text-align: left; padding-bottom: 5px;' colspan='2'>{{_tm 'Queued Item'}}</th><th>{{_t 'To'}}</th><th style='text-align: right; padding-right: 3px;'>{{_t 'Remove'}}</th></tr>{{#each results}}<tr style='padding-top: 2px;'><td style='padding-right: 2px;'>{{#if this.type}}<div style='color: #0F0; padding-bottom: 8px;'>[{{_t 'Buy'}}]</div>{{else}}<div style='color: #0F0; padding-bottom: 8px'>[{{_t 'Sell'}}]</div>{{/if}}</td><td style='text-align: left; padding-top: 2px'>{{this.text}}</td><td style='padding-top: 2px;'>{{#if this.to}}{{this.to}}{{else}}<span style='color: #F2A2F2;'>$$</span>{{/if}}</td><td style='padding-left: 8px;'><button class='market_select pointer scrolling_allowed' onclick='Mods.Newmarket.transaction_remove_announce({{this.id}})' style='font-size: 0.7em; float: right;'>{{_t 'Remove'}}</button></td></tr>{{/each}}</tbody></table></div>"));
return CompiledTemplate.market_announce_template};Mods.Newmarket.transaction_announce=function(b){if(b="string"==typeof b?b:!1)switch(b){case "announce":b=getElem("announce_list");Mods.Newmarket.submitAnnouncement();Mods.Newmarket.announceList={};addClass(b,"hidden");b.innerHTML="&nbsp;";break;case "expand":b=getElem("announce_queued_list");var f=getElem("announce_expand");hasClass(b,"hidden")?(removeClass(b,"hidden"),f.innerHTML=_tmi("Collapse")):(addClass(b,"hidden"),f.innerHTML=_tmi("Expand"));
break;case "select":var k=market_transaction_offers;b=0;for(f in k)k[f].count&&k[f].available&&(Mods.Newmarket.gatherAnnounce(k[f].id),b++);f=hasClass(getElem("announce_queued_list"),"hidden");getElem("announce_list").innerHTML=Mods.Newmarket.market_announce_template()({results:Mods.Newmarket.announceList});getElem("announce_queued_amount").innerHTML=b;null===f&&removeClass(getElem("announce_queued_list"),"hidden");break;case "remove":b=getElem("announce_list"),Mods.Newmarket.announceList={},addClass(b,
"hidden"),b.innerHTML="&nbsp;"}};Mods.Newmarket.transaction_remove_announce=function(b){delete Mods.Newmarket.announceList[b];b=0;for(var f in Mods.Newmarket.announceList)b++;0<b?(f=hasClass(getElem("announce_queued_list"),"hidden"),getElem("announce_list").innerHTML=Mods.Newmarket.market_announce_template()({results:Mods.Newmarket.announceList}),getElem("announce_queued_amount").innerHTML=b,null===f&&removeClass(getElem("announce_queued_list"),"hidden")):(getElem("announce_list").innerHTML="&nbsp;",
addClass(getElem("announce_list"),"hidden"))};Mods.Newmarket.offerFilter=function(b,f,k){if(void 0==item_base[b]||"number"!=typeof parseInt(f)||1>f||"number"!=typeof parseInt(k))return"";var g=_tn(item_base[b].name);b="{item:"+b+"}";var m={};m.clientText=formatLargeNumber(f,1)+" "+g+" "+_tm("for")+" "+formatLargeNumber(k,1)+(1<f?" "+_tm("ea"):"");m.sendText=formatLargeNumber(f,1)+" "+b+" for "+formatLargeNumber(k,1)+(1<f?" ea":"");return m};Mods.Newmarket.gatherAnnounce=function(b){var f=!1,k=market_transaction_offers,
g;for(g in k)if(k[g].id==b){k=k[g];f=!0;break}if(f&&0!==k.count&&0!==k.available){var f=k.id,m=k.to_player||!1,n=k.type,p=Mods.Newmarket.offerFilter(k.item_id,k.count,k.price),k=Mods.Newmarket.announceList;if(0!==p.sendText.length){k[b]={id:f,to:m,text:p.clientText,name:p.sendText,type:n};b=hasClass(getElem("announce_queued_list"),"hidden");getElem("announce_list").innerHTML=Mods.Newmarket.market_announce_template()({results:Mods.Newmarket.announceList});removeClass(getElem("announce_list"),"hidden");
null===b&&removeClass(getElem("announce_queued_list"),"hidden");b=0;for(g in k)b++;getElem("announce_queued_amount").innerHTML=b}}};Mods.Newmarket.clearAnnouncement=function(){var b=getElem("announce_list");Mods.Newmarket.announceList={};addClass(b,"hidden");b.innerHTML="&nbsp;";Mods.Newmarket.announces={messages:[],count:0}};Mods.Newmarket.submitAnnouncement=function(){var b,f,k,g,m,n,p,t,r,v,u;f=Mods.Newmarket.max_lines();b=Mods.Newmarket.announceList;k=Mods.Newmarket.announces.messages=[];g="[BUY] ";
m="[SELL] ";n={};var z=p=0,w=/{item:([0-9]+?)}/;for(r in b)t=w.exec(b[r].name),null!=t&&item_base[t[1]]&&"undefined"!=item_base[t[1]].name&&(z+=item_base[t[1]].name.length-t[0].length),!1!==b[r].to?(t=0===b[r].type?" [SELL] ":" [BUY] ",n[b[r].to]=n[b[r].to]||[],n[b[r].to].push(t+b[r].name)):1==b[r].type?160>b[r].name.length+g.length+z+3?g+=b[r].name+" | ":(k.push(g.slice(0,-3)),g="[BUY] "+b[r].name+" | ",z=0,p++):0===b[r].type&&(160>b[r].name.length+m.length+z+3?m+=b[r].name+" | ":(k.push(m.slice(0,
-3)),m="[SELL] "+b[r].name+" | ",z=0,p++));0<g.length-7&&(k.push(g.slice(0,-3)),z=0,p++);0<m.length-7&&(k.push(m.slice(0,-3)),z=0,p++);Mods.Newmarket.announces.count=p;b="";for(v in n){b=ChatSystem.chat_whisper_command_for_name(v)+"My offer:";for(u in n[v])160>b.length+n[v][u].length+6?b+=n[v][u]+", ":(b=capitaliseFirstLetter(b.slice(0,-2))+" is up.",k.push(b),b=ChatSystem.chat_whisper_command_for_name(v)+"My offer:");b=capitaliseFirstLetter(b.slice(0,-2))+" is up.";b.length>ChatSystem.chat_whisper_command_for_name(v).trim().length&&
k.push(b)}0!==k.length&&(k.sort(function(b,c){return/^\[BUY\]/.test(c)||/^\/w/.test(b)?1:/^\/w/.test(c)||/^\[BUY\]/.test(b)?-1:0}),0<p?Mods.Newmarket.allowTrade()?(f=_tmi("This Announcement uses {count} line.",{count:p})+" "+_tmi("You have {count} line available this hour. Post this Announcement?",{count:f-Mods.Newmarket.times.length}),Popup.prompt(f,Mods.Newmarket.submitAnnouncementCallback,Mods.Newmarket.clearAnnouncement)):(f=36E5+Mods.Newmarket.times[0]-timestamp(),f=Math.ceil(Math.round(f/6E4*
10)/10)+" "+_tm("minutes"),k=_tmi("You have used all announcement lines this hour."),k+=_tmi("You must wait at least {delay} before you can submit another offer.",{delay:f}),Popup.dialog(k,null_function)):Mods.Newmarket.submitAnnouncementCallback())};Mods.Newmarket.submitAnnouncementCallback=function(){var b=Mods.Newmarket.announces.messages,f,k=[!1,!1],g=1,m=100;if(0<b.length)for(f in b){var n=-1!=b[f].indexOf("/w");if(n||!0===Contacts.channels.$$)if(n||Mods.Newmarket.allowTrade()){var p=n?{data:b[f]}:
{data:b[f],lang:"$$"};2<g&&(m=2250);(function(b){setTimeout(function(){Socket.send("message",b)},m*(g-2))})(p);n||(Mods.Newmarket.times.push(timestamp()),LStorage.set("announceBlock",JSON.stringify(Mods.Newmarket.times)));g++}else k[1]||(n=36E5+Mods.Newmarket.times[0]-timestamp(),n=Math.ceil(Math.round(n/6E4*10)/10)+" "+_tm("Minutes").toLowerCase(),p=_tm("You have submitted {lines} or more offers within the last hour.",{lines:Mods.Newmarket.max_lines()}),p+=_tm("You must wait at least {delay} before you can submit another offer.",
{delay:n}),addChatText(p,void 0,COLOR.TEAL),k[1]=!0);else k[0]||(addChatText(_tm("You must be subscribed to [$$] to use the Announce feature. Go to: Filters - Channels - [$$] Subscribe."),void 0,COLOR.TEAL),k[0]=!0)}Mods.Newmarket.announceList={}};Mods.Newmarket.allowTrade=function(){for(var b=Mods.Newmarket.max_lines(),f=Mods.Newmarket.times.length;Mods.Newmarket.times[0]+36E5<timestamp();)Mods.Newmarket.times.splice(0,1);Mods.Newmarket.times.length!=f&&LStorage.set("announceBlock",JSON.stringify(Mods.Newmarket.times));
return Mods.Newmarket.times.length>=b?!1:!0};Mods.Newmarket.transaction_click=function(b){Mods.Newmarket.saveSelectValue();var f=getElem("market_drop_"+b).value;"delete"==f&&Market.client_cancel_offer(b);"resubmit"==f&&Market.client_extend_offer(b);"announce"==f&&Mods.Newmarket.gatherAnnounce(b);"edit"==f&&Mods.Newmarket.edit(b)};Mods.Newmarket.transaction_select=function(){var b=getElem("market_drop_default").value,f=market_transaction_offers,k;for(k in f){var g=f[k].id,m=getElem("market_drop_"+
g);"undefined"!=typeof b&&"number"==typeof g&&("delete"==b||"edit"==b?m.value=b:0<parseInt(f[k].count)&&(f[k].available&&"announce"==b?m.value=b:"resubmit"==b&&(m.value=b)))}Mods.Newmarket.saveSelectValue()};Mods.Newmarket.saveSelectValue=function(){var b=market_transaction_offers,f=Mods.Newmarket.states={},k;for(k in b){var g=getElem("market_drop_"+b[k].id);g&&g.value&&(f[b[k].id]=g.value)}f["default"]=getElem("market_drop_default").value};Mods.Newmarket.OwnedQuantity=function(b){return(b=Mods.findWithAttr(chest_content,
"id",b))&&0<chest_content[b].count?chest_content[b].count:0};Mods.Newmarket.MaxQuantity=function(b){if(b){var f=market_results.filter(function(f){return f.id==b});if(0<f.length){var k=f[0].item_id,g=f[0].count;0===f[0].type?getElem("market_offer_amount").value=g:(k=Mods.Newmarket.OwnedQuantity(k),getElem("market_offer_amount").value=k<g?k:g);Market.client_update_total_cost(f[0].id)}}else getElem("market_new_offer_amount").value=getElem("market_new_offer_count").innerText,Market.client_new_offer_update_total_cost()};
Mods.Newmarket.Tradetoggle=function(){var b=getElem("settings_tradechannel");switch(Mods.Newmarket.tradechatmode){case 0:b.innerHTML=_tmi("Trade Chat")+": "+_tmi("manual join");Mods.Newmarket.tradechatmode=1;break;default:b.innerHTML=_tmi("Trade Chat")+": "+_tmi("join automatically"),Mods.Newmarket.tradechatmode=0}LStorage.set("tradechatmode",JSON.stringify(Mods.Newmarket.tradechatmode))};Mods.Newmarket.next=function(){getElem("market_search_results").scrollTop=0;50==market_results.length&&("0"==
getElem("market_search_type").value?(getElem("market_search_min_price").value=market_results[market_results.length-1].price,getElem("market_search_max_price").value=""):(getElem("market_search_min_price").value="",getElem("market_search_max_price").value=market_results[market_results.length-1].price),Market.client_search())};Mods.Newmarket.togglepopup=function(){Mods.Newmarket.popup=!Mods.Newmarket.popup;LStorage.set("marketpopup",JSON.stringify(Mods.Newmarket.popup))};Mods.Newmarket.equippedinslot=
function(b){var f=players[0].temp.inventory,k;for(k in f)if(!0===f[k].selected&&item_base[f[k].id].params.slot==b)return f[k].id;return null};Mods.Newmarket.hidedetails=function(b){if(b=getElem("market_offer_popup"))b.style.visibility="hidden"};Mods.Newmarket.details=function(b){if(!Mods.Newmarket.popup){if(null===getElem("market_offer_popup")){var f=document.createElement("div");f.className="marketpopup menu";f.id="market_offer_popup";f.style.opacity="1";getElem("wrapper").appendChild(f)}var k=market_results.filter(function(f){return f.id==
b}),f=getElem("market_offer_popup"),g=new Date(k[0].available_until)-new Date,g=g/1E3,g=Math.floor(g/3600)+_tmi("Hour",{fn:"firstChar"})+" "+Math.floor(g%3600/60)+_tmi("Minute",{fn:"firstChar"}),m=item_base[k[0].item_id],n="<div style='"+Items.get_background_image(m.b_i)+"width: 32px;height: 32px;display: inline-block;margin: 0px;padding: 0px;float:left;'>&nbsp;</div>",n=n+"<table>";_tmi("Buying").toUpperCase();n+="<tr><td colspan=2>"+(0===k[0].type?"<span style='color:lightgreen'>["+_tmi("You are")+
" "+_tmi("Buying").toUpperCase()+"]":"<span style='color:orange'>["+_tmi("You are")+" "+_tmi("Selling").toUpperCase()+"]")+" <b>"+m.name+"</b></span></td></tr>";n+="<tr><td colspan=2 style='color:#3BEEEE'>"+Items.info(k[0].item_id)+"</td></tr>";if(1==k[0].type)var p=Mods.findWithAttr(chest_content,"id",k[0].item_id),p=p&&0<chest_content[p].count?chest_content[p].count:0,n=n+("<tr><td style='color:#CCC'>"+_tmi("You own")+":</td><td style='color:"+(0<p?"#00FF00'>":"#FF0000'>")+p+"</td></tr>");else m.b_t!=
ITEM_CATEGORY.WEAPON&&m.b_t!=ITEM_CATEGORY.ARMOR&&m.b_t!=ITEM_CATEGORY.JEWELRY&&m.b_t!=ITEM_CATEGORY.PET||!m.params.wearable||(p=Mods.Newmarket.equippedinslot(m.params.slot))&&(n+="<tr><td colspan=2 style='color:#F3A7BD'>"+Items.info(p)+"<br/>"+_tmi("Comparing")+": "+item_base[p].name+"</td></tr>");n+="<tr><td style='color:#CCC'>"+_tmi("Dealer")+":</td><td style='color:"+(Contacts.are_friends(k[0].player)?"#FFFF00'>("+_tmi("friend")+") ":"'>")+k[0].player+"</td></tr>";n+="<tr><td style='color:#CCC'>"+
_tmi("Expires in")+":</td><td>"+g+"</td></tr><tr><td style='color:#CCC'>"+_tmi("Price",{ns:"interface"})+":</td><td>"+thousandSeperate(k[0].display_price)+" "+_tmi("vs")+" "+thousandSeperate(m.params.price)+" ("+_tmi("wiki")+") = "+Math.round(k[0].display_price/m.params.price*100)+"%</td></tr>";n+="<tr><td style='color:#CCC'>"+_tmi("Quantity")+":</td><td>"+k[0].count+" ("+_tmi("total")+" "+thousandSeperate(k[0].count*k[0].display_price)+" "+_tmi("coins")+")</td></tr>";f.innerHTML=n+"</table>";k=getElem("market");
f.style.position="absolute";f.style.zIndex="310";f.style.left=k.offsetLeft-25+"px";f.style.top=k.offsetTop-25+"px";f.style.visibility=""}};Mods.Newmarket.edit=function(b){var f=market_transaction_offers.filter(function(f){return f.id==b});if(0<f.length){var k=f[0].type,g=f[0].item_id,m=null===f[0].to_player?"":f[0].to_player,n=f[0].price,p=f[0].count;Market.client_cancel_offer(b);setTimeout(function(){Market.open();Market.client_new_offer();getElem("market_new_offer_search_type").value=k;Market.client_update_new_offer_items();
"1"==k?getElem("market_offer_item_input").value=item_base[g].name:getElem("market_new_offer_items_item").value=g;Market.client_update_new_offer_item_change();getElem("market_offer_player").value=m;getElem("market_new_offer_price").value=n;getElem("market_new_offer_amount").value=p;Market.client_new_offer_update_total_cost()},1E3)}};Mods.Newmarket.eventListener={keys:{keydown:[KEY_ACTION.SEND_CHAT]},fn:function(b,f,k){"keydown"==b&&GAME_STATE==GAME_STATES.CHAT&&"$$"==getElem("current_channel").value&&
k==KEY_ACTION.SEND_CHAT&&0<getElem("my_text").value.length&&!/^\//.test(getElem("my_text").value)&&((b=Player.has_lower_permissions(players[0].name),b||Mods.Newmarket.allowTrade())?b||(Mods.Newmarket.times.push(timestamp()),LStorage.set("announceBlock",JSON.stringify(Mods.Newmarket.times))):(getElem("my_text").value="",b=36E5+Mods.Newmarket.times[0]-timestamp(),b=Math.ceil(Math.round(b/6E4*10)/10)+" "+_tm("minutes"),addChatText(_tm("You have submitted {num} or more offers within the last hour. You must wait at least {time} before you can submit another offer.",
{num:Mods.Newmarket.max_lines(),time:b}),void 0,COLOR.TEAL)))}};Mods.Newmarket.socketOn={actions:["market_transaction_offers","login"],fn:function(b,f){if("market_transaction_offers"==b){var k,g,m;hasClass(getElem("market"),"hidden")||Timers.set("confirm_submit",function(){Mods.Newmarket.checkSubmit(!0);Timers.clear("confirm_submit")},1E3);k=Mods.Newmarket.announceList;g=0;for(m in k)g++;0<g&&(getElem("announce_list").innerHTML=Mods.Newmarket.market_announce_template()({results:Mods.Newmarket.announceList}),
getElem("announce_queued_amount").innerHTML=g,removeClass(getElem("announce_list"),"hidden"))}}};Mods.Newmarket.resubmit=function(b){if(!(Timers.running("checkSubmit")||0<Mods.Newmarket.submitHolder.length)){var f=market_transaction_offers.filter(function(f){return f.id==b});if(0<f.length){Mods.Newmarket.submitHolder.push(f[0]);var k=market_transaction_offers.filter(function(b){return b.item_id==f[0].item_id&&b.type==f[0].type&&b.to_player==f[0].to_player&&b.price==f[0].price&&b.count==f[0].count});
Mods.Newmarket.submitHolder[0].likeoff=k.length;Mods.Newmarket.submitHolder[0].timer=0;Market.client_cancel_offer(b);Timers.clear("checkSubmit")}}};Mods.Newmarket.checkSubmit=function(b,f){var k=Mods.Newmarket.submitHolder;if(0===k.length||k[0]&&void 0==k[0].id||k[0]&&0<k[0].timer){var g=!0;if(k[0]&&0<k[0].timer){var m=market_transaction_offers.filter(function(b){return b.item_id==k[0].item_id&&b.type==k[0].type&&b.to_player==k[0].to_player&&b.price==k[0].price&&b.count==k[0].count});m.length>=k[0].likeoff&&
(g=!1)}if(g){0!==k.length&&(Mods.consoleLog("resubmit failed: timeout"),addChatText(_tm("Failed to resubmit"),void 0,COLOR.TEAL));Mods.Newmarket.submitQueued=!1;Timers.clear("checkSubmit");Mods.Newmarket.submitHolder=[];return}}b&&(m=market_transaction_offers.filter(function(b){return b.item_id==k[0].item_id&&b.type==k[0].type&&b.to_player==k[0].to_player&&b.price==k[0].price&&b.count==k[0].count}),g=m.length>=k[0].likeoff?!0:!1,m=market_transaction_offers.filter(function(b){return b.id==k[0].id}),
g&&0===m.length?(g=""===k[0].to_player||null===k[0].to_player?_tm("Your offer for {amount} {item} was resubmitted.",{amount:k[0].count,item:item_base[k[0].item_id].name}):_tm("Your offer for {amount} {item} to {player} was resubmitted.",{amount:k[0].count,item:item_base[k[0].item_id].name,player:k[0].to_player}),addChatText(g,void 0,COLOR.TEAL),Mods.Newmarket.submitHolder=[],Mods.Newmarket.submitQueued=!1):0<m.length?(Mods.Newmarket.submitHolder=[],Mods.Newmarket.submitQueued=!1):(g=chests[0].filter(function(b){return b.id==
k[0].item_id}),m=0<g.length?parseInt(g[0].count):0,0<g.length&&m>=k[0].count&&(0<Mods.Newmarket.submitHolder.length&&setTimeout(function(){var b=Mods.Newmarket.submitHolder;0!==b.length&&Socket.send("market_make_new_offer",{type:b[0].type,item_id:b[0].item_id,to_player:null!==b[0].to_player?b[0].to_player:"",price:b[0].price,count:b[0].count,target_id:chest_npc.id})},100),Mods.Newmarket.submitHolder[0].timer+=1),k[0].id&&Timers.set("resubmit",function(){Market.client_transactions()},2E3*Mods.Newmarket.submitHolder[0].timer+
1500)))};Mods.Newmarket.max_lines=function(){return 2+players[0].params.market_offers/5*2};var b=Market.open;Market.open=function(c){Mods.Chestm.chest_search_hidden||getElem("chest_search").click();b(c)};(function(){getElem("market").style.overflowY="";getElem("market_search_results").style.overflowY="auto";getElem("market_search_results").style.overflowX="hidden";getElem("market_search_results").style.maxHeight="217px";var b=getElem("market_search_max_price").parentElement;document.getElementById("market_search_button").onclick=
function(){Market.client_search();getElem("market_search_results").scrollTop=0};var f=document.createElement("span");f.style.verticalAlign="middle";f.style.lineHeight="29px";f.style.fontSize="10px";f.style.position="absolute";f.style.whiteSpace="nowrap";f.innerHTML="<input type='checkbox' id='chk_enable_mktpopup' onclick='Mods.Newmarket.togglepopup();'> <label for='chk_enable_mktpopup' style='font-size:10px;'  title='"+_tm("Popup")+"'>"+_tmi("Popup")+"</label>";b.insertBefore(f,getElem("market_search_item").nextSibling);
getElem("chk_enable_mktpopup").checked=!Mods.Newmarket.popup;var f=document.createElement("span"),k=5<_tm("Next").length?!1:!0;f.innerHTML="<button onclick='Mods.Newmarket.next();' class='menu_button' style='height:29px;'>"+_tmi("Next")+(k?" &gt;&gt;":" ")+"</button>";b.appendChild(f);Mods.HandlebarsOverides.register("market_client_search_results_template","<table class='table scrolling_allowed' style='margin-bottom:10px;min-width:400px;'><tbody class='scrolling_allowed'><tr class='scrolling_allowed'><th style='padding-right:5px;'>{{_t 'Item'}}</th><th>{{_t 'Count'}}</th><th style='padding-left:5px;'>{{_t 'Price'}}</th><th>{{_t 'Player'}}</th></tr>{{#each results}}<tr class='{{this.classes}} scrolling_allowed {{#if this.to_player}}green{{/if}}' onclick='Market.client_open_offer({{this.id}})' onmouseenter='Mods.Newmarket.details({{this.id}})' onmouseleave='Mods.Newmarket.hidedetails()'>  <td item_id='{{this.item_id}}' class='scrolling_allowed'>{{item_name this.item_id}}</td>  <td style='text-align:center;' class='scrolling_allowed'>{{this.count}}</td>  <td class='scrolling_allowed'>{{item_price this.display_price}}</td>  <td class='scrolling_allowed'>{{this.player}}</td></tr>{{/each}}</tbody></table>",
!0);Mods.HandlebarsOverides.register("market_client_transaction_offers_template","<div id='announce_list' style='margin-top:15px;' class='hidden'>&nbsp;</div><div style='position:relative;'><select id='market_drop_default' class='select_button pointer scrolling allowed' style='width:70px; position:absolute; top:-1px; right:-1px; font-weight:bold;' onchange='Mods.Newmarket.transaction_select()'> <option class='scrolling_allowed' value='delete'{{select_states 'default' 'delete'}}>{{_t 'Delete'}}</option><option class='scrolling_allowed' value='resubmit'{{select_states 'default' 'resubmit'}}>{{_tm 'Resubmit'}}</option><option class='scrolling_allowed' value='announce'{{select_states 'default' 'announce'}}>{{_tm 'Announce'}}</option><option class='scrolling_allowed' value='edit'{{select_states 'default' 'edit'}}>{{_tm 'Edit'}}</option></select></div>{{_t 'Offers'}}<a title='Active offers / Maximum offers'><span style='margin-left:5px;padding:0px;{{#market_new_offers_warning}}color:red;{{/market_new_offers_warning}}' class='small_border_container' {{#can_upgrade_market_offers}}onclick='Market.upgrade_offers_dialog();'{{/can_upgrade_market_offers}}>{{market_offers_active}}/{{market_offers}}</span></a><table class='table scrolling_allowed' style='margin-top:15px;'><tbody><tr><th style='width:12%; text-align:center'>{{_t 'Type'}}</th><th style='width:15%; text-align:center;'>{{_t 'Item'}}</th><th style='width:4%'>#</th><th style='width:19%;'>{{_t 'Price'}}</th><th style='text-align:center; width:18%; padding-left:9px;'>{{_t 'To'}}</th><th style='width:21%; text-align:left; padding-left:9px; position:relative;'>{{_tm 'Select'}}</th><th style='width:10%;'></th></tr>{{#each results}}<tr class='scrolling_allowed {{this.classes}} {{#if this.available}}green{{else}}red{{/if}}' {{#if this.available}}{{#if this.count}}{{else}}style='color:yellow'{{/if}}{{/if}}><td class='scrolling_allowed' style='vertical-align:middle; text-align:center;'>{{#if this.type}}{{_t 'Buy'}}{{else}}{{_t 'Sell'}}{{/if}}</td><td class='scrolling_allowed' style='vertical-align:middle; position:relative;'><div title='{{item_name this.item_id}}' item_id='{{this.item_id}}' style='{{item_image this.item_id}} width:32px; height:32px; display:inline-block; margin:0px; margin-left:14px; padding:0px; float:left; '></div></td><td class='scrolling_allowed' style='vertical-align:middle'>{{this.count}}</td><td class='scrolling_allowed' style='vertical-align:middle;'>{{shorten_numbers this.price}}</td><td class='scrolling_allowed' style='{{#if this.to_player}}{{#check this.to_player.length '>' 14}}font-size:12px;{{/check}}{{/if}}vertical-align:middle; text-align:left; padding-left:12px;'>{{#if this.to_player}}{{this.to_player}}{{else}}{{_t 'Everybody'}}{{/if}}</td><td class='scrolling_allowed' style='text-align:left; position:relative;'><select id='market_drop_{{this.id}}' class='select_button pointer scrolling allowed' style='margin:0px; margin-left:9px; width:70px; position: absolute; top: 25%;'><option class='scrolling_allowed' value='delete'{{select_states this.id 'delete'}}>{{_t 'Delete'}}</option>{{#if this.count}}<option class='scrolling_allowed' value='resubmit'{{select_states this.id 'resubmit'}}>{{_tm 'Resubmit'}}</option>{{#if this.available}}<option class='scrolling_allowed' value='announce'{{select_states this.id 'announce'}}>{{_tm 'Announce'}}</option>{{/if}}{{/if}}<option class='scrolling_allowed' value='edit'{{select_states this.id 'edit'}}>{{_tm 'Edit'}}</option></select></td><td class='scrolling_allowed' style='text-align:center; position:relative'><button class='menu_button scrolling_allowed' onclick='Mods.Newmarket.transaction_click({{this.id}})' style='position: absolute; left: 6px; top: 25%;'>{{_tm 'Go'}}</button></td></tr>{{/each}}</tbody></table>",
!0);Mods.HandlebarsOverides.register("market_client_new_offer_template","{{#market_new_offers_warning}}<div class='small_border_container' style='position:absolute;display:float;margin-top:8px;z-index:999;color:rgb(243, 167, 189);padding:4px;width:94%;' {{#can_upgrade_market_offers}}onclick='Market.upgrade_offers_dialog();'{{/can_upgrade_market_offers}}>{{_te 'You have too many active offers!'}} ({{market_offers_active}}/{{market_offers}}) {{#can_upgrade_market_offers}}{{_t 'Upgrade'}}{{/can_upgrade_market_offers}}</div>{{/market_new_offers_warning}}<table style='text-align: left;width: 100%;margin: 0px;margin-top: 10px;' class='table'><tbody><tr class='offer_line'><td>{{_t 'Type'}}</td><td><select id='market_new_offer_search_type' onchange='Market.client_update_new_offer_items();' class='select_button pointer'><option <option value='0'>{{_t 'Sell'}}</option><option value='1'>{{_t 'Buy'}}</option></select></td></tr><tr class='offer_line even'><td style='min-width: 96px;'>{{_t 'Item'}}</td><td id='market_new_offer_items'></td></tr><tr class='offer_line'><td>{{_t 'To'}}</td><td><input autocomplete='off' type='text' class='small_border_container' placeholder='{{__t 'Everybody'}}' data-tp='Everybody' id='market_offer_player' list='player_datalist'/></td></tr><tr class='offer_line even'><td>{{_t 'Price'}}</td><td><input type='number' id='market_new_offer_price' onchange='Market.client_new_offer_update_total_cost();' class='small_border_container'/></td></tr><tr class='offer_line'><td>{{_tm 'Amount'}}</td><td><input id='market_new_offer_amount' type='number' autocomplete='off' style='width:85px;' value='1' class='small_border_container' onchange='Market.client_new_offer_update_total_cost();'> {{_t 'of'}} <span id='market_new_offer_count'>0</span> <button onclick='javascript:Market.set_max_amount()' class='menu_button' style='margin: 0px;font-weight: bold;'>{{_t 'Max'}}</button></td></tr><tr class='offer_line even'><td>{{_t 'Total cost'}}</td><td><b id='market_new_offer_total_cost'>0</b></td></tr><tr style='margin-bottom:9px;height:30px;'><td></td><td><button onclick='javascript:Market.client_make_offer()' class='menu_button' style='margin:0px;font-weight: bold;'>{{_t 'Make offer'}}</button><div class='market_coin_container small_border_container'><span id='market_new_offer_player_coins'></span><div class='coins_icon' style='position: absolute; right: -2px; top: 3px;'></div></div></td></tr></tbody></table><span>* {{_t 'Each offer lasts 24 hours. You can have {amount} active offers.' amount='helper[market_offers]'}}{{#can_upgrade_market_offers}}<br/><button class='menu_button' onclick='Market.upgrade_offers_dialog();'>{{_t 'Upgrade'}}</button>{{/can_upgrade_market_offers}}</span>",
!0)})();Mods.timestamp("newmarket")};
Load.farming=function(){modOptions.farming.time=timestamp();Mods.Farming.loadDivs=function(){if(null===getElem("mods_farming_holder")){createElem("div",wrapper,{id:"mods_farming_holder",className:"menu",style:"position: absolute; display: none; z-index: 41;",innerHTML:Mods.Farming.farming_queue_template()});var b=6+("block"==getElem("magic_slots").style.display||"block"==getElem("quiver").style.display?42:0);if(Mods.Farming.last_height!=current_ratio_y||b!=Mods.Farming.last_left)Mods.Farming.last_height=current_ratio_y,
Mods.Farming.last_left=b,getElem("mods_farming_holder",{style:{left:b+"px",top:Math.ceil(105*current_ratio_y)+"px",width:"145px",fontSize:".7em"}});createElem("div",getElem("mods_farming_holder"),{id:"mods_farming_options",className:"menu",style:"position: absolute; display: none; z-index: 42;",innerHTML:Mods.Farming.farming_queue_option_template(),onclick:"Mods.Farming.queueOptions();"})}};Mods.Farming.loadDivs();Mods.Farming.lastCtrlTime=0;Mods.Farming.eventListener={keys:{keyup:[KEY_ACTION.CTRL],
keydown:[KEY_ACTION.CTRL,32]},fn:function(b,c,f){Mods.Farming.shouldDisplayQueue()&&("keyup"===b&&f===KEY_ACTION.CTRL&&50>timestamp()-Mods.Farming.lastCtrlTime&&Mods.Farming.ctrlHeld(!1),"keydown"===b&&(f===KEY_ACTION.CTRL&&(200<timestamp()-Mods.Farming.lastCtrlTime?Mods.Farming.ctrlHeld(!Mods.Farming.ctrlPressed):Mods.Farming.ctrlHeld(!0),Mods.Farming.lastCtrlTime=timestamp()),Mods.Farming.shouldDisplayQueue()&&32===c&&GAME_STATE!=GAME_STATES.CHAT&&(!1===Mods.Farming.queuePaused?Mods.Farming.pauseQueue(!1,
!1,!0):Mods.Farming.pauseQueue(!1,!1,!1))))}};Mods.Farming.lastMove=0;Mods.Farming.farmingActions={932:{slot:3,name:"Water"},933:{slot:3,name:"Spore"},332:{slot:4,name:"Rake"},333:{slot:3,name:"Seed"},water:{slot:3,name:"Water"},revive:{slot:3,name:"Revive"},harvest:{slot:3,name:"Harvest"}};moveInPath=function(b){if(!b.path||b.path&&0===b.path.length)return!1;b.me&&Mods.Farming.shouldDisplayQueue()&&Mods.Farming.options.mods_farming_opt_stop&&(1===Mods.Farming.queuePaused||Mods.Farming.ctrlPressed)?
(players[0].path=[],selected=selected_object={i:null,j:null}):Mods.Farming.oldMoveInPath(b)};Mods.Farming.queueOptions=function(b){if(!0===b){var c=getElem("mods_farming_options"),f=c.style.display;c.style.display="none"==f?"block":"none"}var k={mods_farming_opt_stop:!1,mods_farming_opt_equipped:!0},g=Mods.Farming.options,m;for(m in k)c=getElem(m),void 0==g[m]?(f=k[m],g[m]=f,c.checked=f):!1===b?c.checked=g[m]:(f=c.checked,g[m]=f);LStorage.set("farming_options",JSON.stringify(g))};Mods.Farming.queueOptions(!1);
Mods.Farming.findExtendedPath=function(b){if("object"===typeof b&&void 0!==b.i&&void 0!==b.j)b=map_increase,map_increase=200,players[0].path=Mods.Farming.oldfindpath(players[0],selected_object,players[0]),map_increase=b;else return[]};Mods.Farming.oldfindpath=function(b,c,f){if(minimap)return[];if(0==node_graphs[f.map].nodes[c.i][c.j].type){c=sortClosestTo(b,[{i:Math.max(c.i-1,0),j:c.j},{i:Math.min(c.i+1,map_size_x),j:c.j},{i:c.i,j:Math.max(c.j-1,0)},{i:c.i,j:Math.min(c.j+1,map_size_y)}]);for(c.reverse();0<
c.length&&0==node_graphs[f.map].nodes[c[c.length-1].i][c[c.length-1].j].type;)c.pop();if(0==c.length)return[];c=c[c.length-1]}b=astar.search(node_graphs[f.map].nodes,node_graphs[f.map].nodes[b.i][b.j],node_graphs[f.map].nodes[c.i][c.j]);if(0==b.length)return[];f=[];for(c=b.length-1;0<=c;c--)f.push({i:b[c].x,j:b[c].y});return f};Mods.Farming.ctrlHeld=function(b){Mods.Farming.ctrlPressed=!0===b?!0:!1;b=!0===b?1:!0;Mods.Farming.actionState();Mods.Farming.pauseQueue(null,!0,b)};Mods.Farming.last_ratio=
0;Mods.Farming.last_left=0;Mods.Farming.setCanvasSize=function(){getElem("mods_farming_holder",{style:{display:Mods.Farming.shouldDisplayQueue()?"block":"none",width:"145px",fontSize:".7em"}});getElem("mods_farming_queue").style.height=Math.round(120*current_ratio_y)+"px";getElem("mods_farming_options",{style:{display:Mods.Farming.shouldDisplayQueue()?getElem("mods_farming_options").style.display:"none",left:"159px",top:"-7px",width:"145px",fontSize:".7em",height:""}});var b=6+("block"==getElem("magic_slots").style.display||
"block"==getElem("quiver").style.display?42:0);if(Mods.Farming.last_height!=current_ratio_y||b!=Mods.Farming.last_left)Mods.Farming.last_height=current_ratio_y,Mods.Farming.last_left=b,getElem("mods_farming_holder",{style:{display:Mods.Farming.shouldDisplayQueue()?"block":"none",left:b+"px",top:Math.ceil(105*current_ratio_y)+"px",width:"145px",fontSize:".7em"}});Mods.Farming.shouldDisplayQueue()||Mods.Farming.cancelQueue()};Mods.Farming.onMapChange=function(b){getElem("mods_farming_holder").style.display=
Mods.Farming.shouldDisplayQueue()?"block":"none";my_map(players[0].map)||Mods.Farming.cancelQueue()};Mods.Farming.shouldDisplayQueue=function(){return-1!=[300,301].indexOf(parseInt(current_map))&&(my_island()||my_dungeon())};Mods.Farming.hideQueue=function(b,c){var f=getElem("mods_farming_queue"),k=b||getElem("mods_farming_opt_hide");Mods.Farming.queueHidden||c?(Mods.Farming.queueHidden=!1,f.style.display="",k.innerHTML="Hide queued window"):(Mods.Farming.queueHidden=!0,f.style.display="none",k.innerHTML=
"Show queued window")};Mods.Farming.actionState=function(){var b;b=Mods.Farming.ctrlPressed||1===Mods.Farming.queuePaused?"Queuing":!0===Mods.Farming.queuePaused?"Paused":"Active";getElem("mods_farming_action").innerHTML=b};Mods.Farming.pauseQueue=function(b,c,f){c?Mods.Farming.ctrlPressed||Timers.set("farm_check",function(b){Mods.Farming.checkQueue(0,b)},Math.min(Math.max(players[0].temp.animate_until-timestamp(),50),500)):Mods.Farming.ctrlPressed&&Mods.Farming.ctrlHeld(!1);b={"true":"1",1:"false",
"false":"true"};Mods.Farming.queuePaused=void 0!==b[f]?JSON.parse(b[f]):Mods.Farming.queuePaused;f=getElem("farming_queue_button");!0===Mods.Farming.queuePaused?(Mods.Farming.queuePaused=!1,Timers.set("farm_check",function(b){Mods.Farming.checkQueue(0,b)},Math.min(Math.max(players[0].temp.animate_until-timestamp(),50),100)),f.innerHTML="(queue)"):1===Mods.Farming.queuePaused?(Mods.Farming.queuePaused=!0,f.innerHTML="(resume)"):(Mods.Farming.queuePaused=1,f.innerHTML="(pause)",players[0].path=[]);
Mods.Farming.actionState()};Mods.Farming.addToQueue=function(b){if(players[0].params.island!==players[0].name)Mods.Farming.pauseQueue(!1,!1,!0);else if("object"==typeof b&&void 0!=b.id){var c=Mods.Farming.queue,f=b.b_i,k=b.id,g=b.name,m=b.i+"_"+b.j+"_"+f,n=333==f||332==f?1E3:2E3,p=Mods.Farming.canPerform(k,!1);p.action&&Mods.Farming.farmingActions[p.action]&&(c[m]={id:m,obj_id:k,item_id:f,i:b.i,j:b.j,delay:n,action:p.action},Mods.Farming.sortedQueue.push(m),getElem("mods_farming_queue").innerHTML+=
Mods.Farming.farming_queue_action_template({slot:m,action:capitaliseFirstLetter(_tm(Mods.Farming.farmingActions[p.action].name)),object:g,i:b.i,j:b.j}),(1==Mods.Farming.sortedQueue.length||!Timers.running("farm_queue")||5E3<timer_holder.farm_queue||0===players[0].path.length)&&Timers.set("farm_queue",function(b){Mods.Farming.performQueue(0,Mods.Farming.sortedQueue[0])},Math.max(players[0].temp.animate_until-timestamp(),50)),getElem("mods_farming_total").innerHTML=Mods.Farming.sortedQueue.length)}};
Mods.Farming.canPerform=function(b,c){if((null!==c?c:1)&&0===Mods.Farming.sortedQueue.length)return!1;var f=objects_data[b];if(void 0==f)return!1;var k=f.b_i,g=!1;if(!Mods.Farming.farmingActions[k]||753!=object_base[k].params.carpentry_item_id&&4243!=object_base[k].params.carpentry_item_id)object_base[k].params.duration&&(k=Farming.plant_ripe(f),m=Farming.plant_rotten(f),f=Inventory.get_watering_can_id(players[0]),Inventory.has_equipped(players[0],2807),k?g=m&&f?0<players[0].temp.water?{status:!0,
action:"revive"}:{status:1,action:"revive"}:40>players[0].temp.inventory.length?{status:!0,action:"harvest"}:{status:1,action:"harvest"}:!m&&f&&301!=current_map&&(g=0<players[0].temp.water?{status:!0,action:"water"}:{status:1,action:"water"}));else{var f=players[0].temp.inventory,m;for(m in f)if(f[m].selected&&item_base[f[m].id]){var n=!1;switch(k){case 332:if(-1<item_base[f[m].id].name.indexOf(Mods.Farming.farmingActions[k].name)||-1<item_base[f[m].id].name.indexOf("Multi-tool"))n=!0;break;case 333:Mods.Farming.isSeed(f[m].id)&&
(n=!0);break;case 932:if(-1<item_base[f[m].id].name.indexOf(Mods.Farming.farmingActions[k].name)||-1<item_base[f[m].id].name.indexOf("Multi-tool"))n=!0;break;case 933:Mods.Farming.isSpore(f[m].id)&&(n=!0)}if(n){g={status:!0,action:k};break}}g||!1!==Mods.Farming.options.mods_farming_opt_equipped||(g={status:1,action:k})}return g};Mods.Farming.performQueue=function(b,c){if(players[0].params.island===players[0].name){Mods.Farming.shouldDisplayQueue()||Mods.Farming.pauseQueue(!1,!1,!0);c="string"==typeof c?
c:Mods.Farming.sortedQueue[0]||null;var f=Mods.Farming.sortedQueue,k=Mods.Farming.queue,g=k[f[0]];if(!Mods.Farming.ctrlPressed&&!Mods.Farming.queuePaused)if(f["number"==typeof b?b:0]!=c)Mods.Farming.checkQueue(0,f[0]);else{var f=Mods.Farming.canPerform(g.obj_id),m="boolean"!=typeof f?f.status:f;"object"==typeof f&&"water"==k[c].action&&"harvest"==f.action&&(k[c].action="harvest");void 0==g||!0!==m?Mods.Farming.pauseQueue(!1,!1,!0):(k=objects_data[g.obj_id],void 0!=k&&k.i==g.i&&k.j==g.j&&(selected=
selected_object=k,Mods.Farming.findExtendedPath(selected_object),0===players[0].path.length&&ActionMenu.act(0),g=g.delay+Math.min(Math.max(players[0].temp.animate_until-timestamp(),50),200),0<players[0].path.length&&moveInPath(players[0]),Timers.set("farm_check",function(b,c){Mods.Farming.checkQueue(0,b)},g)))}}};Mods.Farming.checkQueue=function(b,c){if(players[0].params.island===players[0].name)if(100>timestamp()-Mods.Farming.lastMove||players[0].temp.busy||0<players[0].path.length||Captcha.active)Timers.set("farm_check",
function(){Mods.Farming.checkQueue()},100);else{Mods.Farming.lastMove=timestamp();b="number"==typeof b?b:0;c="string"==typeof c?c:Mods.Farming.sortedQueue[0]||null;var f=Mods.Farming.sortedQueue,k=Mods.Farming.queue[f[b]],g=void 0!==k?k.obj_id:null;0===f.length?Mods.Farming.cancelQueue():void 0==k?Mods.Farming.deleteFromQueue(b):"number"!=typeof b||"string"!=typeof c?Timers.set("farm_check",function(b){Mods.Farming.checkQueue(0,b)},Math.min(Math.max(players[0].temp.animate_until-timestamp(),50),500)):
(k=obj_g(on_map[current_map][k.i][k.j]),g!=k.id?Mods.Farming.deleteFromQueue(b,!0):inDistance(players[0].i,players[0].j,k.i,k.j)?(f=Mods.Farming.canPerform(g),void 0==g||"object"!==typeof f||!0!==f.status?Mods.Farming.pauseQueue(!1,!1,!0):(selected_object=k,ActionMenu.act(0),Mods.Farming.deleteFromQueue(b,!0))):f[b]==c?Mods.Farming.performQueue(b,c):0<f.length&&!Timers.running("farm_queue")&&Mods.Farming.performQueue(0,f[0]))}};Mods.Farming.deleteFromQueue=function(b,c){c=c||!1;var f=Mods.Farming.queue[Mods.Farming.sortedQueue[b]],
k=void 0!==f?f.obj_id:null,f=obj_g(on_map[current_map][f.i][f.j]);0<Mods.Farming.sortedQueue.length&&b<Mods.Farming.sortedQueue.length&&!Mods.Farming.queuePaused&&!Mods.Farming.ctrlPressed&&f.id!=k&&(k=Mods.Farming.sortedQueue[b],delete Mods.Farming.queue[k],Mods.Farming.sortedQueue.splice(b,1),null!==getElem("mods_farming_"+k)&&getElem("mods_farming_queue").removeChild(getElem("mods_farming_"+k)),c&&Mods.Farming.checkQueue(b,Mods.Farming.sortedQueue[b]),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},
2500),getElem("mods_farming_total").innerHTML=Mods.Farming.sortedQueue.length)};Mods.Farming.promptClear=function(){Popup.prompt(_ti("Are you sure?"),function(){Mods.Farming.cancelQueue()})};Mods.Farming.cancelQueue=function(){Timers.clear("farm_check");Timers.clear("farm_queue");Mods.Farming.queue={};Mods.Farming.sortedQueue=[];getElem("mods_farming_queue").innerHTML="<span style='width: 100%; float: left; display: inline-block; font-weight: bold; color: #999;'><span>Action:&nbsp;&nbsp;Object</span><span style='float: right;'>Coords</span></span>";
getElem("mods_farming_total").innerHTML=Mods.Farming.sortedQueue.length};DEFAULT_FUNCTIONS.spore=function(b,c){Mods.Farming.performActivity(b)?(Mods.Farming.oldDefault.spore(b,c),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},100)):(Mods.Farming.findExtendedPath(b),0<players[0].path.length&&!players[0].temp.busy&&moveInPath(players[0]))};DEFAULT_FUNCTIONS.water=function(b,c){var f=Inventory.get_watering_can_id(players[0]),k=Fungiculture.next_action(b);k&&"Harvest"==k.action||
!f||0!==players[0].temp.water?Mods.Farming.performActivity(b)?(Mods.Farming.oldDefault.water(b,c),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},100)):(Mods.Farming.findExtendedPath(b),0<players[0].path.length&&!players[0].temp.busy&&moveInPath(players[0])):Mods.Farming.pauseQueue(!1,!1,!0)};DEFAULT_FUNCTIONS.rake=function(b,c){Mods.Farming.performActivity(b)?(Mods.Farming.oldDefault.rake(b,c),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},100)):
(Mods.Farming.findExtendedPath(b),0<players[0].path.length&&!players[0].temp.busy&&moveInPath(players[0]))};DEFAULT_FUNCTIONS.seed=function(b,c){Mods.Farming.performActivity(b)?(Mods.Farming.oldDefault.seed(b,c),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},100)):(Mods.Farming.findExtendedPath(b),0<players[0].path.length&&!players[0].temp.busy&&moveInPath(players[0]))};DEFAULT_FUNCTIONS.harvest=function(b,c,f){var k=Inventory.get_watering_can_id(players[0]);k&&0===players[0].temp.water&&
2807!=k?Mods.Farming.pauseQueue(!1,!1,!0):Mods.Farming.performActivity(b)?(Mods.Farming.oldDefault.harvest(b,c,f),Timers.set("farming_queue_active",function(){Mods.Farming.checkQueue(0)},100)):(Mods.Farming.findExtendedPath(b),0<players[0].path.length&&!players[0].temp.busy&&moveInPath(players[0]))};Mods.Farming.performActivity=function(b){if(Mods.Farming.shouldDisplayQueue()){var c=obj_g(b);if(!building_mode_enabled&&(!0!==Mods.Farming.queuePaused||Mods.Farming.ctrlPressed)&&c.id&&c.params&&(void 0!==
c.params.rotate||753==c.params.carpentry_item_id))if(void 0==Mods.Farming.queue[c.i+"_"+c.j+"_"+c.b_i]&&Mods.Farming.addToQueue(c),!Mods.Farming.ctrlPressed&&1!==Mods.Farming.queuePaused&&0<Mods.Farming.sortedQueue.length){b=Mods.Farming.queue[Mods.Farming.sortedQueue[0]];b=obj_g(on_map[current_map][b.i][b.j]);if(c.id==selected_object.id)return!0;b&&(selected=selected_object=b);"object"==typeof selected_object&&selected_object.activities&&selected_object.activities[0]&&0<selected_object.activities[0].length&&
ActionMenu.act(0);if(b.id!=c.id)return!1}else return!1;else if(!(c&&c.id&&c.params)||void 0===c.params.rotate&&753!=c.params.carpentry_item_id)return!1}return!0};Mods.Farming.inventoryEquip=function(b,c,f){779==c&&Player.is_player_map(current_map)&&(selected=selected_object=obj_g(on_map[current_map][9][10]),Mods.Farming.findExtendedPath(selected),Mods.Farming.pauseQueue(null,null,!0),0<players[0].path.length&&moveInPath(players[0]));return!1};Mods.Farming.isSeed=function(b){return-1<item_base[b].name.indexOf("Seed")||
"Bag of Worms"==item_base[b].name?!0:!1};Mods.Farming.isSpore=function(b){return-1<item_base[b].name.indexOf("Spore")?!0:!1};dragElement(document.getElementById("mods_farming_holder"),!0);Mods.timestamp("farming")};
Load.gearmd=function(){modOptions.gearmd.time=timestamp();Mods.Gearmd={};Gearmd=Mods.Gearmd;Gearmd.temp=function(){clearGear=function(){null!==getElem("gear_inv_holder")&&document.body.removeChild(getElem("gear_inv_holder"))};clearGear();createElem("div",wrapper,{id:"gear_inv_holder",className:"menu",title:_tm("Click and drag to move this window"),style:"position: absolute; top: 100px; width: 190px; left: 45px; float: left; z-index: 999; display: none;"});createElem("div","gear_inv_holder",{id:"gear_inv_set",
style:"position: relative; float: left; width: 108px; height: 100%; display: inline-block;"});createElem("div","gear_inv_holder",{id:"gear_inv_stats",style:"position: relative; float: right; width: 70px; padding: 0px 8px 0px 4px; font-size: 10px;"});createElem("div","gear_inv_holder",{id:"chest_withdraw_preset_setter",className:"circle_btn",style:"position: absolute;right: 0px;bottom: 0px;display:block;",innerHTML:'<div id="chest_withdraw_preset_setter_img" style="width: 24px; height: 24px; top: 0px; position: absolute; left: 1px;">&nbsp;</div>'});
var b=document.getElementById("chest_withdraw_preset_setter_img");b.style.background="url('"+IMAGE_SHEET[IMAGE_SHEET.ACTIONS].url+"') -48px -144px no-repeat scroll transparent";b.style.backgroundSize=.75*IMAGE_SHEET[IMAGE_SHEET.ACTIONS].img[0].width+"px "+.75*IMAGE_SHEET[IMAGE_SHEET.ACTIONS].img[0].height+"px";createElem("select","gear_inv_holder",{id:"gear_presets_select",title:_ti("Save an equipment preset to a slot"),"data-title":"Save an equipment preset to a slot",style:"display: block;position: absolute;right: 0px;bottom: 0px;opacity: 0;width: 26px;height: 26px;",
onmouseover:"javascript:addClass(document.getElementById('chest_withdraw_preset_setter'), 'hover')",onmouseout:"javascript:removeClass(document.getElementById('chest_withdraw_preset_setter'), 'hover')",onchange:"javascript:Chest.gear.save_to_slot(this.value);",onblur:"javascript:mobileScreenFix();",onclick:"javascript:Chest.gear.initialize_presets_select();",innerHTML:'<option value="0">Slot 1</option><option disabled value="1">(Locked) Upgrade to premium</option><option disabled value="2">(Locked) Upgrade to premium</option><option disabled value="3">(Locked) Upgrade to premium</option><option disabled value="4">(Locked) Upgrade to premium</option><option disabled value="5">(Locked) Upgrade to premium</option><option value="6" selected>Cancel</option>'});
createElem("div","gear_inv_set",{style:"position: relative; float: left; width: 100%; height: 20%; display: inline-block; padding: 0px 4px 4px; font-size: 10px;",innerHTML:"<span id='gear_inv_equipped' class='link pointer' style='font-weight: bold' onmouseover='javascript: this.style.color=&apos;#3BEEEE&apos;' onmouseout='javascript: this.style.color=&apos;#FFF&apos;' onclick='javascript: Gearmd.toggleEquipped(); Gearmd.updateEquipped();'>"+_tmi("Equipped")+"</span><div class='link pointer' style='float: right; font-size: 10px; margin-right: 8px; font-weight: bold; display: block;' onmouseover='javascript: this.style.color=&apos;#3BEEEE&apos;' onmouseout='javascript: this.style.color=&apos;#FFF&apos;' onclick='javascript: Gearmd.hideStats(this);'>&lt;&lt;</div>"});
createElem("div","gear_inv_stats",{id:"gear_stats_holder",style:"position: relative; width: 100%; display: inline-block; padding: 0px 4px 4px;",innerHTML:"<span style='color: yellow; padding-bottom: 4px; width: 100%; display: inline-block;'>"+_ti("Bonuses")+"<span class='common_link close' style='float: right;' onclick='javascript: Gearmd.showEquipment(getElem(&apos;inv_name&apos;).childNodes[0]);'></span></span>"});createElem("div","gear_inv_stats",{id:"gear_canvas_holder",style:"position: relative; float: left; bottom: -6px; right: 0px; width: 66px; height: 66px; background: url('"+
cdn_url+"sheet/equipment_stand.gif') no-repeat transparent;background-position: bottom;"});createElem("canvas","gear_canvas_holder",{id:"gear_inv_canvas",width:"64px",height:"64px",style:"width: 64px;height: 64px;margin-top: -8px;"});var b="Aim Power Armor Magic Archery Speed".split(" "),c;for(c in b){var f=b[c],k=_tmi(f,{ns:"interface"}),f="gear_stats_"+f.toLowerCase();createElem("span","gear_stats_holder",{style:"color: #FFF; display: block; width: 100%; padding-bottom: 4px; font-size: 10px;",innerHTML:k+
"<span id = '"+f+"' style = 'color: #3BEEEE; font-size: 10px; float: right;'> 0 </span>"})}createElem("div","gear_inv_set",{id:"gear_inv_area",className:"inv_area",style:"margin-top:14px;height:144px;"});b="neck helm cape shield chest weapon ring legs gloves pet boots pop".split(" ");for(c in b)createElem("div","gear_inv_area",{id:"gear_inv_"+b[c],className:"inv_item",style:"font-size: 10px; color: #FFF; text-shadow: 1px 1px #000, 1px -1px #000, -1px 1px #000, -1px -1px #000; letter-spacing: 1px; text-align: center;",
onmouseover:"javascript: this.innerHTML='"+capitaliseFirstLetter(_tm(b[c]))+"'",onmouseout:"javascript: this.innerHTML='&nbsp;'",onclick:"javascript: Gearmd.changeTryOn(false, false, this);",title:"pop"==b[c]?_tn("Potion of Preservation"):capitaliseFirstLetter(_tm(b[c])),innerHTML:"&nbsp;"});c=LStorage.get("tryGear");c="string"==typeof c?JSON.parse(c):{head:players[0].params.d_head,facial_hair:players[0].params.d_facial_hair,body:players[0].params.d_body,pants:players[0].params.d_pants,cape:!1,left_hand:!1,
right_hand:!1,shield:!1,helmet:!1,boots:!1,weapon:!1,hands:!1};Gearmd.tryGear=c;c=LStorage.get("showGear");c="string"==typeof c?JSON.parse(c):{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,14:!1};Gearmd.showGear=c;Gearmd.equipped=!0;Gearmd.tryEmptyReplace=!1;getElem("gear_inv_equipped").setAttribute("title",_ti("Click here to toggle between currently equipped items and your Vanity Set.")+"\n"+_ti("Use the Wiki and search under Items to Try On items in your Vanity Set."))};getElem("inventory").addEventListener("mouseup",
function(b){Timers.set("update_equipped",function(){Mods.Gearmd.updateEquipped()},1E3)});Gearmd.toggleEquipped=function(b){b="boolean"===typeof b?b:0;var c=getElem("gear_inv_equipped"),f=document.getElementById("chest_withdraw_preset_setter"),k=document.getElementById("gear_presets_select");Gearmd.equipped&&0===b||!1===b?(Gearmd.equipped=!1,c.innerHTML=_tmi("Vanity Set"),f.style.display="none",k.style.display="none"):Gearmd.equipped&&!0!==b||(Gearmd.equipped=!0,c.innerHTML=_tmi("Equipped"),f.style.display=
"block",k.style.display="block")};Gearmd.hideStats=function(b){var c=getElem("gear_inv_stats"),f=c.style.display;getElem("gear_inv_holder");""===f||void 0==f||null===f?(c.style.display="none",b.textContent=">>"):(c.style.display="",b.textContent="<<");Gearmd.setCanvasSize()};Gearmd.showEquipment=function(b,c){var f=getElem("gear_inv_holder");b||getElem("inv_name");""!=f.style.display||c?(dragFormOpened(f),f.style.display=""):f.style.display="None";Gearmd.updateEquipped()};Gearmd.getPlayerOutfit=function(b){var c=
{},f;for(f in Gearmd.tryGear)c[f]=players[0].params["d_"+f]?players[0].params["d_"+f]:!Gearmd.equipped||0<Gearmd&&("boolean"===typeof Gearmd.tryGear[f]||"head"===f||"facial_hair"===f||"body"===f||"pants"===f)?Gearmd.tryGear[f]:0;for(var k in c){if(0<Gearmd.tryGear[k]&&!b){var g=item_base[Gearmd.tryGear[k]];g.params&&"object"===typeof g.params.visible&&"undefined"!=typeof g.params.visible[k]&&(c[k]=g.params.visible[k],"undefined"!=typeof g.params.visible.left_hand&&(c.left_hand=g.params.visible.left_hand),
"undefined"!=typeof g.params.visible.right_hand&&(c.right_hand=g.params.visible.right_hand))}else if(!0===c[k]||b||Gearmd.tryEmptyReplace)for(f=0;f<players[0].temp.inventory.length;f++)item=players[0].temp.inventory[f],item.selected&&(g=item_base[item.id],g.params&&"object"==typeof g.params.visible&&"undefined"!=typeof g.params.visible[k]&&(c[k]=g.params.visible[k]));0<c[k]||(c[k]=0)}return c.head+" "+c.facial_hair+" "+c.body+" "+c.pants+" "+c.cape+" "+c.left_hand+" "+c.right_hand+" "+c.shield+" "+
c.weapon+" "+c.helmet+" "+c.boots+" "+c.hands};Gearmd.displayPlayer=function(b){b=getElem("gear_inv_canvas").getContext("2d");Draw.clear(b);b.drawImage(getBodyImg(Gearmd.getPlayerOutfit(Gearmd.equipped)),0,0,64,54,5,10,64,54)};getElem("inv_name").innerHTML='<div class="rect_circle_btn" id="gear_inv_btn" onclick="javascript: Gearmd.showEquipment(this);"><div id="" class="" style="background: url(\''+IMAGE_SHEET[IMAGE_SHEET.ACTIONS].url+"') -64px -192px no-repeat scroll transparent;width: 32px;height: 32px;top: -3px;position: absolute;left: -1px;\">&nbsp;</div></div>";
getElem("gear_inv_btn").setAttribute("title",_tm("Open the gear menu from here."));Mods.Gearmd.inventoryClick=function(b){Gearmd.updateEquipped()};Gearmd.showEquipped=function(b){return b?!0:Gearmd.equipped};Gearmd.updateEquipped=function(){var b=Gearmd.equipped,c={0:"helm",1:"cape",2:"chest",3:"shield",4:"weapon",5:"gloves",6:"boots",7:"neck",8:"ring",11:"legs",12:"pet",14:"pop"},f;for(f in c){var k=getElem("gear_inv_"+c[f]);null!==k&&(k.style.background="transparent",k.setAttribute("item_id","false"))}if(b){f=
0;for(var g=players[0].temp.inventory.length;f<g;f++){var m=players[0].temp.inventory[f];m.selected&&(k=item_base[m.id],m=k.params.slot,c[m]&&(m=getElem("gear_inv_"+c[m]),m.style.background=Items.get_background(k.b_i),m.setAttribute("item_id",k.b_i)))}}else for(f in c)if(m=Gearmd.showGear[f],!1!==m){if(!0===m)for(g in players[0].temp.inventory)if(k=players[0].temp.inventory[g],k.selected&&item_base[k.id].params.slot==f){m=k.id;break}if(item_base[m]||m.id&&item_base[m.id])k=m.id?item_base[m.id]:item_base[m],
m=f,m=getElem("gear_inv_"+c[m]),m.style.background=Items.get_background(k.b_i),m.setAttribute("item_id",k.b_i)}Gearmd.updateStats(b);Gearmd.displayPlayer(b)};Gearmd.updateStats=function(b){var c={aim:0,power:0,armor:0,magic:0,archery:0,speed:0};if(b)for(var f=0;f<players[0].temp.inventory.length;f++){if(b=players[0].temp.inventory[f],b.selected){b=item_base[b.id];for(var k in c)void 0!==b.params[k]&&(c[k]+=b.params[k])}}else for(f in Mods.Gearmd.showGear)if(b=Mods.Gearmd.showGear[f],0<b)for(k in b=
item_base[b],c)void 0!==b.params[k]&&(c[k]+=b.params[k]);for(k in c)getElem("gear_stats_"+k).innerHTML=c[k];60<c.speed&&(getElem("gear_stats_speed").innerHTML=c.speed+"(60)")};Gearmd.changeTryOn=function(b,c,f){var k={0:"helm",1:"cape",2:"chest",3:"shield",4:"weapon",5:"gloves",6:"boots",7:"neck",8:"ring",11:"legs",12:"pet",14:"pop"},g={helm:"helmet",gloves:"hands",pop:"right_hand",chest:"body",legs:"pants"};if(c&&(void 0==item_base[c]||void 0==item_base[c].params.slot||void 0==k[item_base[c].params.slot])||
c&&0!=item_base[c].b_t&&2!=item_base[c].b_t&&4!=item_base[c].b_t&&5!=item_base[c].b_t&&7!=item_base[c].b_t&&9!=item_base[c].b_t)return!1;if(b){if(f=item_base[c],b=f.params.slot,void 0!==b&&void 0!==k[b]){Gearmd.showGear[b]=c;g[k[b]]?Gearmd.tryGear[g[k[b]]]=c:Gearmd.tryGear[k[b]]=c;if("undefined"!==typeof f.params.disable_slot){var m=f.params.disable_slot;Gearmd.showGear[m]=!1;g[k[m]]?Gearmd.tryGear[g[k[m]]]=!1:Gearmd.tryGear[k[m]]=!1}for(var n in Gearmd.showGear)f=Gearmd.showGear[n],0<f&&"undefined"!=
typeof item_base[f].params&&(m=item_base[f].params.slot,item_base[f].params.disable_slot===b&&(Gearmd.showGear[m]=!1,g[k[m]]?Gearmd.tryGear[g[k[m]]]=!1:Gearmd.tryGear[k[m]]=!1))}}else if(Gearmd.equipped){b=f;b=b.id||b;b=b.replace("gear_inv_","");for(m in k)if(k[m]==b){b=m;break}if(0<=b)for(m=0;m<players[0].temp.inventory.length;m++)if(f=players[0].temp.inventory[m],f.selected&&(f=item_base[f.id],f.params.slot==b)){left_click_cancel=!1;inventoryClick(m);break}}else{b=f;b=b.id||b;b=b.replace("gear_inv_",
"");for(m in k)if(k[m]==b){b=m;break}Gearmd.showGear[b]=!1;g[k[b]]?Gearmd.tryGear[g[k[b]]]=!1:Gearmd.tryGear[k[b]]=!1}LStorage.set("tryGear",JSON.stringify(Gearmd.tryGear));LStorage.set("showGear",JSON.stringify(Gearmd.showGear));Gearmd.updateEquipped();c&&Gearmd.toggleEquipped(!1);c&&Gearmd.showEquipment(!1,!0)};Gearmd.setCanvasSize=function(){for(var b=getElem("gear_inv_stats"),c=b.style.display,f=getElem("gear_inv_holder"),k=0,g="Aim Power Armor Magic Archery Speed".split(" "),m=0;m<g.length;m++)k=
Math.max(k,_ti(g[m]).length);""===c||void 0==c||null===c?15<=k?(f.style.width="225px",b.style.width="105px"):10<=k?(f.style.width="215px",b.style.width="95px"):(f.style.width="190px",b.style.width="70px"):f.style.width="108px"};Gearmd.temp();Gearmd.updateEquipped();dragElement(document.getElementById("gear_inv_holder"),!0);Mods.timestamp("gearmd")};
Mods.elemClass=function(b,c,f){if("object"===typeof f){if("undefined"===typeof f.className)return!1}else if("undefined"!=typeof c){if(f=getElem(c),"object"!==typeof f||"undefined"===typeof f.className)return!1}else return!1;addClass(f,b);for(var k in f.childNodes)"object"===typeof f.childNodes[k]&&Mods.elemClass(b,null,f.childNodes[k])};
Mods.confirmClass=function(b,c,f){if("object"===typeof f){if("undefined"===typeof f.className)return!1}else if("undefined"!=typeof c){if(ClassValue=0,f=getElem(c),"object"!==typeof f||"undefined"===typeof f.className)return!1}else return!1;!hasClass(f,b)&&ClassValue++;for(var k in f.childNodes)"object"===typeof f.childNodes[k]&&Mods.confirmClass(b,null,f.childNodes[k])};Mods.initialize();Mods.loadModOptions();Mods.initializeOptionsMenu();
getElem("mods_link").innerHTML=_tmi("wiki",{fn:"capitaliseFirstLetter"})+" &amp; "+_tmi("mods menu",{fn:"capitaliseFirstLetter"});getElem("mods_link").setAttribute("onclick"," javascript : FormHelper.get_form('mods'); BigMenu.show(-1);");getElem("mods_link").style.display="";quiet_mod_load?(Mods.loadSelectedMods(),FormHelper.hide_form("mods")):Mods.consoleLog("Ready: RPG MO Mods Pack version "+Mods.version);
